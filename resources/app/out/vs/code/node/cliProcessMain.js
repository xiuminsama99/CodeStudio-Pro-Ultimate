/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var ue=["require","exports","vs/base/common/lifecycle","vs/base/common/types","vs/base/common/event","vs/nls","vs/platform/log/common/log","vs/base/common/errors","vs/base/common/async","vs/platform/files/common/files","vs/platform/instantiation/common/instantiation","vs/base/common/uri","vs/base/common/platform","vs/base/common/buffer","vs/base/common/network","vs/base/common/path","vs/base/common/resources","vs/platform/environment/common/environment","vs/platform/telemetry/common/telemetry","vs/base/common/arrays","vs/platform/extensionManagement/common/extensionManagement","vs/base/common/cancellation","vs/platform/extensions/common/extensions","vs/platform/uriIdentity/common/uriIdentity","vs/platform/userDataProfile/common/userDataProfile","vs/base/common/map","vs/platform/extensionManagement/common/extensionManagementUtil","vs/base/common/objects","vs/base/common/uuid","vs/base/node/pfs","vs/platform/configuration/common/configuration","vs/base/common/strings","fs","vs/platform/product/common/productService","vs/base/common/json","os","vs/base/common/process","vs/platform/registry/common/platform","vs/base/common/errorMessage","vs/platform/policy/common/policy","vs/platform/configuration/common/configurationRegistry","vs/platform/telemetry/common/telemetryUtils","vs/platform/extensionManagement/common/extensionsProfileScannerService","vs/base/common/hash","vs/platform/extensions/common/extensionValidator","vs/base/common/semver/semver","vs/platform/request/common/request","vs/base/common/stream","vs/base/common/marshalling","vs/base/common/ternarySearchTree","vs/base/node/zip","vs/platform/instantiation/common/descriptors","vs/platform/files/common/watcher","vs/platform/extensionManagement/common/abstractExtensionManagementService","vs/platform/extensionManagement/common/extensionsScannerService","vs/base/common/decorators","vs/base/common/processes","vs/base/common/severity","vs/base/node/processes","vs/base/parts/ipc/common/ipc","child_process","vs/platform/download/common/download","vs/platform/files/common/io","vs/base/common/extpath","vs/platform/instantiation/common/serviceCollection","vs/base/common/iterator","vs/platform/configuration/common/configurationModels","vs/platform/remote/common/remoteHosts","vs/platform/languagePacks/common/languagePacks","vs/platform/state/node/stateService","vs/platform/telemetry/common/commonProperties","vs/platform/extensionManagement/node/extensionSignatureVerificationService","vs/platform/extensionManagement/node/extensionManagementUtil","vs/platform/storage/common/storage","vs/base/common/amd","vs/base/common/assert","vs/base/common/jsonFormatter","vs/base/common/jsonEdit","vs/base/common/jsonSchema","vs/base/common/numbers","vs/base/common/skipList","vs/base/common/console","vs/amdX","vs/base/node/macAddress","vs/base/node/id","vs/base/node/powershell","vs/base/node/shell","vs/base/parts/ipc/node/ipc.cp","vs/base/parts/storage/common/storage","vs/base/common/date","vs/base/common/jsonErrorMessages","vs/platform/contextkey/common/scanner","vs/base/common/charCode","vs/platform/environment/common/environmentService","vs/platform/environment/node/userDataPath","vs/platform/environment/node/environmentService","vs/platform/extensionManagement/common/extensionNls","vs/platform/extensions/common/extensionsApiProposals","vs/platform/instantiation/common/extensions","vs/platform/instantiation/common/graph","vs/platform/contextkey/common/contextkey","vs/platform/files/node/watcher/baseWatcher","vs/platform/files/node/watcher/nodejs/nodejsWatcher","vs/platform/files/node/watcher/nodejs/nodejsClient","vs/platform/files/node/watcher/watcherClient","vs/platform/instantiation/common/instantiationService","vs/platform/files/common/diskFileSystemProvider","vs/platform/files/common/fileService","vs/base/common/performance","vs/platform/files/node/diskFileSystemProvider","vs/platform/log/common/logService","vs/platform/log/node/spdlogLog","vs/platform/log/node/loggerService","vs/platform/policy/common/filePolicyService","vs/platform/policy/node/nativePolicyService","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/platform/configuration/common/configurations","vs/platform/configuration/common/configurationService","vs/platform/extensionManagement/node/extensionsManifestCache","vs/platform/download/common/downloadService","vs/platform/request/node/proxy","url","vs/platform/shell/node/shellEnv","vs/platform/state/node/state","vs/platform/extensionManagement/common/extensionManagementCLI","vs/platform/extensionManagement/node/extensionsWatcher","vs/platform/languagePacks/node/languagePacks","vs/platform/telemetry/common/1dsAppender","vs/platform/telemetry/common/telemetryService","vs/platform/product/common/product","vs/platform/telemetry/node/1dsAppender","vs/platform/telemetry/node/telemetry","vs/platform/telemetry/node/telemetryUtils","vs/platform/uriIdentity/common/uriIdentityService","vs/platform/userData/common/fileUserDataProvider","vs/platform/workspace/common/workspace","vs/platform/extensionManagement/node/extensionLifecycle","vs/platform/extensionManagement/node/extensionDownloader","vs/platform/extensionManagement/node/extensionManagementService","vs/platform/extensionManagement/node/extensionsProfileScannerService","vs/platform/extensionManagement/node/extensionsScannerService","vs/platform/externalServices/common/serviceMachineId","vs/platform/externalServices/common/marketplace","vs/platform/extensionManagement/common/extensionGalleryService","vs/platform/userDataProfile/node/userDataProfile","vs/platform/request/node/requestService","vs/base/common/lazy","vs/base/common/marshallingIds","path","vs/base/common/glob","vs/platform/files/node/watcher/nodejs/nodejsWatcherLib","vs/base/common/linkedList","vs/platform/environment/node/argvHelper","crypto","https","vs/base/common/stopwatch","zlib","vs/code/node/cliProcessMain","vs/base/node/unc"],he=function(Q){for(var e=[],S=0,P=Q.length;S<P;S++)e[S]=ue[Q[S]];return e};define(ue[74],he([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$S=e.LoaderEventType=e.$R=void 0,e.$R=!1;var S;(function(v){v[v.LoaderAvailable=1]="LoaderAvailable",v[v.BeginLoadingScript=10]="BeginLoadingScript",v[v.EndLoadingScriptOK=11]="EndLoadingScriptOK",v[v.EndLoadingScriptError=12]="EndLoadingScriptError",v[v.BeginInvokeFactory=21]="BeginInvokeFactory",v[v.EndInvokeFactory=22]="EndInvokeFactory",v[v.NodeBeginEvaluatingScript=31]="NodeBeginEvaluatingScript",v[v.NodeEndEvaluatingScript=32]="NodeEndEvaluatingScript",v[v.NodeBeginNativeRequire=33]="NodeBeginNativeRequire",v[v.NodeEndNativeRequire=34]="NodeEndNativeRequire",v[v.CachedDataFound=60]="CachedDataFound",v[v.CachedDataMissed=61]="CachedDataMissed",v[v.CachedDataRejected=62]="CachedDataRejected",v[v.CachedDataCreated=63]="CachedDataCreated"})(S||(e.LoaderEventType=S={}));class P{static get(){const k=new Map,C=new Map,R=new Map,w=new Map;function a(p,I){p.has(I.detail)||p.set(I.detail,-I.timestamp)}function f(p,I){const b=p.get(I.detail);b&&(b>=0||p.set(I.detail,b+I.timestamp))}let c=[];typeof Q=="function"&&typeof Q.getStats=="function"&&(c=Q.getStats().slice(0).sort((p,I)=>p.timestamp-I.timestamp));for(const p of c)switch(p.type){case S.BeginLoadingScript:a(k,p);break;case S.EndLoadingScriptOK:case S.EndLoadingScriptError:f(k,p);break;case S.BeginInvokeFactory:a(C,p);break;case S.EndInvokeFactory:f(C,p);break;case S.NodeBeginNativeRequire:a(R,p);break;case S.NodeEndNativeRequire:f(R,p);break;case S.NodeBeginEvaluatingScript:a(w,p);break;case S.NodeEndEvaluatingScript:f(w,p);break}let m=0;R.forEach(p=>m+=p);function d(p){const I=[];return p.forEach((b,h)=>I.push([h,b])),I}return{amdLoad:d(k),amdInvoke:d(C),nodeRequire:d(R),nodeEval:d(w),nodeRequireTotal:m}}static toMarkdownTable(k,C){let R="";const w=[];return k.forEach((a,f)=>{w[f]=a.length}),C.forEach(a=>{a.forEach((f,c)=>{typeof f>"u"&&(f=a[c]="-");const m=f.toString().length;w[c]=Math.max(m,w[c])})}),k.forEach((a,f)=>{R+=`| ${a+" ".repeat(w[f]-a.toString().length)} `}),R+=`|
`,k.forEach((a,f)=>{R+=`| ${"-".repeat(w[f])} `}),R+=`|
`,C.forEach(a=>{a.forEach((f,c)=>{typeof f<"u"&&(R+=`| ${f+" ".repeat(w[c]-f.toString().length)} `)}),R+=`|
`}),R}}e.$S=P}),define(ue[55],he([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$0h=P,e.$$h=v,e.$_h=k;function S(C){return(R,w,a)=>{let f=null,c=null;if(typeof a.value=="function"?(f="value",c=a.value):typeof a.get=="function"&&(f="get",c=a.get),!c)throw new Error("not supported");a[f]=C(c,w)}}function P(C,R,w){let a=null,f=null;if(typeof w.value=="function"?(a="value",f=w.value,f.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof w.get=="function"&&(a="get",f=w.get),!f)throw new Error("not supported");const c=`$memoize$${R}`;w[a]=function(...m){return this.hasOwnProperty(c)||Object.defineProperty(this,c,{configurable:!1,enumerable:!1,writable:!1,value:f.apply(this,m)}),this[c]}}function v(C,R,w){return S((a,f)=>{const c=`$debounce$${f}`,m=`$debounce$result$${f}`;return function(...d){this[m]||(this[m]=w?w():void 0),clearTimeout(this[c]),R&&(this[m]=R(this[m],...d),d=[this[m]]),this[c]=setTimeout(()=>{a.apply(this,d),this[m]=w?w():void 0},C)}})}function k(C,R,w){return S((a,f)=>{const c=`$throttle$timer$${f}`,m=`$throttle$result$${f}`,d=`$throttle$lastRun$${f}`,p=`$throttle$pending$${f}`;return function(...I){if(this[m]||(this[m]=w?w():void 0),(this[d]===null||this[d]===void 0)&&(this[d]=-Number.MAX_VALUE),R&&(this[m]=R(this[m],...I)),this[p])return;const b=this[d]+C;b<=Date.now()?(this[d]=Date.now(),a.apply(this,[this[m]]),this[m]=w?w():void 0):(this[p]=!0,this[c]=setTimeout(()=>{this[p]=!1,this[d]=Date.now(),a.apply(this,[this[m]]),this[m]=w?w():void 0},b-Date.now()))}})}}),define(ue[75],he([0,1,7]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=P,e.$ed=v,e.$fd=k,e.$gd=C,e.$hd=R,e.$id=w;function P(a,f){if(!a)throw new Error(f?`Assertion failed (${f})`:"Assertion Failed")}function v(a,f="Unreachable"){throw new Error(f)}function k(a,f="unexpected state"){if(!a)throw new S.$bb(`Assertion Failed: ${f}`)}function C(a){a||(0,S.$Y)(new S.$bb("Soft Assertion Failed"))}function R(a){if(!a()){debugger;a(),(0,S.$Y)(new S.$bb("Assertion Failed"))}}function w(a,f){let c=0;for(;c<a.length-1;){const m=a[c],d=a[c+1];if(!f(m,d))return!1;c++}return!0}}),define(ue[34],he([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParseOptions=e.ParseErrorCode=e.SyntaxKind=e.ScanError=void 0,e.$Wn=C,e.$Xn=c,e.$Yn=m,e.$Zn=d,e.$1n=p,e.$2n=I,e.$3n=b,e.$4n=h,e.$5n=g,e.$6n=O,e.$7n=y;var S;(function(i){i[i.None=0]="None",i[i.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",i[i.UnexpectedEndOfString=2]="UnexpectedEndOfString",i[i.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",i[i.InvalidUnicode=4]="InvalidUnicode",i[i.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",i[i.InvalidCharacter=6]="InvalidCharacter"})(S||(e.ScanError=S={}));var P;(function(i){i[i.OpenBraceToken=1]="OpenBraceToken",i[i.CloseBraceToken=2]="CloseBraceToken",i[i.OpenBracketToken=3]="OpenBracketToken",i[i.CloseBracketToken=4]="CloseBracketToken",i[i.CommaToken=5]="CommaToken",i[i.ColonToken=6]="ColonToken",i[i.NullKeyword=7]="NullKeyword",i[i.TrueKeyword=8]="TrueKeyword",i[i.FalseKeyword=9]="FalseKeyword",i[i.StringLiteral=10]="StringLiteral",i[i.NumericLiteral=11]="NumericLiteral",i[i.LineCommentTrivia=12]="LineCommentTrivia",i[i.BlockCommentTrivia=13]="BlockCommentTrivia",i[i.LineBreakTrivia=14]="LineBreakTrivia",i[i.Trivia=15]="Trivia",i[i.Unknown=16]="Unknown",i[i.EOF=17]="EOF"})(P||(e.SyntaxKind=P={}));var v;(function(i){i[i.InvalidSymbol=1]="InvalidSymbol",i[i.InvalidNumberFormat=2]="InvalidNumberFormat",i[i.PropertyNameExpected=3]="PropertyNameExpected",i[i.ValueExpected=4]="ValueExpected",i[i.ColonExpected=5]="ColonExpected",i[i.CommaExpected=6]="CommaExpected",i[i.CloseBraceExpected=7]="CloseBraceExpected",i[i.CloseBracketExpected=8]="CloseBracketExpected",i[i.EndOfFileExpected=9]="EndOfFileExpected",i[i.InvalidCommentToken=10]="InvalidCommentToken",i[i.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",i[i.UnexpectedEndOfString=12]="UnexpectedEndOfString",i[i.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",i[i.InvalidUnicode=14]="InvalidUnicode",i[i.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",i[i.InvalidCharacter=16]="InvalidCharacter"})(v||(e.ParseErrorCode=v={}));var k;(function(i){i.DEFAULT={allowTrailingComma:!0}})(k||(e.ParseOptions=k={}));function C(i,l=!1){let n=0;const s=i.length;let t="",r=0,o=P.Unknown,u=S.None;function $(Z){let te=0,ae=0;for(;te<Z;){const le=i.charCodeAt(n);if(le>=f._0&&le<=f._9)ae=ae*16+le-f._0;else if(le>=f.A&&le<=f.F)ae=ae*16+le-f.A+10;else if(le>=f.a&&le<=f.f)ae=ae*16+le-f.a+10;else break;n++,te++}return te<Z&&(ae=-1),ae}function N(Z){n=Z,t="",r=0,o=P.Unknown,u=S.None}function L(){const Z=n;if(i.charCodeAt(n)===f._0)n++;else for(n++;n<i.length&&a(i.charCodeAt(n));)n++;if(n<i.length&&i.charCodeAt(n)===f.dot)if(n++,n<i.length&&a(i.charCodeAt(n)))for(n++;n<i.length&&a(i.charCodeAt(n));)n++;else return u=S.UnexpectedEndOfNumber,i.substring(Z,n);let te=n;if(n<i.length&&(i.charCodeAt(n)===f.E||i.charCodeAt(n)===f.e))if(n++,(n<i.length&&i.charCodeAt(n)===f.plus||i.charCodeAt(n)===f.minus)&&n++,n<i.length&&a(i.charCodeAt(n))){for(n++;n<i.length&&a(i.charCodeAt(n));)n++;te=n}else u=S.UnexpectedEndOfNumber;return i.substring(Z,te)}function A(){let Z="",te=n;for(;;){if(n>=s){Z+=i.substring(te,n),u=S.UnexpectedEndOfString;break}const ae=i.charCodeAt(n);if(ae===f.doubleQuote){Z+=i.substring(te,n),n++;break}if(ae===f.backslash){if(Z+=i.substring(te,n),n++,n>=s){u=S.UnexpectedEndOfString;break}switch(i.charCodeAt(n++)){case f.doubleQuote:Z+='"';break;case f.backslash:Z+="\\";break;case f.slash:Z+="/";break;case f.b:Z+="\b";break;case f.f:Z+="\f";break;case f.n:Z+=`
`;break;case f.r:Z+="\r";break;case f.t:Z+="	";break;case f.u:{const de=$(4);de>=0?Z+=String.fromCharCode(de):u=S.InvalidUnicode;break}default:u=S.InvalidEscapeCharacter}te=n;continue}if(ae>=0&&ae<=31)if(w(ae)){Z+=i.substring(te,n),u=S.UnexpectedEndOfString;break}else u=S.InvalidCharacter;n++}return Z}function D(){if(t="",u=S.None,r=n,n>=s)return r=s,o=P.EOF;let Z=i.charCodeAt(n);if(R(Z)){do n++,t+=String.fromCharCode(Z),Z=i.charCodeAt(n);while(R(Z));return o=P.Trivia}if(w(Z))return n++,t+=String.fromCharCode(Z),Z===f.carriageReturn&&i.charCodeAt(n)===f.lineFeed&&(n++,t+=`
`),o=P.LineBreakTrivia;switch(Z){case f.openBrace:return n++,o=P.OpenBraceToken;case f.closeBrace:return n++,o=P.CloseBraceToken;case f.openBracket:return n++,o=P.OpenBracketToken;case f.closeBracket:return n++,o=P.CloseBracketToken;case f.colon:return n++,o=P.ColonToken;case f.comma:return n++,o=P.CommaToken;case f.doubleQuote:return n++,t=A(),o=P.StringLiteral;case f.slash:{const te=n-1;if(i.charCodeAt(n+1)===f.slash){for(n+=2;n<s&&!w(i.charCodeAt(n));)n++;return t=i.substring(te,n),o=P.LineCommentTrivia}if(i.charCodeAt(n+1)===f.asterisk){n+=2;const ae=s-1;let le=!1;for(;n<ae;){if(i.charCodeAt(n)===f.asterisk&&i.charCodeAt(n+1)===f.slash){n+=2,le=!0;break}n++}return le||(n++,u=S.UnexpectedEndOfComment),t=i.substring(te,n),o=P.BlockCommentTrivia}return t+=String.fromCharCode(Z),n++,o=P.Unknown}case f.minus:if(t+=String.fromCharCode(Z),n++,n===s||!a(i.charCodeAt(n)))return o=P.Unknown;case f._0:case f._1:case f._2:case f._3:case f._4:case f._5:case f._6:case f._7:case f._8:case f._9:return t+=L(),o=P.NumericLiteral;default:for(;n<s&&U(Z);)n++,Z=i.charCodeAt(n);if(r!==n){switch(t=i.substring(r,n),t){case"true":return o=P.TrueKeyword;case"false":return o=P.FalseKeyword;case"null":return o=P.NullKeyword}return o=P.Unknown}return t+=String.fromCharCode(Z),n++,o=P.Unknown}}function U(Z){if(R(Z)||w(Z))return!1;switch(Z){case f.closeBrace:case f.closeBracket:case f.openBrace:case f.openBracket:case f.doubleQuote:case f.colon:case f.comma:case f.slash:return!1}return!0}function G(){let Z;do Z=D();while(Z>=P.LineCommentTrivia&&Z<=P.Trivia);return Z}return{setPosition:N,getPosition:()=>n,scan:l?G:D,getToken:()=>o,getTokenValue:()=>t,getTokenOffset:()=>r,getTokenLength:()=>n-r,getTokenError:()=>u}}function R(i){return i===f.space||i===f.tab||i===f.verticalTab||i===f.formFeed||i===f.nonBreakingSpace||i===f.ogham||i>=f.enQuad&&i<=f.zeroWidthSpace||i===f.narrowNoBreakSpace||i===f.mathematicalSpace||i===f.ideographicSpace||i===f.byteOrderMark}function w(i){return i===f.lineFeed||i===f.carriageReturn||i===f.lineSeparator||i===f.paragraphSeparator}function a(i){return i>=f._0&&i<=f._9}var f;(function(i){i[i.nullCharacter=0]="nullCharacter",i[i.maxAsciiCharacter=127]="maxAsciiCharacter",i[i.lineFeed=10]="lineFeed",i[i.carriageReturn=13]="carriageReturn",i[i.lineSeparator=8232]="lineSeparator",i[i.paragraphSeparator=8233]="paragraphSeparator",i[i.nextLine=133]="nextLine",i[i.space=32]="space",i[i.nonBreakingSpace=160]="nonBreakingSpace",i[i.enQuad=8192]="enQuad",i[i.emQuad=8193]="emQuad",i[i.enSpace=8194]="enSpace",i[i.emSpace=8195]="emSpace",i[i.threePerEmSpace=8196]="threePerEmSpace",i[i.fourPerEmSpace=8197]="fourPerEmSpace",i[i.sixPerEmSpace=8198]="sixPerEmSpace",i[i.figureSpace=8199]="figureSpace",i[i.punctuationSpace=8200]="punctuationSpace",i[i.thinSpace=8201]="thinSpace",i[i.hairSpace=8202]="hairSpace",i[i.zeroWidthSpace=8203]="zeroWidthSpace",i[i.narrowNoBreakSpace=8239]="narrowNoBreakSpace",i[i.ideographicSpace=12288]="ideographicSpace",i[i.mathematicalSpace=8287]="mathematicalSpace",i[i.ogham=5760]="ogham",i[i._=95]="_",i[i.$=36]="$",i[i._0=48]="_0",i[i._1=49]="_1",i[i._2=50]="_2",i[i._3=51]="_3",i[i._4=52]="_4",i[i._5=53]="_5",i[i._6=54]="_6",i[i._7=55]="_7",i[i._8=56]="_8",i[i._9=57]="_9",i[i.a=97]="a",i[i.b=98]="b",i[i.c=99]="c",i[i.d=100]="d",i[i.e=101]="e",i[i.f=102]="f",i[i.g=103]="g",i[i.h=104]="h",i[i.i=105]="i",i[i.j=106]="j",i[i.k=107]="k",i[i.l=108]="l",i[i.m=109]="m",i[i.n=110]="n",i[i.o=111]="o",i[i.p=112]="p",i[i.q=113]="q",i[i.r=114]="r",i[i.s=115]="s",i[i.t=116]="t",i[i.u=117]="u",i[i.v=118]="v",i[i.w=119]="w",i[i.x=120]="x",i[i.y=121]="y",i[i.z=122]="z",i[i.A=65]="A",i[i.B=66]="B",i[i.C=67]="C",i[i.D=68]="D",i[i.E=69]="E",i[i.F=70]="F",i[i.G=71]="G",i[i.H=72]="H",i[i.I=73]="I",i[i.J=74]="J",i[i.K=75]="K",i[i.L=76]="L",i[i.M=77]="M",i[i.N=78]="N",i[i.O=79]="O",i[i.P=80]="P",i[i.Q=81]="Q",i[i.R=82]="R",i[i.S=83]="S",i[i.T=84]="T",i[i.U=85]="U",i[i.V=86]="V",i[i.W=87]="W",i[i.X=88]="X",i[i.Y=89]="Y",i[i.Z=90]="Z",i[i.ampersand=38]="ampersand",i[i.asterisk=42]="asterisk",i[i.at=64]="at",i[i.backslash=92]="backslash",i[i.bar=124]="bar",i[i.caret=94]="caret",i[i.closeBrace=125]="closeBrace",i[i.closeBracket=93]="closeBracket",i[i.closeParen=41]="closeParen",i[i.colon=58]="colon",i[i.comma=44]="comma",i[i.dot=46]="dot",i[i.doubleQuote=34]="doubleQuote",i[i.equals=61]="equals",i[i.exclamation=33]="exclamation",i[i.greaterThan=62]="greaterThan",i[i.lessThan=60]="lessThan",i[i.minus=45]="minus",i[i.openBrace=123]="openBrace",i[i.openBracket=91]="openBracket",i[i.openParen=40]="openParen",i[i.percent=37]="percent",i[i.plus=43]="plus",i[i.question=63]="question",i[i.semicolon=59]="semicolon",i[i.singleQuote=39]="singleQuote",i[i.slash=47]="slash",i[i.tilde=126]="tilde",i[i.backspace=8]="backspace",i[i.formFeed=12]="formFeed",i[i.byteOrderMark=65279]="byteOrderMark",i[i.tab=9]="tab",i[i.verticalTab=11]="verticalTab"})(f||(f={}));function c(i,l){const n=[],s=new Object;let t;const r={value:{},offset:0,length:0,type:"object",parent:void 0};let o=!1;function u($,N,L,A){r.value=$,r.offset=N,r.length=L,r.type=A,r.colonOffset=void 0,t=r}try{O(i,{onObjectBegin:($,N)=>{if(l<=$)throw s;t=void 0,o=l>$,n.push("")},onObjectProperty:($,N,L)=>{if(l<N||(u($,N,L,"property"),n[n.length-1]=$,l<=N+L))throw s},onObjectEnd:($,N)=>{if(l<=$)throw s;t=void 0,n.pop()},onArrayBegin:($,N)=>{if(l<=$)throw s;t=void 0,n.push(0)},onArrayEnd:($,N)=>{if(l<=$)throw s;t=void 0,n.pop()},onLiteralValue:($,N,L)=>{if(l<N||(u($,N,L,y($)),l<=N+L))throw s},onSeparator:($,N,L)=>{if(l<=N)throw s;if($===":"&&t&&t.type==="property")t.colonOffset=N,o=!1,t=void 0;else if($===","){const A=n[n.length-1];typeof A=="number"?n[n.length-1]=A+1:(o=!0,n[n.length-1]=""),t=void 0}}})}catch($){if($!==s)throw $}return{path:n,previousNode:t,isAtPropertyKey:o,matches:$=>{let N=0;for(let L=0;N<$.length&&L<n.length;L++)if($[N]===n[L]||$[N]==="*")N++;else if($[N]!=="**")return!1;return N===$.length}}}function m(i,l=[],n=k.DEFAULT){let s=null,t=[];const r=[];function o($){Array.isArray(t)?t.push($):s!==null&&(t[s]=$)}return O(i,{onObjectBegin:()=>{const $={};o($),r.push(t),t=$,s=null},onObjectProperty:$=>{s=$},onObjectEnd:()=>{t=r.pop()},onArrayBegin:()=>{const $=[];o($),r.push(t),t=$,s=null},onArrayEnd:()=>{t=r.pop()},onLiteralValue:o,onError:($,N,L)=>{l.push({error:$,offset:N,length:L})}},n),t[0]}function d(i,l=[],n=k.DEFAULT){let s={type:"array",offset:-1,length:-1,children:[],parent:void 0};function t($){s.type==="property"&&(s.length=$-s.offset,s=s.parent)}function r($){return s.children.push($),$}O(i,{onObjectBegin:$=>{s=r({type:"object",offset:$,length:-1,parent:s,children:[]})},onObjectProperty:($,N,L)=>{s=r({type:"property",offset:N,length:-1,parent:s,children:[]}),s.children.push({type:"string",value:$,offset:N,length:L,parent:s})},onObjectEnd:($,N)=>{s.length=$+N-s.offset,s=s.parent,t($+N)},onArrayBegin:($,N)=>{s=r({type:"array",offset:$,length:-1,parent:s,children:[]})},onArrayEnd:($,N)=>{s.length=$+N-s.offset,s=s.parent,t($+N)},onLiteralValue:($,N,L)=>{r({type:y($),offset:N,length:L,parent:s,value:$}),t(N+L)},onSeparator:($,N,L)=>{s.type==="property"&&($===":"?s.colonOffset=N:$===","&&t(N))},onError:($,N,L)=>{l.push({error:$,offset:N,length:L})}},n);const u=s.children[0];return u&&delete u.parent,u}function p(i,l){if(!i)return;let n=i;for(const s of l)if(typeof s=="string"){if(n.type!=="object"||!Array.isArray(n.children))return;let t=!1;for(const r of n.children)if(Array.isArray(r.children)&&r.children[0].value===s){n=r.children[1],t=!0;break}if(!t)return}else{const t=s;if(n.type!=="array"||t<0||!Array.isArray(n.children)||t>=n.children.length)return;n=n.children[t]}return n}function I(i){if(!i.parent||!i.parent.children)return[];const l=I(i.parent);if(i.parent.type==="property"){const n=i.parent.children[0].value;l.push(n)}else if(i.parent.type==="array"){const n=i.parent.children.indexOf(i);n!==-1&&l.push(n)}return l}function b(i){switch(i.type){case"array":return i.children.map(b);case"object":{const l=Object.create(null);for(const n of i.children){const s=n.children[1];s&&(l[n.children[0].value]=b(s))}return l}case"null":case"string":case"number":case"boolean":return i.value;default:return}}function h(i,l,n=!1){return l>=i.offset&&l<i.offset+i.length||n&&l===i.offset+i.length}function g(i,l,n=!1){if(h(i,l,n)){const s=i.children;if(Array.isArray(s))for(let t=0;t<s.length&&s[t].offset<=l;t++){const r=g(s[t],l,n);if(r)return r}return i}}function O(i,l,n=k.DEFAULT){const s=C(i,!1);function t(J){return J?()=>J(s.getTokenOffset(),s.getTokenLength()):()=>!0}function r(J){return J?ie=>J(ie,s.getTokenOffset(),s.getTokenLength()):()=>!0}const o=t(l.onObjectBegin),u=r(l.onObjectProperty),$=t(l.onObjectEnd),N=t(l.onArrayBegin),L=t(l.onArrayEnd),A=r(l.onLiteralValue),D=r(l.onSeparator),U=t(l.onComment),G=r(l.onError),Z=n&&n.disallowComments,te=n&&n.allowTrailingComma;function ae(){for(;;){const J=s.scan();switch(s.getTokenError()){case S.InvalidUnicode:le(v.InvalidUnicode);break;case S.InvalidEscapeCharacter:le(v.InvalidEscapeCharacter);break;case S.UnexpectedEndOfNumber:le(v.UnexpectedEndOfNumber);break;case S.UnexpectedEndOfComment:Z||le(v.UnexpectedEndOfComment);break;case S.UnexpectedEndOfString:le(v.UnexpectedEndOfString);break;case S.InvalidCharacter:le(v.InvalidCharacter);break}switch(J){case P.LineCommentTrivia:case P.BlockCommentTrivia:Z?le(v.InvalidCommentToken):U();break;case P.Unknown:le(v.InvalidSymbol);break;case P.Trivia:case P.LineBreakTrivia:break;default:return J}}}function le(J,ie=[],se=[]){if(G(J),ie.length+se.length>0){let T=s.getToken();for(;T!==P.EOF;){if(ie.indexOf(T)!==-1){ae();break}else if(se.indexOf(T)!==-1)break;T=ae()}}}function de(J){const ie=s.getTokenValue();return J?A(ie):u(ie),ae(),!0}function H(){switch(s.getToken()){case P.NumericLiteral:{let J=0;try{J=JSON.parse(s.getTokenValue()),typeof J!="number"&&(le(v.InvalidNumberFormat),J=0)}catch{le(v.InvalidNumberFormat)}A(J);break}case P.NullKeyword:A(null);break;case P.TrueKeyword:A(!0);break;case P.FalseKeyword:A(!1);break;default:return!1}return ae(),!0}function Y(){return s.getToken()!==P.StringLiteral?(le(v.PropertyNameExpected,[],[P.CloseBraceToken,P.CommaToken]),!1):(de(!1),s.getToken()===P.ColonToken?(D(":"),ae(),K()||le(v.ValueExpected,[],[P.CloseBraceToken,P.CommaToken])):le(v.ColonExpected,[],[P.CloseBraceToken,P.CommaToken]),!0)}function B(){o(),ae();let J=!1;for(;s.getToken()!==P.CloseBraceToken&&s.getToken()!==P.EOF;){if(s.getToken()===P.CommaToken){if(J||le(v.ValueExpected,[],[]),D(","),ae(),s.getToken()===P.CloseBraceToken&&te)break}else J&&le(v.CommaExpected,[],[]);Y()||le(v.ValueExpected,[],[P.CloseBraceToken,P.CommaToken]),J=!0}return $(),s.getToken()!==P.CloseBraceToken?le(v.CloseBraceExpected,[P.CloseBraceToken],[]):ae(),!0}function q(){N(),ae();let J=!1;for(;s.getToken()!==P.CloseBracketToken&&s.getToken()!==P.EOF;){if(s.getToken()===P.CommaToken){if(J||le(v.ValueExpected,[],[]),D(","),ae(),s.getToken()===P.CloseBracketToken&&te)break}else J&&le(v.CommaExpected,[],[]);K()||le(v.ValueExpected,[],[P.CloseBracketToken,P.CommaToken]),J=!0}return L(),s.getToken()!==P.CloseBracketToken?le(v.CloseBracketExpected,[P.CloseBracketToken],[]):ae(),!0}function K(){switch(s.getToken()){case P.OpenBracketToken:return q();case P.OpenBraceToken:return B();case P.StringLiteral:return de(!0);default:return H()}}return ae(),s.getToken()===P.EOF?n.allowEmptyContent?!0:(le(v.ValueExpected,[],[]),!1):K()?(s.getToken()!==P.EOF&&le(v.EndOfFileExpected,[],[]),!0):(le(v.ValueExpected,[],[]),!1)}function y(i){switch(typeof i){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(i){if(Array.isArray(i))return"array"}else return"null";return"object"}default:return"null"}}}),define(ue[76],he([0,1,34]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$8n=P,e.$9n=v,e.$0n=R,e.$$n=w;function P(a,f,c){let m,d,p,I,b;if(f){for(I=f.offset,b=I+f.length,p=I;p>0&&!w(a,p-1);)p--;let u=b;for(;u<a.length&&!w(a,u);)u++;d=a.substring(p,u),m=C(d,c)}else d=a,m=0,p=0,I=0,b=a.length;const h=R(c,a);let g=!1,O=0,y;c.insertSpaces?y=k(" ",c.tabSize||4):y="	";const i=(0,S.$Wn)(d,!1);let l=!1;function n(){return h+k(y,m+O)}function s(){let u=i.scan();for(g=!1;u===S.SyntaxKind.Trivia||u===S.SyntaxKind.LineBreakTrivia;)g=g||u===S.SyntaxKind.LineBreakTrivia,u=i.scan();return l=u===S.SyntaxKind.Unknown||i.getTokenError()!==S.ScanError.None,u}const t=[];function r(u,$,N){!l&&$<b&&N>I&&a.substring($,N)!==u&&t.push({offset:$,length:N-$,content:u})}let o=s();if(o!==S.SyntaxKind.EOF){const u=i.getTokenOffset()+p,$=k(y,m);r($,p,u)}for(;o!==S.SyntaxKind.EOF;){let u=i.getTokenOffset()+i.getTokenLength()+p,$=s(),N="";for(;!g&&($===S.SyntaxKind.LineCommentTrivia||$===S.SyntaxKind.BlockCommentTrivia);){const A=i.getTokenOffset()+p;r(" ",u,A),u=i.getTokenOffset()+i.getTokenLength()+p,N=$===S.SyntaxKind.LineCommentTrivia?n():"",$=s()}if($===S.SyntaxKind.CloseBraceToken)o!==S.SyntaxKind.OpenBraceToken&&(O--,N=n());else if($===S.SyntaxKind.CloseBracketToken)o!==S.SyntaxKind.OpenBracketToken&&(O--,N=n());else{switch(o){case S.SyntaxKind.OpenBracketToken:case S.SyntaxKind.OpenBraceToken:O++,N=n();break;case S.SyntaxKind.CommaToken:case S.SyntaxKind.LineCommentTrivia:N=n();break;case S.SyntaxKind.BlockCommentTrivia:g?N=n():N=" ";break;case S.SyntaxKind.ColonToken:N=" ";break;case S.SyntaxKind.StringLiteral:if($===S.SyntaxKind.ColonToken){N="";break}case S.SyntaxKind.NullKeyword:case S.SyntaxKind.TrueKeyword:case S.SyntaxKind.FalseKeyword:case S.SyntaxKind.NumericLiteral:case S.SyntaxKind.CloseBraceToken:case S.SyntaxKind.CloseBracketToken:$===S.SyntaxKind.LineCommentTrivia||$===S.SyntaxKind.BlockCommentTrivia?N=" ":$!==S.SyntaxKind.CommaToken&&$!==S.SyntaxKind.EOF&&(l=!0);break;case S.SyntaxKind.Unknown:l=!0;break}g&&($===S.SyntaxKind.LineCommentTrivia||$===S.SyntaxKind.BlockCommentTrivia)&&(N=n())}const L=i.getTokenOffset()+p;r(N,u,L),o=$}return t}function v(a,f){const c=JSON.stringify(a,void 0,f.insertSpaces?f.tabSize||4:"	");return f.eol!==void 0?c.replace(/\r\n|\r|\n/g,f.eol):c}function k(a,f){let c="";for(let m=0;m<f;m++)c+=a;return c}function C(a,f){let c=0,m=0;const d=f.tabSize||4;for(;c<a.length;){const p=a.charAt(c);if(p===" ")m++;else if(p==="	")m+=d;else break;c++}return Math.floor(m/d)}function R(a,f){for(let c=0;c<f.length;c++){const m=f.charAt(c);if(m==="\r")return c+1<f.length&&f.charAt(c+1)===`
`?`\r
`:"\r";if(m===`
`)return`
`}return a&&a.eol||`
`}function w(a,f){return`\r
`.indexOf(a.charAt(f))!==-1}}),define(ue[77],he([0,1,34,76]),function(Q,e,S,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$_n=v,e.$ao=k,e.$bo=C,e.$co=R,e.$do=w;function v(a,f,c){return k(a,f,void 0,c)}function k(a,f,c,m,d){const p=f.slice(),I=[],b=(0,S.$Zn)(a,I);let h,g;for(;p.length>0&&(g=p.pop(),h=(0,S.$1n)(b,p),h===void 0&&c!==void 0);)typeof g=="string"?c={[g]:c}:c=[c];if(h)if(h.type==="object"&&typeof g=="string"&&Array.isArray(h.children)){const O=(0,S.$1n)(h,[g]);if(O!==void 0)if(c===void 0){if(!O.parent)throw new Error("Malformed AST");const y=h.children.indexOf(O.parent);let i,l=O.parent.offset+O.parent.length;if(y>0){const n=h.children[y-1];i=n.offset+n.length}else i=h.offset+1,h.children.length>1&&(l=h.children[1].offset);return C(a,{offset:i,length:l-i,content:""},m)}else return C(a,{offset:O.offset,length:O.length,content:JSON.stringify(c)},m);else{if(c===void 0)return[];const y=`${JSON.stringify(g)}: ${JSON.stringify(c)}`,i=d?d(h.children.map(n=>n.children[0].value)):h.children.length;let l;if(i>0){const n=h.children[i-1];l={offset:n.offset+n.length,length:0,content:","+y}}else h.children.length===0?l={offset:h.offset+1,length:0,content:y}:l={offset:h.offset+1,length:0,content:y+","};return C(a,l,m)}}else if(h.type==="array"&&typeof g=="number"&&Array.isArray(h.children))if(c!==void 0){const O=`${JSON.stringify(c)}`;let y;if(h.children.length===0||g===0)y={offset:h.offset+1,length:0,content:h.children.length===0?O:O+","};else{const i=g===-1||g>h.children.length?h.children.length:g,l=h.children[i-1];y={offset:l.offset+l.length,length:0,content:","+O}}return C(a,y,m)}else{const O=g,y=h.children[O];let i;if(h.children.length===1)i={offset:h.offset+1,length:h.length-2,content:""};else if(h.children.length-1===O){const l=h.children[O-1],n=l.offset+l.length,s=h.offset+h.length;i={offset:n,length:s-2-n,content:""}}else i={offset:y.offset,length:h.children[O+1].offset-y.offset,content:""};return C(a,i,m)}else throw new Error(`Can not add ${typeof g!="number"?"index":"property"} to parent of type ${h.type}`);else return c===void 0?[]:C(a,{offset:b?b.offset:0,length:b?b.length:0,content:JSON.stringify(c)},m)}function C(a,f,c){let m=R(a,f),d=f.offset,p=f.offset+f.content.length;if(f.length===0||f.content.length===0){for(;d>0&&!(0,P.$$n)(m,d-1);)d--;for(;p<m.length&&!(0,P.$$n)(m,p);)p++}const I=(0,P.$8n)(m,{offset:d,length:p-d},c);for(let h=I.length-1;h>=0;h--){const g=I[h];m=R(m,g),d=Math.min(d,g.offset),p=Math.max(p,g.offset+g.length),p+=g.content.length-g.length}const b=a.length-(m.length-p)-d;return[{offset:d,length:b,content:m.substring(d,p)}]}function R(a,f){return a.substring(0,f.offset)+f.content+a.substring(f.offset+f.length)}function w(a,f){const c=f.slice(0).sort((d,p)=>{const I=d.offset-p.offset;return I===0?d.length-p.length:I});let m=a.length;for(let d=c.length-1;d>=0;d--){const p=c[d];if(p.offset+p.length<=m)a=R(a,p);else throw new Error("Overlapping edit");m=p.offset}return a}}),define(ue[78],he([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$8j=S;function S(k){let C=!1;const R=new Map,w=new Map;if(v(k,I=>{if(k===I)return!0;const b=JSON.stringify(I);if(b.length<30)return!0;const h=R.get(b);if(!h){const g={schemas:[I]};return R.set(b,g),w.set(I,g),!0}return h.schemas.push(I),w.set(I,h),C=!0,!1}),R.clear(),!C)return JSON.stringify(k);let f="$defs";for(;k.hasOwnProperty(f);)f+="_";const c=[];function m(I){return JSON.stringify(I,(b,h)=>{if(h!==I){const g=w.get(h);if(g&&g.schemas.length>1)return g.id||(g.id=`_${c.length}`,c.push(g.schemas[0])),{$ref:`#/${f}/${g.id}`}}return h})}const d=m(k),p=[];for(let I=0;I<c.length;I++)p.push(`"_${I}":${m(c[I])}`);return p.length?`${d.substring(0,d.length-1)},"${f}":{${p.join(",")}}}`:d}function P(k){return typeof k=="object"&&k!==null}function v(k,C){if(!k||typeof k!="object")return;const R=(...d)=>{for(const p of d)P(p)&&c.push(p)},w=(...d)=>{for(const p of d)if(P(p))for(const I in p){const b=p[I];P(b)&&c.push(b)}},a=(...d)=>{for(const p of d)if(Array.isArray(p))for(const I of p)P(I)&&c.push(I)},f=d=>{if(Array.isArray(d))for(const p of d)P(p)&&c.push(p);else P(d)&&c.push(d)},c=[k];let m=c.pop();for(;m;)C(m)&&(R(m.additionalItems,m.additionalProperties,m.not,m.contains,m.propertyNames,m.if,m.then,m.else,m.unevaluatedItems,m.unevaluatedProperties),w(m.definitions,m.$defs,m.properties,m.patternProperties,m.dependencies,m.dependentSchemas),a(m.anyOf,m.allOf,m.oneOf,m.prefixItems),f(m.items)),m=c.pop()}}),define(ue[79],he([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Pm=e.$Om=e.$Nm=void 0,e.$Lm=S,e.rot=P,e.$Qm=R;function S(w,a,f){return Math.min(Math.max(w,a),f)}function P(w,a){return(a+w%a)%a}class v{constructor(){this.a=0}getNext(){return this.a++}}e.$Nm=v;class k{constructor(){this.a=1,this.b=0}update(a){return this.b=this.b+(a-this.b)/this.a,this.a+=1,this.b}get value(){return this.b}}e.$Om=k;class C{constructor(a){this.a=0,this.b=0,this.c=[],this.d=0,this.e=0,this.c=new Array(a),this.c.fill(0,0,a)}update(a){const f=this.c[this.d];return this.c[this.d]=a,this.d=(this.d+1)%this.c.length,this.e-=f,this.e+=a,this.a<this.c.length&&(this.a+=1),this.b=this.e/this.a,this.b}get value(){return this.b}}e.$Pm=C;function R(w,a,f,c,m,d,p,I){const b=p-f,h=I-c,g=m-f,O=d-c,y=w-f,i=a-c,l=b*b+h*h,n=b*g+h*O,s=b*y+h*i,t=g*g+O*O,r=g*y+O*i,o=1/(l*t-n*n),u=(t*s-n*r)*o,$=(l*r-n*s)*o;return u>=0&&$>=0&&u+$<1}}),function(){function Q(v){const k=[];typeof v=="number"&&k.push("code/timeOrigin",v);function C(w){k.push(w,Date.now())}function R(){const w=[];for(let a=0;a<k.length;a+=2)w.push({name:k[a],startTime:k[a+1]});return w}return{mark:C,getMarks:R}}function e(){if(typeof performance=="object"&&typeof performance.mark=="function"&&!performance.nodeTiming)return typeof performance.timeOrigin!="number"&&!performance.timing?Q():{mark(v){performance.mark(v)},getMarks(){let v=performance.timeOrigin;typeof v!="number"&&(v=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);const k=[{name:"code/timeOrigin",startTime:Math.round(v)}];for(const C of performance.getEntriesByType("mark"))k.push({name:C.name,startTime:Math.round(v+C.startTime)});return k}};if(typeof process=="object"){const v=performance?.timeOrigin??Math.round((require.__$__nodeRequire||require)("perf_hooks").performance.timeOrigin);return Q(v)}else return console.trace("perf-util loaded in UNKNOWN environment"),Q()}function S(v){return v.MonacoPerformanceMarks||(v.MonacoPerformanceMarks=e()),v.MonacoPerformanceMarks}var P;typeof global=="object"?P=global:typeof self=="object"?P=self:P={},typeof define=="function"?define("vs/base/common/performance",[],function(){return S(P)}):typeof module=="object"&&typeof module.exports=="object"?module.exports=S(P):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),P.perf=S(P))}(),define(ue[56],he([0,1,12]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TerminateResponseCode=e.Source=void 0,e.$lm=k,e.$mm=C;var P;(function(R){R[R.stdout=0]="stdout",R[R.stderr=1]="stderr"})(P||(e.Source=P={}));var v;(function(R){R[R.Success=0]="Success",R[R.Unknown=1]="Unknown",R[R.AccessDenied=2]="AccessDenied",R[R.ProcessNotFound=3]="ProcessNotFound"})(v||(e.TerminateResponseCode=v={}));function k(R,...w){const a=w.reduce((m,d)=>(m[d]=!0,m),{}),f=[/^ELECTRON_.+$/,/^VSCODE_(?!(PORTABLE|SHELL_LOGIN|ENV_REPLACE|ENV_APPEND|ENV_PREPEND)).+$/,/^SNAP(|_.*)$/,/^GDK_PIXBUF_.+$/];Object.keys(R).filter(m=>!a[m]).forEach(m=>{for(let d=0;d<f.length;d++)if(m.search(f[d])!==-1){delete R[m];break}})}function C(R){R&&(delete R.DEBUG,S.$l&&delete R.LD_PRELOAD)}}),function(Q,e){if(typeof exports=="object"&&typeof module=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define("vs/base/common/semver/semver",[],e);else{var S=e();for(var P in S)(typeof exports=="object"?exports:Q)[P]=S[P]}}(typeof self<"u"?self:this,function(){return function(Q){var e={};function S(P){if(e[P])return e[P].exports;var v=e[P]={i:P,l:!1,exports:{}};return Q[P].call(v.exports,v,v.exports,S),v.l=!0,v.exports}return S.m=Q,S.c=e,S.d=function(P,v,k){S.o(P,v)||Object.defineProperty(P,v,{enumerable:!0,get:k})},S.r=function(P){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(P,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(P,"__esModule",{value:!0})},S.t=function(P,v){if(1&v&&(P=S(P)),8&v||4&v&&typeof P=="object"&&P&&P.__esModule)return P;var k=Object.create(null);if(S.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:P}),2&v&&typeof P!="string")for(var C in P)S.d(k,C,function(R){return P[R]}.bind(null,C));return k},S.n=function(P){var v=P&&P.__esModule?function(){return P.default}:function(){return P};return S.d(v,"a",v),v},S.o=function(P,v){return Object.prototype.hasOwnProperty.call(P,v)},S.p="",S(S.s=0)}([function(Q,e,S){(function(P){var v;e=Q.exports=T,v=typeof P=="object"&&P.env&&P.env.NODE_DEBUG&&/\bsemver\b/i.test(P.env.NODE_DEBUG)?function(){var V=Array.prototype.slice.call(arguments,0);V.unshift("SEMVER"),console.log.apply(console,V)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var k=256,C=Number.MAX_SAFE_INTEGER||9007199254740991,R=e.re=[],w=e.src=[],a=0,f=a++;w[f]="0|[1-9]\\d*";var c=a++;w[c]="[0-9]+";var m=a++;w[m]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var d=a++;w[d]="("+w[f]+")\\.("+w[f]+")\\.("+w[f]+")";var p=a++;w[p]="("+w[c]+")\\.("+w[c]+")\\.("+w[c]+")";var I=a++;w[I]="(?:"+w[f]+"|"+w[m]+")";var b=a++;w[b]="(?:"+w[c]+"|"+w[m]+")";var h=a++;w[h]="(?:-("+w[I]+"(?:\\."+w[I]+")*))";var g=a++;w[g]="(?:-?("+w[b]+"(?:\\."+w[b]+")*))";var O=a++;w[O]="[0-9A-Za-z-]+";var y=a++;w[y]="(?:\\+("+w[O]+"(?:\\."+w[O]+")*))";var i=a++,l="v?"+w[d]+w[h]+"?"+w[y]+"?";w[i]="^"+l+"$";var n="[v=\\s]*"+w[p]+w[g]+"?"+w[y]+"?",s=a++;w[s]="^"+n+"$";var t=a++;w[t]="((?:<|>)?=?)";var r=a++;w[r]=w[c]+"|x|X|\\*";var o=a++;w[o]=w[f]+"|x|X|\\*";var u=a++;w[u]="[v=\\s]*("+w[o]+")(?:\\.("+w[o]+")(?:\\.("+w[o]+")(?:"+w[h]+")?"+w[y]+"?)?)?";var $=a++;w[$]="[v=\\s]*("+w[r]+")(?:\\.("+w[r]+")(?:\\.("+w[r]+")(?:"+w[g]+")?"+w[y]+"?)?)?";var N=a++;w[N]="^"+w[t]+"\\s*"+w[u]+"$";var L=a++;w[L]="^"+w[t]+"\\s*"+w[$]+"$";var A=a++;w[A]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var D=a++;w[D]="(?:~>?)";var U=a++;w[U]="(\\s*)"+w[D]+"\\s+",R[U]=new RegExp(w[U],"g");var G=a++;w[G]="^"+w[D]+w[u]+"$";var Z=a++;w[Z]="^"+w[D]+w[$]+"$";var te=a++;w[te]="(?:\\^)";var ae=a++;w[ae]="(\\s*)"+w[te]+"\\s+",R[ae]=new RegExp(w[ae],"g");var le=a++;w[le]="^"+w[te]+w[u]+"$";var de=a++;w[de]="^"+w[te]+w[$]+"$";var H=a++;w[H]="^"+w[t]+"\\s*("+n+")$|^$";var Y=a++;w[Y]="^"+w[t]+"\\s*("+l+")$|^$";var B=a++;w[B]="(\\s*)"+w[t]+"\\s*("+n+"|"+w[u]+")",R[B]=new RegExp(w[B],"g");var q=a++;w[q]="^\\s*("+w[u]+")\\s+-\\s+("+w[u]+")\\s*$";var K=a++;w[K]="^\\s*("+w[$]+")\\s+-\\s+("+w[$]+")\\s*$";var J=a++;w[J]="(<|>)?=?\\s*\\*";for(var ie=0;ie<35;ie++)v(ie,w[ie]),R[ie]||(R[ie]=new RegExp(w[ie]));function se(V,_){if(V instanceof T)return V;if(typeof V!="string"||V.length>k||!(_?R[s]:R[i]).test(V))return null;try{return new T(V,_)}catch{return null}}function T(V,_){if(V instanceof T){if(V.loose===_)return V;V=V.version}else if(typeof V!="string")throw new TypeError("Invalid Version: "+V);if(V.length>k)throw new TypeError("version is longer than "+k+" characters");if(!(this instanceof T))return new T(V,_);v("SemVer",V,_),this.loose=_;var ee=V.trim().match(_?R[s]:R[i]);if(!ee)throw new TypeError("Invalid Version: "+V);if(this.raw=V,this.major=+ee[1],this.minor=+ee[2],this.patch=+ee[3],this.major>C||this.major<0)throw new TypeError("Invalid major version");if(this.minor>C||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>C||this.patch<0)throw new TypeError("Invalid patch version");ee[4]?this.prerelease=ee[4].split(".").map(function(we){if(/^[0-9]+$/.test(we)){var Se=+we;if(Se>=0&&Se<C)return Se}return we}):this.prerelease=[],this.build=ee[5]?ee[5].split("."):[],this.format()}e.parse=se,e.valid=function(V,_){var ee=se(V,_);return ee?ee.version:null},e.clean=function(V,_){var ee=se(V.trim().replace(/^[=v]+/,""),_);return ee?ee.version:null},e.SemVer=T,T.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},T.prototype.toString=function(){return this.version},T.prototype.compare=function(V){return v("SemVer.compare",this.version,this.loose,V),V instanceof T||(V=new T(V,this.loose)),this.compareMain(V)||this.comparePre(V)},T.prototype.compareMain=function(V){return V instanceof T||(V=new T(V,this.loose)),z(this.major,V.major)||z(this.minor,V.minor)||z(this.patch,V.patch)},T.prototype.comparePre=function(V){if(V instanceof T||(V=new T(V,this.loose)),this.prerelease.length&&!V.prerelease.length)return-1;if(!this.prerelease.length&&V.prerelease.length)return 1;if(!this.prerelease.length&&!V.prerelease.length)return 0;var _=0;do{var ee=this.prerelease[_],we=V.prerelease[_];if(v("prerelease compare",_,ee,we),ee===void 0&&we===void 0)return 0;if(we===void 0)return 1;if(ee===void 0)return-1;if(ee!==we)return z(ee,we)}while(++_)},T.prototype.inc=function(V,_){switch(V){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",_);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",_);break;case"prepatch":this.prerelease.length=0,this.inc("patch",_),this.inc("pre",_);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",_),this.inc("pre",_);break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var ee=this.prerelease.length;--ee>=0;)typeof this.prerelease[ee]=="number"&&(this.prerelease[ee]++,ee=-2);ee===-1&&this.prerelease.push(0)}_&&(this.prerelease[0]===_?isNaN(this.prerelease[1])&&(this.prerelease=[_,0]):this.prerelease=[_,0]);break;default:throw new Error("invalid increment argument: "+V)}return this.format(),this.raw=this.version,this},e.inc=function(V,_,ee,we){typeof ee=="string"&&(we=ee,ee=void 0);try{return new T(V,ee).inc(_,we).version}catch{return null}},e.diff=function(V,_){if(F(V,_))return null;var ee=se(V),we=se(_);if(ee.prerelease.length||we.prerelease.length){for(var Se in ee)if((Se==="major"||Se==="minor"||Se==="patch")&&ee[Se]!==we[Se])return"pre"+Se;return"prerelease"}for(var Se in ee)if((Se==="major"||Se==="minor"||Se==="patch")&&ee[Se]!==we[Se])return Se},e.compareIdentifiers=z;var W=/^[0-9]+$/;function z(V,_){var ee=W.test(V),we=W.test(_);return ee&&we&&(V=+V,_=+_),ee&&!we?-1:we&&!ee?1:V<_?-1:V>_?1:0}function E(V,_,ee){return new T(V,ee).compare(new T(_,ee))}function j(V,_,ee){return E(V,_,ee)>0}function X(V,_,ee){return E(V,_,ee)<0}function F(V,_,ee){return E(V,_,ee)===0}function M(V,_,ee){return E(V,_,ee)!==0}function x(V,_,ee){return E(V,_,ee)>=0}function ne(V,_,ee){return E(V,_,ee)<=0}function oe(V,_,ee,we){var Se;switch(_){case"===":typeof V=="object"&&(V=V.version),typeof ee=="object"&&(ee=ee.version),Se=V===ee;break;case"!==":typeof V=="object"&&(V=V.version),typeof ee=="object"&&(ee=ee.version),Se=V!==ee;break;case"":case"=":case"==":Se=F(V,ee,we);break;case"!=":Se=M(V,ee,we);break;case">":Se=j(V,ee,we);break;case">=":Se=x(V,ee,we);break;case"<":Se=X(V,ee,we);break;case"<=":Se=ne(V,ee,we);break;default:throw new TypeError("Invalid operator: "+_)}return Se}function ce(V,_){if(V instanceof ce){if(V.loose===_)return V;V=V.value}if(!(this instanceof ce))return new ce(V,_);v("comparator",V,_),this.loose=_,this.parse(V),this.semver===ve?this.value="":this.value=this.operator+this.semver.version,v("comp",this)}e.rcompareIdentifiers=function(V,_){return z(_,V)},e.major=function(V,_){return new T(V,_).major},e.minor=function(V,_){return new T(V,_).minor},e.patch=function(V,_){return new T(V,_).patch},e.compare=E,e.compareLoose=function(V,_){return E(V,_,!0)},e.rcompare=function(V,_,ee){return E(_,V,ee)},e.sort=function(V,_){return V.sort(function(ee,we){return e.compare(ee,we,_)})},e.rsort=function(V,_){return V.sort(function(ee,we){return e.rcompare(ee,we,_)})},e.gt=j,e.lt=X,e.eq=F,e.neq=M,e.gte=x,e.lte=ne,e.cmp=oe,e.Comparator=ce;var ve={};function fe(V,_){if(V instanceof fe)return V.loose===_?V:new fe(V.raw,_);if(V instanceof ce)return new fe(V.value,_);if(!(this instanceof fe))return new fe(V,_);if(this.loose=_,this.raw=V,this.set=V.split(/\s*\|\|\s*/).map(function(ee){return this.parseRange(ee.trim())},this).filter(function(ee){return ee.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+V);this.format()}function $e(V){return!V||V.toLowerCase()==="x"||V==="*"}function pe(V,_,ee,we,Se,De,ke,Le,Oe,Ce,Me,Ae,Te){return((_=$e(ee)?"":$e(we)?">="+ee+".0.0":$e(Se)?">="+ee+"."+we+".0":">="+_)+" "+(Le=$e(Oe)?"":$e(Ce)?"<"+(+Oe+1)+".0.0":$e(Me)?"<"+Oe+"."+(+Ce+1)+".0":Ae?"<="+Oe+"."+Ce+"."+Me+"-"+Ae:"<="+Le)).trim()}function me(V,_){for(var ee=0;ee<V.length;ee++)if(!V[ee].test(_))return!1;if(_.prerelease.length){for(ee=0;ee<V.length;ee++)if(v(V[ee].semver),V[ee].semver!==ve&&V[ee].semver.prerelease.length>0){var we=V[ee].semver;if(we.major===_.major&&we.minor===_.minor&&we.patch===_.patch)return!0}return!1}return!0}function ge(V,_,ee){try{_=new fe(_,ee)}catch{return!1}return _.test(V)}function Ee(V,_,ee,we){var Se,De,ke,Le,Oe;switch(V=new T(V,we),_=new fe(_,we),ee){case">":Se=j,De=ne,ke=X,Le=">",Oe=">=";break;case"<":Se=X,De=x,ke=j,Le="<",Oe="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ge(V,_,we))return!1;for(var Ce=0;Ce<_.set.length;++Ce){var Me=_.set[Ce],Ae=null,Te=null;if(Me.forEach(function(Fe){Fe.semver===ve&&(Fe=new ce(">=0.0.0")),Ae=Ae||Fe,Te=Te||Fe,Se(Fe.semver,Ae.semver,we)?Ae=Fe:ke(Fe.semver,Te.semver,we)&&(Te=Fe)}),Ae.operator===Le||Ae.operator===Oe||(!Te.operator||Te.operator===Le)&&De(V,Te.semver)||Te.operator===Oe&&ke(V,Te.semver))return!1}return!0}ce.prototype.parse=function(V){var _=this.loose?R[H]:R[Y],ee=V.match(_);if(!ee)throw new TypeError("Invalid comparator: "+V);this.operator=ee[1],this.operator==="="&&(this.operator=""),ee[2]?this.semver=new T(ee[2],this.loose):this.semver=ve},ce.prototype.toString=function(){return this.value},ce.prototype.test=function(V){return v("Comparator.test",V,this.loose),this.semver===ve||(typeof V=="string"&&(V=new T(V,this.loose)),oe(V,this.operator,this.semver,this.loose))},ce.prototype.intersects=function(V,_){if(!(V instanceof ce))throw new TypeError("a Comparator is required");var ee;if(this.operator==="")return ee=new fe(V.value,_),ge(this.value,ee,_);if(V.operator==="")return ee=new fe(this.value,_),ge(V.semver,ee,_);var we=!(this.operator!==">="&&this.operator!==">"||V.operator!==">="&&V.operator!==">"),Se=!(this.operator!=="<="&&this.operator!=="<"||V.operator!=="<="&&V.operator!=="<"),De=this.semver.version===V.semver.version,ke=!(this.operator!==">="&&this.operator!=="<="||V.operator!==">="&&V.operator!=="<="),Le=oe(this.semver,"<",V.semver,_)&&(this.operator===">="||this.operator===">")&&(V.operator==="<="||V.operator==="<"),Oe=oe(this.semver,">",V.semver,_)&&(this.operator==="<="||this.operator==="<")&&(V.operator===">="||V.operator===">");return we||Se||De&&ke||Le||Oe},e.Range=fe,fe.prototype.format=function(){return this.range=this.set.map(function(V){return V.join(" ").trim()}).join("||").trim(),this.range},fe.prototype.toString=function(){return this.range},fe.prototype.parseRange=function(V){var _=this.loose;V=V.trim(),v("range",V,_);var ee=_?R[K]:R[q];V=V.replace(ee,pe),v("hyphen replace",V),V=V.replace(R[B],"$1$2$3"),v("comparator trim",V,R[B]),V=(V=(V=V.replace(R[U],"$1~")).replace(R[ae],"$1^")).split(/\s+/).join(" ");var we=_?R[H]:R[Y],Se=V.split(" ").map(function(De){return function(ke,Le){return v("comp",ke),ke=function(Oe,Ce){return Oe.trim().split(/\s+/).map(function(Me){return function(Ae,Te){v("caret",Ae,Te);var Fe=Te?R[de]:R[le];return Ae.replace(Fe,function(Ue,Pe,Ie,Re,Ne){var je;return v("caret",Ae,Ue,Pe,Ie,Re,Ne),$e(Pe)?je="":$e(Ie)?je=">="+Pe+".0.0 <"+(+Pe+1)+".0.0":$e(Re)?je=Pe==="0"?">="+Pe+"."+Ie+".0 <"+Pe+"."+(+Ie+1)+".0":">="+Pe+"."+Ie+".0 <"+(+Pe+1)+".0.0":Ne?(v("replaceCaret pr",Ne),Ne.charAt(0)!=="-"&&(Ne="-"+Ne),je=Pe==="0"?Ie==="0"?">="+Pe+"."+Ie+"."+Re+Ne+" <"+Pe+"."+Ie+"."+(+Re+1):">="+Pe+"."+Ie+"."+Re+Ne+" <"+Pe+"."+(+Ie+1)+".0":">="+Pe+"."+Ie+"."+Re+Ne+" <"+(+Pe+1)+".0.0"):(v("no pr"),je=Pe==="0"?Ie==="0"?">="+Pe+"."+Ie+"."+Re+" <"+Pe+"."+Ie+"."+(+Re+1):">="+Pe+"."+Ie+"."+Re+" <"+Pe+"."+(+Ie+1)+".0":">="+Pe+"."+Ie+"."+Re+" <"+(+Pe+1)+".0.0"),v("caret return",je),je})}(Me,Ce)}).join(" ")}(ke,Le),v("caret",ke),ke=function(Oe,Ce){return Oe.trim().split(/\s+/).map(function(Me){return function(Ae,Te){var Fe=Te?R[Z]:R[G];return Ae.replace(Fe,function(Ue,Pe,Ie,Re,Ne){var je;return v("tilde",Ae,Ue,Pe,Ie,Re,Ne),$e(Pe)?je="":$e(Ie)?je=">="+Pe+".0.0 <"+(+Pe+1)+".0.0":$e(Re)?je=">="+Pe+"."+Ie+".0 <"+Pe+"."+(+Ie+1)+".0":Ne?(v("replaceTilde pr",Ne),Ne.charAt(0)!=="-"&&(Ne="-"+Ne),je=">="+Pe+"."+Ie+"."+Re+Ne+" <"+Pe+"."+(+Ie+1)+".0"):je=">="+Pe+"."+Ie+"."+Re+" <"+Pe+"."+(+Ie+1)+".0",v("tilde return",je),je})}(Me,Ce)}).join(" ")}(ke,Le),v("tildes",ke),ke=function(Oe,Ce){return v("replaceXRanges",Oe,Ce),Oe.split(/\s+/).map(function(Me){return function(Ae,Te){Ae=Ae.trim();var Fe=Te?R[L]:R[N];return Ae.replace(Fe,function(Ue,Pe,Ie,Re,Ne,je){v("xRange",Ae,Ue,Pe,Ie,Re,Ne,je);var Ve=$e(Ie),ze=Ve||$e(Re),Be=ze||$e(Ne);return Pe==="="&&Be&&(Pe=""),Ve?Ue=Pe===">"||Pe==="<"?"<0.0.0":"*":Pe&&Be?(ze&&(Re=0),Be&&(Ne=0),Pe===">"?(Pe=">=",ze?(Ie=+Ie+1,Re=0,Ne=0):Be&&(Re=+Re+1,Ne=0)):Pe==="<="&&(Pe="<",ze?Ie=+Ie+1:Re=+Re+1),Ue=Pe+Ie+"."+Re+"."+Ne):ze?Ue=">="+Ie+".0.0 <"+(+Ie+1)+".0.0":Be&&(Ue=">="+Ie+"."+Re+".0 <"+Ie+"."+(+Re+1)+".0"),v("xRange return",Ue),Ue})}(Me,Ce)}).join(" ")}(ke,Le),v("xrange",ke),ke=function(Oe,Ce){return v("replaceStars",Oe,Ce),Oe.trim().replace(R[J],"")}(ke,Le),v("stars",ke),ke}(De,_)}).join(" ").split(/\s+/);return this.loose&&(Se=Se.filter(function(De){return!!De.match(we)})),Se=Se.map(function(De){return new ce(De,_)})},fe.prototype.intersects=function(V,_){if(!(V instanceof fe))throw new TypeError("a Range is required");return this.set.some(function(ee){return ee.every(function(we){return V.set.some(function(Se){return Se.every(function(De){return we.intersects(De,_)})})})})},e.toComparators=function(V,_){return new fe(V,_).set.map(function(ee){return ee.map(function(we){return we.value}).join(" ").trim().split(" ")})},fe.prototype.test=function(V){if(!V)return!1;typeof V=="string"&&(V=new T(V,this.loose));for(var _=0;_<this.set.length;_++)if(me(this.set[_],V))return!0;return!1},e.satisfies=ge,e.maxSatisfying=function(V,_,ee){var we=null,Se=null;try{var De=new fe(_,ee)}catch{return null}return V.forEach(function(ke){De.test(ke)&&(we&&Se.compare(ke)!==-1||(Se=new T(we=ke,ee)))}),we},e.minSatisfying=function(V,_,ee){var we=null,Se=null;try{var De=new fe(_,ee)}catch{return null}return V.forEach(function(ke){De.test(ke)&&(we&&Se.compare(ke)!==1||(Se=new T(we=ke,ee)))}),we},e.validRange=function(V,_){try{return new fe(V,_).range||"*"}catch{return null}},e.ltr=function(V,_,ee){return Ee(V,_,"<",ee)},e.gtr=function(V,_,ee){return Ee(V,_,">",ee)},e.outside=Ee,e.prerelease=function(V,_){var ee=se(V,_);return ee&&ee.prerelease.length?ee.prerelease:null},e.intersects=function(V,_,ee){return V=new fe(V,ee),_=new fe(_,ee),V.intersects(_)},e.coerce=function(V){if(V instanceof T)return V;if(typeof V!="string")return null;var _=V.match(R[A]);return _==null?null:se((_[1]||"0")+"."+(_[2]||"0")+"."+(_[3]||"0"))}}).call(this,S(1))},function(Q,e){var S,P,v=Q.exports={};function k(){throw new Error("setTimeout has not been defined")}function C(){throw new Error("clearTimeout has not been defined")}function R(b){if(S===setTimeout)return setTimeout(b,0);if((S===k||!S)&&setTimeout)return S=setTimeout,setTimeout(b,0);try{return S(b,0)}catch{try{return S.call(null,b,0)}catch{return S.call(this,b,0)}}}(function(){try{S=typeof setTimeout=="function"?setTimeout:k}catch{S=k}try{P=typeof clearTimeout=="function"?clearTimeout:C}catch{P=C}})();var w,a=[],f=!1,c=-1;function m(){f&&w&&(f=!1,w.length?a=w.concat(a):c=-1,a.length&&d())}function d(){if(!f){var b=R(m);f=!0;for(var h=a.length;h;){for(w=a,a=[];++c<h;)w&&w[c].run();c=-1,h=a.length}w=null,f=!1,function(g){if(P===clearTimeout)return clearTimeout(g);if((P===C||!P)&&clearTimeout)return P=clearTimeout,clearTimeout(g);try{P(g)}catch{try{return P.call(null,g)}catch{return P.call(this,g)}}}(b)}}function p(b,h){this.fun=b,this.array=h}function I(){}v.nextTick=function(b){var h=new Array(arguments.length-1);if(arguments.length>1)for(var g=1;g<arguments.length;g++)h[g-1]=arguments[g];a.push(new p(b,h)),a.length!==1||f||R(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},v.title="browser",v.browser=!0,v.env={},v.argv=[],v.version="",v.versions={},v.on=I,v.addListener=I,v.once=I,v.off=I,v.removeListener=I,v.removeAllListeners=I,v.emit=I,v.prependListener=I,v.prependOnceListener=I,v.listeners=function(b){return[]},v.binding=function(b){throw new Error("process.binding is not supported")},v.cwd=function(){return"/"},v.chdir=function(b){throw new Error("process.chdir is not supported")},v.umask=function(){return 0}}])}),define(ue[80],he([0,1]),function(Q,e){"use strict";var S;Object.defineProperty(e,"__esModule",{value:!0}),e.$Ts=void 0;class P{constructor(R,w,a){this.level=R,this.key=w,this.value=a,this.forward=[]}}const v=void 0;class k{constructor(R,w=2**16){this.comparator=R,this[S]="SkipList",this.d=0,this.f=0,this.c=Math.max(1,Math.log2(w)|0),this.e=new P(this.c,v,v)}get size(){return this.f}clear(){this.e=new P(this.c,v,v),this.f=0}has(R){return!!k.g(this,R,this.comparator)}get(R){return k.g(this,R,this.comparator)?.value}set(R,w){return k.h(this,R,w,this.comparator)&&(this.f+=1),this}delete(R){const w=k.k(this,R,this.comparator);return w&&(this.f-=1),w}forEach(R,w){let a=this.e.forward[0];for(;a;)R.call(w,a.value,a.key,this),a=a.forward[0]}[(S=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}*entries(){let R=this.e.forward[0];for(;R;)yield[R.key,R.value],R=R.forward[0]}*keys(){let R=this.e.forward[0];for(;R;)yield R.key,R=R.forward[0]}*values(){let R=this.e.forward[0];for(;R;)yield R.value,R=R.forward[0]}toString(){let R="[SkipList]:",w=this.e.forward[0];for(;w;)R+=`node(${w.key}, ${w.value}, lvl:${w.level})`,w=w.forward[0];return R}static g(R,w,a){let f=R.e;for(let c=R.d-1;c>=0;c--)for(;f.forward[c]&&a(f.forward[c].key,w)<0;)f=f.forward[c];if(f=f.forward[0],f&&a(f.key,w)===0)return f}static h(R,w,a,f){const c=[];let m=R.e;for(let d=R.d-1;d>=0;d--){for(;m.forward[d]&&f(m.forward[d].key,w)<0;)m=m.forward[d];c[d]=m}if(m=m.forward[0],m&&f(m.key,w)===0)return m.value=a,!1;{const d=k.j(R);if(d>R.d){for(let p=R.d;p<d;p++)c[p]=R.e;R.d=d}m=new P(d,w,a);for(let p=0;p<d;p++)m.forward[p]=c[p].forward[p],c[p].forward[p]=m;return!0}}static j(R,w=.5){let a=1;for(;Math.random()<w&&a<R.c;)a+=1;return a}static k(R,w,a){const f=[];let c=R.e;for(let m=R.d-1;m>=0;m--){for(;c.forward[m]&&a(c.forward[m].key,w)<0;)c=c.forward[m];f[m]=c}if(c=c.forward[0],!c||a(c.key,w)!==0)return!1;for(let m=0;m<R.d&&f[m].forward[m]===c;m++)f[m].forward[m]=c.forward[m];for(;R.d>0&&R.e.forward[R.d-1]===v;)R.d-=1;return!0}}e.$Ts=k}),define(ue[47],he([0,1,7,2]),function(Q,e,S,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ye=v,e.$ze=k,e.$Ae=C,e.$Be=R,e.$Ce=a,e.$De=f,e.$Ee=c,e.$Fe=m,e.$Ge=d,e.$He=p,e.$Ie=I,e.$Je=b,e.$Ke=h,e.$Le=g,e.$Me=O;function v(y){const i=y;return i?typeof i.read=="function":!1}function k(y){const i=y;return i?[i.on,i.pause,i.resume,i.destroy].every(l=>typeof l=="function"):!1}function C(y){const i=y;return i?k(i.stream)&&Array.isArray(i.buffer)&&typeof i.ended=="boolean":!1}function R(y,i){return new w(y,i)}class w{constructor(i,l){this.e=i,this.f=l,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(i){if(!this.a.destroyed){if(this.a.flowing)this.g(i);else if(this.b.data.push(i),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(l=>this.d.push(l))}}error(i){this.a.destroyed||(this.a.flowing?this.h(i):this.b.error.push(i))}end(i){this.a.destroyed||(typeof i<"u"&&this.write(i),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(i){this.c.data.slice(0).forEach(l=>l(i))}h(i){this.c.error.length===0?(0,S.$Y)(i):this.c.error.slice(0).forEach(l=>l(i))}i(){this.c.end.slice(0).forEach(i=>i())}on(i,l){if(!this.a.destroyed)switch(i){case"data":this.c.data.push(l),this.resume();break;case"end":this.c.end.push(l),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(l),this.a.flowing&&this.k();break}}removeListener(i,l){if(this.a.destroyed)return;let n;switch(i){case"data":n=this.c.data;break;case"end":n=this.c.end;break;case"error":n=this.c.error;break}if(n){const s=n.indexOf(l);s>=0&&n.splice(s,1)}}j(){if(this.b.data.length>0){const i=this.e(this.b.data);this.g(i),this.b.data.length=0;const l=[...this.d];this.d.length=0,l.forEach(n=>n())}}k(){if(this.c.error.length>0){for(const i of this.b.error)this.h(i);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function a(y,i){const l=[];let n;for(;(n=y.read())!==null;)l.push(n);return i(l)}function f(y,i,l){const n=[];let s;for(;(s=y.read())!==null&&n.length<l;)n.push(s);return s===null&&n.length>0?i(n):{read:()=>{if(n.length>0)return n.shift();if(typeof s<"u"){const t=s;return s=void 0,t}return y.read()}}}function c(y,i){return new Promise((l,n)=>{const s=[];m(y,{onData:t=>{i&&s.push(t)},onError:t=>{i?n(t):l(void 0)},onEnd:()=>{l(i?i(s):void 0)}})})}function m(y,i,l){y.on("error",n=>{l?.isCancellationRequested||i.onError(n)}),y.on("end",()=>{l?.isCancellationRequested||i.onEnd()}),y.on("data",n=>{l?.isCancellationRequested||i.onData(n)})}function d(y,i){return new Promise((l,n)=>{const s=new P.$Tc,t=[],r=$=>{if(t.push($),t.length>i)return s.dispose(),y.pause(),l({stream:y,buffer:t,ended:!1})},o=$=>(s.dispose(),n($)),u=()=>(s.dispose(),l({stream:y,buffer:t,ended:!0}));s.add((0,P.$Sc)(()=>y.removeListener("error",o))),y.on("error",o),s.add((0,P.$Sc)(()=>y.removeListener("end",u))),y.on("end",u),s.add((0,P.$Sc)(()=>y.removeListener("data",r))),y.on("data",r)})}function p(y,i){const l=R(i);return l.end(y),l}function I(){const y=R(()=>{throw new Error("not supported")});return y.end(),y}function b(y){let i=!1;return{read:()=>i?null:(i=!0,y)}}function h(y,i,l){const n=R(l);return m(y,{onData:s=>n.write(i.data(s)),onError:s=>n.error(i.error?i.error(s):s),onEnd:()=>n.end()}),n}function g(y,i,l){let n=!1;return{read:()=>{const s=i.read();return n?s:(n=!0,s!==null?l([y,s]):y)}}}function O(y,i,l){let n=!1;const s=R(l);return m(i,{onData:t=>n?s.write(t):(n=!0,s.write(l([y,t]))),onError:t=>s.error(t),onEnd:()=>{n||(n=!0,s.write(y)),s.end()}}),s}});var We=this&&this.__createBinding||(Object.create?function(Q,e,S,P){P===void 0&&(P=S);var v=Object.getOwnPropertyDescriptor(e,S);(!v||("get"in v?!e.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return e[S]}}),Object.defineProperty(Q,P,v)}:function(Q,e,S,P){P===void 0&&(P=S),Q[P]=e[S]}),xe=this&&this.__setModuleDefault||(Object.create?function(Q,e){Object.defineProperty(Q,"default",{enumerable:!0,value:e})}:function(Q,e){Q.default=e}),ye=this&&this.__importStar||function(Q){if(Q&&Q.__esModule)return Q;var e={};if(Q!=null)for(var S in Q)S!=="default"&&Object.prototype.hasOwnProperty.call(Q,S)&&We(e,Q,S);return xe(e,Q),e};define(ue[13],he([0,1,146,47]),function(Q,e,S,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ne=void 0,e.$Oe=a,e.$Pe=f,e.$Qe=c,e.$Re=m,e.$Se=d,e.$Te=p,e.$Ue=I,e.$Ve=b,e.$We=h,e.$Xe=g,e.$Ye=O,e.$Ze=y,e.$1e=i,e.$2e=l,e.$3e=n,e.$4e=s,e.$5e=t,e.$6e=r,e.$7e=o,e.$8e=N,P=ye(P);const v=typeof Buffer<"u",k=new S.$T(()=>new Uint8Array(256));let C,R;class w{static alloc(A){return v?new w(Buffer.allocUnsafe(A)):new w(new Uint8Array(A))}static wrap(A){return v&&!Buffer.isBuffer(A)&&(A=Buffer.from(A.buffer,A.byteOffset,A.byteLength)),new w(A)}static fromString(A,D){return!(D?.dontUseNodeBuffer||!1)&&v?new w(Buffer.from(A)):(C||(C=new TextEncoder),new w(C.encode(A)))}static fromByteArray(A){const D=w.alloc(A.length);for(let U=0,G=A.length;U<G;U++)D.buffer[U]=A[U];return D}static concat(A,D){if(typeof D>"u"){D=0;for(let Z=0,te=A.length;Z<te;Z++)D+=A[Z].byteLength}const U=w.alloc(D);let G=0;for(let Z=0,te=A.length;Z<te;Z++){const ae=A[Z];U.set(ae,G),G+=ae.byteLength}return U}constructor(A){this.buffer=A,this.byteLength=this.buffer.byteLength}clone(){const A=w.alloc(this.byteLength);return A.set(this),A}toString(){return v?this.buffer.toString():(R||(R=new TextDecoder),R.decode(this.buffer))}slice(A,D){return new w(this.buffer.subarray(A,D))}set(A,D){if(A instanceof w)this.buffer.set(A.buffer,D);else if(A instanceof Uint8Array)this.buffer.set(A,D);else if(A instanceof ArrayBuffer)this.buffer.set(new Uint8Array(A),D);else if(ArrayBuffer.isView(A))this.buffer.set(new Uint8Array(A.buffer,A.byteOffset,A.byteLength),D);else throw new Error("Unknown argument 'array'")}readUInt32BE(A){return m(this.buffer,A)}writeUInt32BE(A,D){d(this.buffer,A,D)}readUInt32LE(A){return p(this.buffer,A)}writeUInt32LE(A,D){I(this.buffer,A,D)}readUInt8(A){return b(this.buffer,A)}writeUInt8(A,D){h(this.buffer,A,D)}indexOf(A,D=0){return a(this.buffer,A instanceof w?A.buffer:A,D)}}e.$Ne=w;function a(L,A,D=0){const U=A.byteLength,G=L.byteLength;if(U===0)return 0;if(U===1)return L.indexOf(A[0]);if(U>G-D)return-1;const Z=k.value;Z.fill(A.length);for(let de=0;de<A.length;de++)Z[A[de]]=A.length-de-1;let te=D+A.length-1,ae=te,le=-1;for(;te<G;)if(L[te]===A[ae]){if(ae===0){le=te;break}te--,ae--}else te+=Math.max(A.length-ae,Z[L[te]]),ae=A.length-1;return le}function f(L,A){return L[A+0]<<0>>>0|L[A+1]<<8>>>0}function c(L,A,D){L[D+0]=A&255,A=A>>>8,L[D+1]=A&255}function m(L,A){return L[A]*2**24+L[A+1]*2**16+L[A+2]*2**8+L[A+3]}function d(L,A,D){L[D+3]=A,A=A>>>8,L[D+2]=A,A=A>>>8,L[D+1]=A,A=A>>>8,L[D]=A}function p(L,A){return L[A+0]<<0>>>0|L[A+1]<<8>>>0|L[A+2]<<16>>>0|L[A+3]<<24>>>0}function I(L,A,D){L[D+0]=A&255,A=A>>>8,L[D+1]=A&255,A=A>>>8,L[D+2]=A&255,A=A>>>8,L[D+3]=A&255}function b(L,A){return L[A]}function h(L,A,D){L[D]=A}function g(L){return P.$Ce(L,A=>w.concat(A))}function O(L){return P.$Je(L)}function y(L){return P.$Ee(L,A=>w.concat(A))}async function i(L){return L.ended?w.concat(L.buffer):w.concat([...L.buffer,await y(L.stream)])}function l(L){return P.$He(L,A=>w.concat(A))}function n(L){return P.$Ke(L,{data:A=>typeof A=="string"?w.fromString(A):w.wrap(A)},A=>w.concat(A))}function s(L){return P.$Be(A=>w.concat(A),L)}function t(L,A){return P.$Le(L,A,D=>w.concat(D))}function r(L,A){return P.$Me(L,A,D=>w.concat(D))}function o(L){let A=0,D=0,U=0;const G=new Uint8Array(Math.floor(L.length/4*3)),Z=ae=>{switch(D){case 3:G[U++]=A|ae,D=0;break;case 2:G[U++]=A|ae>>>2,A=ae<<6,D=3;break;case 1:G[U++]=A|ae>>>4,A=ae<<4,D=2;break;default:A=ae<<2,D=1}};for(let ae=0;ae<L.length;ae++){const le=L.charCodeAt(ae);if(le>=65&&le<=90)Z(le-65);else if(le>=97&&le<=122)Z(le-97+26);else if(le>=48&&le<=57)Z(le-48+52);else if(le===43||le===45)Z(62);else if(le===47||le===95)Z(63);else{if(le===61)break;throw new SyntaxError(`Unexpected base64 character ${L[ae]}`)}}const te=U;for(;D>0;)Z(0);return w.wrap(G).slice(0,te)}const u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function N({buffer:L},A=!0,D=!1){const U=D?$:u;let G="";const Z=L.byteLength%3;let te=0;for(;te<L.byteLength-Z;te+=3){const ae=L[te+0],le=L[te+1],de=L[te+2];G+=U[ae>>>2],G+=U[(ae<<4|le>>>4)&63],G+=U[(le<<2|de>>>6)&63],G+=U[de&63]}if(Z===1){const ae=L[te+0];G+=U[ae>>>2],G+=U[ae<<4&63],A&&(G+="==")}else if(Z===2){const ae=L[te+0],le=L[te+1];G+=U[ae>>>2],G+=U[(ae<<4|le>>>4)&63],G+=U[le<<2&63],A&&(G+="=")}return G}}),define(ue[27],he([0,1,3]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$eo=P,e.$fo=v,e.$go=C,e.$ho=w,e.$io=a,e.$jo=f,e.$ko=c,e.$lo=m,e.$mo=d,e.$no=p,e.$oo=I,e.$po=b,e.$qo=h;function P(g){if(!g||typeof g!="object"||g instanceof RegExp)return g;const O=Array.isArray(g)?[]:{};return Object.entries(g).forEach(([y,i])=>{O[y]=i&&typeof i=="object"?P(i):i}),O}function v(g){if(!g||typeof g!="object")return g;const O=[g];for(;O.length>0;){const y=O.shift();Object.freeze(y);for(const i in y)if(k.call(y,i)){const l=y[i];typeof l=="object"&&!Object.isFrozen(l)&&!(0,S.$hg)(l)&&O.push(l)}}return g}const k=Object.prototype.hasOwnProperty;function C(g,O){return R(g,O,new Set)}function R(g,O,y){if((0,S.$ng)(g))return g;const i=O(g);if(typeof i<"u")return i;if(Array.isArray(g)){const l=[];for(const n of g)l.push(R(n,O,y));return l}if((0,S.$gg)(g)){if(y.has(g))throw new Error("Cannot clone recursive data-structure");y.add(g);const l={};for(const n in g)k.call(g,n)&&(l[n]=R(g[n],O,y));return y.delete(g),l}return g}function w(g,O,y=!0){return(0,S.$gg)(g)?((0,S.$gg)(O)&&Object.keys(O).forEach(i=>{i in g?y&&((0,S.$gg)(g[i])&&(0,S.$gg)(O[i])?w(g[i],O[i],y):g[i]=O[i]):g[i]=O[i]}),g):O}function a(g,O){if(g===O)return!0;if(g==null||O===null||O===void 0||typeof g!=typeof O||typeof g!="object"||Array.isArray(g)!==Array.isArray(O))return!1;let y,i;if(Array.isArray(g)){if(g.length!==O.length)return!1;for(y=0;y<g.length;y++)if(!a(g[y],O[y]))return!1}else{const l=[];for(i in g)l.push(i);l.sort();const n=[];for(i in O)n.push(i);if(n.sort(),!a(l,n))return!1;for(y=0;y<l.length;y++)if(!a(g[l[y]],O[l[y]]))return!1}return!0}function f(g){const O=new Set;return JSON.stringify(g,(y,i)=>{if((0,S.$gg)(i)||Array.isArray(i)){if(O.has(i))return"[Circular]";O.add(i)}return typeof i=="bigint"?`[BigInt ${i.toString()}]`:i})}function c(g,O){const y=Object.create(null);return!g||!O||Object.keys(O).forEach(l=>{const n=g[l],s=O[l];a(n,s)||(y[l]=s)}),y}function m(g,O){const y=O.toLowerCase(),i=Object.keys(g).find(l=>l.toLowerCase()===y);return i?g[i]:g[O]}function d(g,O){const y=Object.create(null);for(const[i,l]of Object.entries(g))O(i,l)&&(y[i]=l);return y}function p(g){let O=[];for(;Object.prototype!==g;)O=O.concat(Object.getOwnPropertyNames(g)),g=Object.getPrototypeOf(g);return O}function I(g){const O=[];for(const y of p(g))typeof g[y]=="function"&&O.push(y);return O}function b(g,O){const y=l=>function(){const n=Array.prototype.slice.call(arguments,0);return O(l,n)},i={};for(const l of g)i[l]=y(l);return i}function h(g,O){const y={};for(const[i,l]of Object.entries(g))y[i]=O(l,i);return y}}),define(ue[43],he([0,1,31]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$zj=e.$xj=void 0,e.$tj=P,e.$uj=v,e.$vj=k,e.$wj=R,e.$yj=I,S=ye(S);function P(h){return v(h,0)}function v(h,g){switch(typeof h){case"object":return h===null?k(349,g):Array.isArray(h)?w(h,g):a(h,g);case"string":return R(h,g);case"boolean":return C(h,g);case"number":return k(h,g);case"undefined":return k(937,g);default:return k(617,g)}}function k(h,g){return(g<<5)-g+h|0}function C(h,g){return k(h?433:863,g)}function R(h,g){g=k(149417,g);for(let O=0,y=h.length;O<y;O++)g=k(h.charCodeAt(O),g);return g}function w(h,g){return g=k(104579,g),h.reduce((O,y)=>v(y,O),g)}function a(h,g){return g=k(181387,g),Object.keys(h).sort().reduce((O,y)=>(O=R(y,O),v(h[y],O)),g)}class f{constructor(){this.g=0}get value(){return this.g}hash(g){return this.g=v(g,this.g),this.g}}e.$xj=f;var c;(function(h){h[h.BLOCK_SIZE=64]="BLOCK_SIZE",h[h.UNICODE_REPLACEMENT=65533]="UNICODE_REPLACEMENT"})(c||(c={}));function m(h,g,O=32){const y=O-g,i=~((1<<y)-1);return(h<<g|(i&h)>>>y)>>>0}function d(h,g=0,O=h.byteLength,y=0){for(let i=0;i<O;i++)h[g+i]=y}function p(h,g,O="0"){for(;h.length<g;)h=O+h;return h}function I(h,g=32){return h instanceof ArrayBuffer?Array.from(new Uint8Array(h)).map(O=>O.toString(16).padStart(2,"0")).join(""):p((h>>>0).toString(16),g/4)}class b{static{this.g=new DataView(new ArrayBuffer(320))}constructor(){this.h=1732584193,this.l=4023233417,this.m=2562383102,this.n=271733878,this.o=3285377520,this.p=new Uint8Array(c.BLOCK_SIZE+3),this.q=new DataView(this.p.buffer),this.r=0,this.t=0,this.u=0,this.v=!1}update(g){const O=g.length;if(O===0)return;const y=this.p;let i=this.r,l=this.u,n,s;for(l!==0?(n=l,s=-1,l=0):(n=g.charCodeAt(0),s=0);;){let t=n;if(S.$Jf(n))if(s+1<O){const r=g.charCodeAt(s+1);S.$Kf(r)?(s++,t=S.$Lf(n,r)):t=c.UNICODE_REPLACEMENT}else{l=n;break}else S.$Kf(n)&&(t=c.UNICODE_REPLACEMENT);if(i=this.w(y,i,t),s++,s<O)n=g.charCodeAt(s);else break}this.r=i,this.u=l}w(g,O,y){return y<128?g[O++]=y:y<2048?(g[O++]=192|(y&1984)>>>6,g[O++]=128|(y&63)>>>0):y<65536?(g[O++]=224|(y&61440)>>>12,g[O++]=128|(y&4032)>>>6,g[O++]=128|(y&63)>>>0):(g[O++]=240|(y&1835008)>>>18,g[O++]=128|(y&258048)>>>12,g[O++]=128|(y&4032)>>>6,g[O++]=128|(y&63)>>>0),O>=c.BLOCK_SIZE&&(this.y(),O-=c.BLOCK_SIZE,this.t+=c.BLOCK_SIZE,g[0]=g[c.BLOCK_SIZE+0],g[1]=g[c.BLOCK_SIZE+1],g[2]=g[c.BLOCK_SIZE+2]),O}digest(){return this.v||(this.v=!0,this.u&&(this.u=0,this.r=this.w(this.p,this.r,c.UNICODE_REPLACEMENT)),this.t+=this.r,this.x()),I(this.h)+I(this.l)+I(this.m)+I(this.n)+I(this.o)}x(){this.p[this.r++]=128,d(this.p,this.r),this.r>56&&(this.y(),d(this.p));const g=8*this.t;this.q.setUint32(56,Math.floor(g/4294967296),!1),this.q.setUint32(60,g%4294967296,!1),this.y()}y(){const g=b.g,O=this.q;for(let u=0;u<64;u+=4)g.setUint32(u,O.getUint32(u,!1),!1);for(let u=64;u<320;u+=4)g.setUint32(u,m(g.getUint32(u-12,!1)^g.getUint32(u-32,!1)^g.getUint32(u-56,!1)^g.getUint32(u-64,!1),1),!1);let y=this.h,i=this.l,l=this.m,n=this.n,s=this.o,t,r,o;for(let u=0;u<80;u++)u<20?(t=i&l|~i&n,r=1518500249):u<40?(t=i^l^n,r=1859775393):u<60?(t=i&l|i&n|l&n,r=2400959708):(t=i^l^n,r=3395469782),o=m(y,5)+t+s+r+g.getUint32(u*4,!1)&4294967295,s=n,n=l,l=m(i,30),i=y,y=o;this.h=this.h+y&4294967295,this.l=this.l+i&4294967295,this.m=this.m+l&4294967295,this.n=this.n+n&4294967295,this.o=this.o+s&4294967295}}e.$zj=b}),define(ue[57],he([0,1,31]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),S=ye(S);var P;(function(v){v[v.Ignore=0]="Ignore",v[v.Info=1]="Info",v[v.Warning=2]="Warning",v[v.Error=3]="Error"})(P||(P={})),function(v){const k="error",C="warning",R="warn",w="info",a="ignore";function f(m){return m?S.$Ff(k,m)?v.Error:S.$Ff(C,m)||S.$Ff(R,m)?v.Warning:S.$Ff(w,m)?v.Info:v.Ignore:v.Ignore}v.fromValue=f;function c(m){switch(m){case v.Error:return k;case v.Warning:return C;case v.Info:return w;default:return a}}v.toString=c}(P||(P={})),e.default=P}),define(ue[81],he([0,1,11]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$dr=P,e.$er=v,e.$fr=k,e.log=R;function P(a){const f=a;return f&&typeof f.type=="string"&&typeof f.severity=="string"}function v(a){const f=[];let c;try{const m=JSON.parse(a.arguments),d=m[m.length-1];d&&d.__$stack&&(m.pop(),c=d.__$stack),f.push(...m)}catch{f.push("Unable to log remote console arguments",a.arguments)}return{args:f,stack:c}}function k(a){if(typeof a!="string")return k(v(a).stack);const f=a;if(f){const c=C(f),m=/at [^\/]*((?:(?:[a-zA-Z]+:)|(?:[\/])|(?:\\\\))(?:.+)):(\d+):(\d+)/.exec(c||"");if(m&&m.length===4)return{uri:S.URI.file(m[1]),line:Number(m[2]),column:Number(m[3])}}}function C(a){if(!a)return a;const f=a.indexOf(`
`);return f===-1?a:a.substring(0,f)}function R(a,f){const{args:c,stack:m}=v(a),d=typeof c[0]=="string"&&c.length===1;let p=C(m);p&&(p=`(${p.trim()})`);let I=[];if(typeof c[0]=="string"?p&&d?I=[`%c[${f}] %c${c[0]} %c${p}`,w("blue"),w(""),w("grey")]:I=[`%c[${f}] %c${c[0]}`,w("blue"),w(""),...c.slice(1)]:I=[`%c[${f}]%`,w("blue"),...c],p&&!d&&I.push(p),typeof console[a.severity]!="function")throw new Error("Unknown console method");console[a.severity].apply(console,I)}function w(a){return`color: ${a}`}}),define(ue[48],he([0,1,13,11,147]),function(Q,e,S,P,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ai=k,e.$bi=C,e.$ci=w;function k(a){return JSON.stringify(a,R)}function C(a){let f=JSON.parse(a);return f=w(f),f}function R(a,f){return f instanceof RegExp?{$mid:v.MarshalledId.Regexp,source:f.source,flags:f.flags}:f}function w(a,f=0){if(!a||f>200)return a;if(typeof a=="object"){switch(a.$mid){case v.MarshalledId.Uri:return P.URI.revive(a);case v.MarshalledId.Regexp:return new RegExp(a.source,a.flags);case v.MarshalledId.Date:return new Date(a.source)}if(a instanceof S.$Ne||a instanceof Uint8Array)return a;if(Array.isArray(a))for(let c=0;c<a.length;++c)a[c]=w(a[c],f+1);else for(const c in a)Object.hasOwnProperty.call(a,c)&&(a[c]=w(a[c],f+1))}return a}}),define(ue[82],he([0,1,74,14,12,3,11]),function(Q,e,S,P,v,k,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$CE=c,e.$DE=m,v=ye(v);class R{constructor(p,I,b){this.id=p,this.dependencies=I,this.callback=b}}class w{static{this.INSTANCE=new w}constructor(){this.a=typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",this.b=typeof document=="object",this.c=[],this.d=!1}g(){this.d||(this.d=!0,globalThis.define=(p,I,b)=>{typeof p!="string"&&(b=I,I=p,p=null),(typeof I!="object"||!Array.isArray(I))&&(b=I,I=null),this.c.push(new R(p,I,b))},globalThis.define.amd=!0,this.b?this.f=window.trustedTypes?.createPolicy("amdLoader",{createScriptURL(p){if(p.startsWith(window.location.origin)||p.startsWith("vscode-file://vscode-app"))return p;throw new Error(`[trusted_script_src] Invalid script url: ${p}`)}}):this.a&&(this.f=globalThis.trustedTypes?.createPolicy("amdLoader",{createScriptURL(p){return p}})))}async load(p){this.g();const I=await(this.a?this.i(p):this.b?this.h(p):this.j(p));if(!I)throw new Error(`Did not receive a define call from script ${p}`);if(Array.isArray(I.dependencies)&&I.dependencies.length>0)throw new Error(`Cannot resolve dependencies for script ${p}. The dependencies are: ${I.dependencies.join(", ")}`);return typeof I.callback=="function"?I.callback([]):I.callback}h(p){return new Promise((I,b)=>{const h=document.createElement("script");h.setAttribute("async","async"),h.setAttribute("type","text/javascript");const g=()=>{h.removeEventListener("load",O),h.removeEventListener("error",y)},O=i=>{g(),I(this.c.pop())},y=i=>{g(),b(i)};h.addEventListener("load",O),h.addEventListener("error",y),this.f&&(p=this.f.createScriptURL(p)),h.setAttribute("src",p),window.document.getElementsByTagName("head")[0].appendChild(h)})}i(p){return new Promise((I,b)=>{try{this.f&&(p=this.f.createScriptURL(p)),importScripts(p),I(this.c.pop())}catch(h){b(h)}})}async j(p){try{const I=globalThis._VSCODE_NODE_MODULES.fs,b=globalThis._VSCODE_NODE_MODULES.vm,h=globalThis._VSCODE_NODE_MODULES.module,g=C.URI.parse(p).fsPath,O=I.readFileSync(g).toString(),y=h.wrap(O.replace(/^#!.*/,""));return new b.Script(y).runInThisContext().apply(),this.c.pop()}catch(I){throw I}}}const a=new Map;let f={};typeof globalThis.require=="object"&&(f=globalThis.require.paths??{});async function c(d,p,I){if(S.$R){I===void 0&&(I=!!(globalThis._VSCODE_PRODUCT_JSON??globalThis.vscode?.context?.configuration()?.product)?.commit),f[d]&&(d=f[d]);const b=p?`${d}/${p}`:d;if(a.has(b))return a.get(b);let h;if(/^\w[\w\d+.-]*:\/\//.test(b))h=b;else{const i=`${I&&!v.$p?P.$Wg:P.$Vg}/${b}`;h=P.$Zg.asBrowserUri(i).toString(!0)}const g=w.INSTANCE.load(h);return a.set(b,g),g}else return await new Promise((b,h)=>{Q([d],b,h)}).then(ye)}function m(d,p){(0,k.$og)(S.$R);const h=!!(globalThis._VSCODE_PRODUCT_JSON??globalThis.vscode?.context?.configuration()?.product)?.commit&&!v.$p,g=`${d}/${p}`,y=`${h?P.$Wg:P.$Vg}/${g}`;return P.$Zg.asBrowserUri(y).toString(!0)}}),define(ue[28],he([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$2g=void 0,e.$1g=P;const S=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function P(v){return S.test(v)}e.$2g=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let v;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?v=crypto.getRandomValues.bind(crypto):v=function(R){for(let w=0;w<R.length;w++)R[w]=Math.floor(Math.random()*256);return R};const k=new Uint8Array(16),C=[];for(let R=0;R<256;R++)C.push(R.toString(16).padStart(2,"0"));return function(){v(k),k[6]=k[6]&15|64,k[8]=k[8]&63|128;let w=0,a="";return a+=C[k[w++]],a+=C[k[w++]],a+=C[k[w++]],a+=C[k[w++]],a+="-",a+=C[k[w++]],a+=C[k[w++]],a+="-",a+=C[k[w++]],a+=C[k[w++]],a+="-",a+=C[k[w++]],a+=C[k[w++]],a+="-",a+=C[k[w++]],a+=C[k[w++]],a+=C[k[w++]],a+=C[k[w++]],a+=C[k[w++]],a+=C[k[w++]],a}}()}),define(ue[83],he([0,1,35]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Rn=k;const P=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function v(C){const R=C.replace(/\-/g,":").toLowerCase();return!P.has(R)}function k(){const C=(0,S.networkInterfaces)();for(const R in C){const w=C[R];if(w){for(const{mac:a}of w)if(v(a))return a}}throw new Error("Unable to retrieve mac address (unexpected format)")}}),define(ue[84],he([0,1,35,49,28,83,12]),function(Q,e,S,P,v,k,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Sn=void 0,e.$Tn=w,e.$Un=c,e.$Vn=m,v=ye(v),e.$Sn=new class{c(d){return this.a||(this.a=P.$Li.forStrings(),this.a.set("00-50-56",!0),this.a.set("00-0C-29",!0),this.a.set("00-05-69",!0),this.a.set("00-03-FF",!0),this.a.set("00-1C-42",!0),this.a.set("00-16-3E",!0),this.a.set("08-00-27",!0),this.a.set("00:50:56",!0),this.a.set("00:0C:29",!0),this.a.set("00:05:69",!0),this.a.set("00:03:FF",!0),this.a.set("00:1C:42",!0),this.a.set("00:16:3E",!0),this.a.set("08:00:27",!0)),!!this.a.findSubstr(d)}value(){if(this.b===void 0){let d=0,p=0;const I=(0,S.networkInterfaces)();for(const b in I){const h=I[b];if(h)for(const{mac:g,internal:O}of h)O||(p+=1,this.c(g.toUpperCase())&&(d+=1))}this.b=p>0?d/p:0}return this.b}};let R;async function w(d){return R||(R=(async()=>await a(d)||v.$2g())()),R}async function a(d){try{const p=await new Promise((b,h)=>{Q(["crypto"],b,h)}).then(ye),I=(0,k.$Rn)();return p.createHash("sha256").update(I,"utf8").digest("hex")}catch(p){d(p);return}}const f="Software\\Microsoft\\SQMClient";async function c(d){if(C.$j){const p=await new Promise((I,b)=>{Q(["@vscode/windows-registry"],I,b)}).then(ye);try{return p.GetStringRegKey("HKEY_LOCAL_MACHINE",f,"MachineId")||""}catch(I){return d(I),""}}return""}async function m(d){try{return await(await new Promise((b,h)=>{Q(["@vscode/deviceid"],b,h)}).then(ye)).getDeviceId()}catch(p){return d(p),""}}}),define(ue[85],he([0,1,35,15,29]),function(Q,e,S,P,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$wm=g,e.$xm=O,S=ye(S),P=ye(P),v=ye(v);const k=/^\d+$/,C=/^Microsoft.PowerShell_.*/,R=/^Microsoft.PowerShellPreview_.*/;var w;(function(y){y[y.x64=0]="x64",y[y.x86=1]="x86",y[y.ARM=2]="ARM"})(w||(w={}));let a;switch(process.arch){case"ia32":a=w.x86;break;case"arm":case"arm64":a=w.ARM;break;default:a=w.x64;break}let f;process.env.PROCESSOR_ARCHITEW6432?f=process.env.PROCESSOR_ARCHITEW6432==="ARM64"?w.ARM:w.x64:process.env.PROCESSOR_ARCHITECTURE==="ARM64"?f=w.ARM:process.env.PROCESSOR_ARCHITECTURE==="X86"?f=w.x86:f=w.x64;class c{constructor(i,l,n){this.exePath=i,this.displayName=l,this.a=n}async exists(){return this.a===void 0&&(this.a=await v.SymlinkSupport.existsFile(this.exePath)),this.a}}function m({useAlternateBitness:y=!1}={}){return y?a===w.x64?process.env["ProgramFiles(x86)"]||null:f===w.x64&&process.env.ProgramW6432||null:process.env.ProgramFiles||null}async function d({useAlternateBitness:y=!1,findPreview:i=!1}={}){const l=m({useAlternateBitness:y});if(!l)return null;const n=P.$jc(l,"PowerShell");if(!await v.SymlinkSupport.existsDirectory(n))return null;let s=-1,t=null;for(const u of await v.Promises.readdir(n)){let $=-1;if(i){const L=u.indexOf("-");if(L<0)continue;const A=u.substring(0,L);if(!k.test(A)||u.substring(L+1)!=="preview")continue;$=parseInt(A,10)}else{if(!k.test(u))continue;$=parseInt(u,10)}if($<=s)continue;const N=P.$jc(n,u,"pwsh.exe");await v.SymlinkSupport.existsFile(N)&&(t=N,s=$)}if(!t)return null;const r=l.includes("x86")?" (x86)":"",o=i?" Preview":"";return new c(t,`PowerShell${o}${r}`,!0)}async function p({findPreview:y}={}){if(!process.env.LOCALAPPDATA)return null;const i=P.$jc(process.env.LOCALAPPDATA,"Microsoft","WindowsApps");if(!await v.SymlinkSupport.existsDirectory(i))return null;const{pwshMsixDirRegex:l,pwshMsixName:n}=y?{pwshMsixDirRegex:R,pwshMsixName:"PowerShell Preview (Store)"}:{pwshMsixDirRegex:C,pwshMsixName:"PowerShell (Store)"};for(const s of await v.Promises.readdir(i))if(l.test(s)){const t=P.$jc(i,s,"pwsh.exe");return new c(t,n)}return null}function I(){const y=P.$jc(S.homedir(),".dotnet","tools","pwsh.exe");return new c(y,".NET Core PowerShell Global Tool")}function b(){const y=P.$jc(process.env.windir,a===w.x86&&f!==w.x86?"SysNative":"System32","WindowsPowerShell","v1.0","powershell.exe");return new c(y,"Windows PowerShell",!0)}async function*h(){let y=await d();y&&(yield y),y=await d({useAlternateBitness:!0}),y&&(yield y),y=await p(),y&&(yield y),y=I(),y&&(yield y),y=await d({findPreview:!0}),y&&(yield y),y=await p({findPreview:!0}),y&&(yield y),y=await d({useAlternateBitness:!0,findPreview:!0}),y&&(yield y),y=b(),y&&(yield y)}async function*g(){for await(const y of h())await y.exists()&&(yield y)}async function O(){for await(const y of g())return y;return null}}),define(ue[58],he([0,1,32,15,12,36,56,3,29]),function(Q,e,S,P,v,k,C,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.win32=e.TerminateResponseCode=e.Source=void 0,e.$ym=a,e.$zm=f,P=ye(P),v=ye(v),k=ye(k),R=ye(R),w=ye(w),Object.defineProperty(e,"Source",{enumerable:!0,get:function(){return C.Source}}),Object.defineProperty(e,"TerminateResponseCode",{enumerable:!0,get:function(){return C.TerminateResponseCode}});function a(m=k.env){return m.comspec||"cmd.exe"}function f(m){let d=[],p=!1;const I=function(b){if(p){d.push(b);return}(!m.send(b,g=>{if(g&&console.error(g),p=!1,d.length>0){const O=d.slice(0);d=[],O.forEach(y=>I(y))}})||v.$j)&&(p=!0)};return{send:I}}var c;(function(m){async function d(p,I,b){if(P.$ic(p))return p;if(I===void 0&&(I=k.cwd()),P.$mc(p)!=="."||(b===void 0&&R.$eg(k.env.PATH)&&(b=k.env.PATH.split(P.$tc)),b===void 0||b.length===0))return P.$jc(I,p);async function g(O){if(await w.Promises.exists(O)){let y;try{y=await S.promises.stat(O)}catch(i){i.message.startsWith("EACCES")&&(y=await S.promises.lstat(O))}return y?!y.isDirectory():!1}return!1}for(const O of b){let y;if(P.$ic(O)?y=P.$jc(O,p):y=P.$jc(I,O,p),await g(y))return y;let i=y+".com";if(await g(i)||(i=y+".exe",await g(i)))return i}return P.$jc(I,p)}m.findExecutable=d})(c||(e.win32=c={}))}),define(ue[86],he([0,1,35,12,85,58]),function(Q,e,S,P,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Am=C,P=ye(P),k=ye(k);async function C(c,m){return c===P.OperatingSystem.Windows?P.$j?f():k.$ym(m):w(c,m)}let R=null;function w(c,m){if(P.$l&&c===P.OperatingSystem.Macintosh||P.$k&&c===P.OperatingSystem.Linux)return"/bin/bash";if(!R){let d;if(P.$j)d="/bin/bash";else{if(d=m.SHELL,!d)try{d=(0,S.userInfo)().shell}catch{}d||(d="sh"),d==="/bin/false"&&(d="/bin/bash")}R=d}return R}let a=null;async function f(){return a||(a=(await(0,v.$xm)()).exePath),a}});var be=this&&this.__decorate||function(Q,e,S,P){var v=arguments.length,k=v<3?e:P===null?P=Object.getOwnPropertyDescriptor(e,S):P,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(Q,e,S,P);else for(var R=Q.length-1;R>=0;R--)(C=Q[R])&&(k=(v<3?C(k):v>3?C(e,S,k):C(e,S))||k);return v>3&&k&&Object.defineProperty(e,S,k),k};define(ue[59],he([0,1,19,8,13,21,55,7,4,2,48,31,3]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$oi=e.ProxyChannel=e.$ni=e.$ki=e.$ji=e.$ii=e.RequestInitiator=e.$hi=e.$ei=e.$di=void 0,e.$fi=o,e.$gi=u,e.$li=U,e.$mi=G,c=ye(c);var d;(function(B){B[B.Promise=100]="Promise",B[B.PromiseCancel=101]="PromiseCancel",B[B.EventListen=102]="EventListen",B[B.EventDispose=103]="EventDispose"})(d||(d={}));function p(B){switch(B){case d.Promise:return"req";case d.PromiseCancel:return"cancel";case d.EventListen:return"subscribe";case d.EventDispose:return"unsubscribe"}}var I;(function(B){B[B.Initialize=200]="Initialize",B[B.PromiseSuccess=201]="PromiseSuccess",B[B.PromiseError=202]="PromiseError",B[B.PromiseErrorObj=203]="PromiseErrorObj",B[B.EventFire=204]="EventFire"})(I||(I={}));function b(B){switch(B){case I.Initialize:return"init";case I.PromiseSuccess:return"reply:";case I.PromiseError:case I.PromiseErrorObj:return"replyErr:";case I.EventFire:return"event:"}}var h;(function(B){B[B.Uninitialized=0]="Uninitialized",B[B.Idle=1]="Idle"})(h||(h={}));function g(B){let q=0;for(let K=0;;K+=7){const J=B.read(1);if(q|=(J.buffer[0]&127)<<K,!(J.buffer[0]&128))return q}}const O=s(0);function y(B,q){if(q===0){B.write(O);return}let K=0;for(let ie=q;ie!==0;ie=ie>>>7)K++;const J=v.$Ne.alloc(K);for(let ie=0;q!==0;ie++)J.buffer[ie]=q&127,q=q>>>7,q>0&&(J.buffer[ie]|=128);B.write(J)}class i{constructor(q){this.b=q,this.a=0}read(q){const K=this.b.slice(this.a,this.a+q);return this.a+=K.byteLength,K}}e.$di=i;class l{constructor(){this.a=[]}get buffer(){return v.$Ne.concat(this.a)}write(q){this.a.push(q)}}e.$ei=l;var n;(function(B){B[B.Undefined=0]="Undefined",B[B.String=1]="String",B[B.Buffer=2]="Buffer",B[B.VSBuffer=3]="VSBuffer",B[B.Array=4]="Array",B[B.Object=5]="Object",B[B.Int=6]="Int"})(n||(n={}));function s(B){const q=v.$Ne.alloc(1);return q.writeUInt8(B,0),q}const t={Undefined:s(n.Undefined),String:s(n.String),Buffer:s(n.Buffer),VSBuffer:s(n.VSBuffer),Array:s(n.Array),Object:s(n.Object),Uint:s(n.Int)},r=typeof Buffer<"u";function o(B,q){if(typeof q>"u")B.write(t.Undefined);else if(typeof q=="string"){const K=v.$Ne.fromString(q);B.write(t.String),y(B,K.byteLength),B.write(K)}else if(r&&Buffer.isBuffer(q)){const K=v.$Ne.wrap(q);B.write(t.Buffer),y(B,K.byteLength),B.write(K)}else if(q instanceof v.$Ne)B.write(t.VSBuffer),y(B,q.byteLength),B.write(q);else if(Array.isArray(q)){B.write(t.Array),y(B,q.length);for(const K of q)o(B,K)}else if(typeof q=="number"&&(q|0)===q)B.write(t.Uint),y(B,q);else{const K=v.$Ne.fromString(JSON.stringify(q));B.write(t.Object),y(B,K.byteLength),B.write(K)}}function u(B){switch(B.read(1).readUInt8(0)){case n.Undefined:return;case n.String:return B.read(g(B)).toString();case n.Buffer:return B.read(g(B)).buffer;case n.VSBuffer:return B.read(g(B));case n.Array:{const K=g(B),J=[];for(let ie=0;ie<K;ie++)J.push(u(B));return J}case n.Object:return JSON.parse(B.read(g(B)).toString());case n.Int:return g(B)}}class ${constructor(q,K,J=null,ie=1e3){this.h=q,this.j=K,this.k=J,this.l=ie,this.b=new Map,this.d=new Map,this.g=new Map,this.f=this.h.onMessage(se=>this.q(se)),this.m({type:I.Initialize})}registerChannel(q,K){this.b.set(q,K),setTimeout(()=>this.w(q),0)}m(q){switch(q.type){case I.Initialize:{const K=this.o([q.type]);this.k?.logOutgoing(K,0,N.OtherSide,b(q.type));return}case I.PromiseSuccess:case I.PromiseError:case I.EventFire:case I.PromiseErrorObj:{const K=this.o([q.type,q.id],q.data);this.k?.logOutgoing(K,q.id,N.OtherSide,b(q.type),q.data);return}}}o(q,K=void 0){const J=new l;return o(J,q),o(J,K),this.p(J.buffer)}p(q){try{return this.h.send(q),q.byteLength}catch{return 0}}q(q){const K=new i(q),J=u(K),ie=u(K),se=J[0];switch(se){case d.Promise:return this.k?.logIncoming(q.byteLength,J[1],N.OtherSide,`${p(se)}: ${J[2]}.${J[3]}`,ie),this.s({type:se,id:J[1],channelName:J[2],name:J[3],arg:ie});case d.EventListen:return this.k?.logIncoming(q.byteLength,J[1],N.OtherSide,`${p(se)}: ${J[2]}.${J[3]}`,ie),this.t({type:se,id:J[1],channelName:J[2],name:J[3],arg:ie});case d.PromiseCancel:return this.k?.logIncoming(q.byteLength,J[1],N.OtherSide,`${p(se)}`),this.u({type:se,id:J[1]});case d.EventDispose:return this.k?.logIncoming(q.byteLength,J[1],N.OtherSide,`${p(se)}`),this.u({type:se,id:J[1]})}}s(q){const K=this.b.get(q.channelName);if(!K){this.v(q);return}const J=new k.$we;let ie;try{ie=K.call(this.j,q.name,q.arg,J.token)}catch(W){ie=Promise.reject(W)}const se=q.id;ie.then(W=>{this.m({id:se,data:W,type:I.PromiseSuccess})},W=>{W instanceof Error?this.m({id:se,data:{message:W.message,name:W.name,stack:W.stack?W.stack.split(`
`):void 0},type:I.PromiseError}):this.m({id:se,data:W,type:I.PromiseErrorObj})}).finally(()=>{T.dispose(),this.d.delete(q.id)});const T=(0,a.$Sc)(()=>J.cancel());this.d.set(q.id,T)}t(q){const K=this.b.get(q.channelName);if(!K){this.v(q);return}const J=q.id,se=K.listen(this.j,q.name,q.arg)(T=>this.m({id:J,data:T,type:I.EventFire}));this.d.set(q.id,se)}u(q){const K=this.d.get(q.id);K&&(K.dispose(),this.d.delete(q.id))}v(q){let K=this.g.get(q.channelName);K||(K=[],this.g.set(q.channelName,K));const J=setTimeout(()=>{console.error(`Unknown channel: ${q.channelName}`),q.type===d.Promise&&this.m({id:q.id,data:{name:"Unknown channel",message:`Channel name '${q.channelName}' timed out after ${this.l}ms`,stack:void 0},type:I.PromiseError})},this.l);K.push({request:q,timeoutTimer:J})}w(q){const K=this.g.get(q);if(K){for(const J of K)switch(clearTimeout(J.timeoutTimer),J.request.type){case d.Promise:this.s(J.request);break;case d.EventListen:this.t(J.request);break}this.g.delete(q)}}dispose(){this.f&&(this.f.dispose(),this.f=null),(0,a.$Pc)(this.d.values()),this.d.clear()}}e.$hi=$;var N;(function(B){B[B.LocalSide=0]="LocalSide",B[B.OtherSide=1]="OtherSide"})(N||(e.RequestInitiator=N={}));class L{constructor(q,K=null){this.l=q,this.a=!1,this.b=h.Uninitialized,this.d=new Set,this.f=new Map,this.g=0,this.k=new w.$le,this.onDidInitialize=this.k.event,this.h=this.l.onMessage(J=>this.s(J)),this.j=K}getChannel(q){const K=this;return{call(J,ie,se){return K.a?Promise.reject(new R.$4):K.m(q,J,ie,se)},listen(J,ie){return K.a?w.Event.None:K.o(q,J,ie)}}}m(q,K,J,ie=k.CancellationToken.None){const se=this.g++,T=d.Promise,W={id:se,type:T,channelName:q,name:K,arg:J};if(ie.isCancellationRequested)return Promise.reject(new R.$4);let z;return new Promise((j,X)=>{if(ie.isCancellationRequested)return X(new R.$4);const F=()=>{const oe=ce=>{switch(ce.type){case I.PromiseSuccess:this.f.delete(se),j(ce.data);break;case I.PromiseError:{this.f.delete(se);const ve=new Error(ce.data.message);ve.stack=Array.isArray(ce.data.stack)?ce.data.stack.join(`
`):ce.data.stack,ve.name=ce.data.name,X(ve);break}case I.PromiseErrorObj:this.f.delete(se),X(ce.data);break}};this.f.set(se,oe),this.p(W)};let M=null;this.b===h.Idle?F():(M=(0,P.$sh)(oe=>this.u()),M.then(()=>{M=null,F()}));const x=()=>{M?(M.cancel(),M=null):this.p({id:se,type:d.PromiseCancel}),X(new R.$4)},ne=ie.onCancellationRequested(x);z=(0,a.$Rc)((0,a.$Sc)(x),ne),this.d.add(z)}).finally(()=>{z.dispose(),this.d.delete(z)})}o(q,K,J){const ie=this.g++,se=d.EventListen,T={id:ie,type:se,channelName:q,name:K,arg:J};let W=null;const z=new w.$le({onWillAddFirstListener:()=>{W=(0,P.$sh)(j=>this.u()),W.then(()=>{W=null,this.d.add(z),this.p(T)})},onDidRemoveLastListener:()=>{W?(W.cancel(),W=null):(this.d.delete(z),this.p({id:ie,type:d.EventDispose}))}}),E=j=>z.fire(j.data);return this.f.set(ie,E),z.event}p(q){switch(q.type){case d.Promise:case d.EventListen:{const K=this.q([q.type,q.id,q.channelName,q.name],q.arg);this.j?.logOutgoing(K,q.id,N.LocalSide,`${p(q.type)}: ${q.channelName}.${q.name}`,q.arg);return}case d.PromiseCancel:case d.EventDispose:{const K=this.q([q.type,q.id]);this.j?.logOutgoing(K,q.id,N.LocalSide,p(q.type));return}}}q(q,K=void 0){const J=new l;return o(J,q),o(J,K),this.r(J.buffer)}r(q){try{return this.l.send(q),q.byteLength}catch{return 0}}s(q){const K=new i(q),J=u(K),ie=u(K),se=J[0];switch(se){case I.Initialize:return this.j?.logIncoming(q.byteLength,0,N.LocalSide,b(se)),this.t({type:J[0]});case I.PromiseSuccess:case I.PromiseError:case I.EventFire:case I.PromiseErrorObj:return this.j?.logIncoming(q.byteLength,J[1],N.LocalSide,b(se),ie),this.t({type:J[0],id:J[1],data:ie})}}t(q){if(q.type===I.Initialize){this.b=h.Idle,this.k.fire();return}this.f.get(q.id)?.(q)}get onDidInitializePromise(){return w.Event.toPromise(this.onDidInitialize)}u(){return this.b===h.Idle?Promise.resolve():this.onDidInitializePromise}dispose(){this.a=!0,this.h&&(this.h.dispose(),this.h=null),(0,a.$Pc)(this.d.values()),this.d.clear()}}e.$ii=L,be([C.$0h],L.prototype,"onDidInitializePromise",null);class A{get connections(){const q=[];return this.f.forEach(K=>q.push(K)),q}constructor(q,K,J){this.a=new Map,this.f=new Set,this.g=new w.$le,this.onDidAddConnection=this.g.event,this.h=new w.$le,this.onDidRemoveConnection=this.h.event,this.j=new a.$Tc,this.j.add(q(({protocol:ie,onDidClientDisconnect:se})=>{const T=w.Event.once(ie.onMessage);this.j.add(T(W=>{const z=new i(W),E=u(z),j=new $(ie,E,K,J),X=new L(ie,K);this.a.forEach((M,x)=>j.registerChannel(x,M));const F={channelServer:j,channelClient:X,ctx:E};this.f.add(F),this.g.fire(F),this.j.add(se(()=>{j.dispose(),X.dispose(),this.f.delete(F),this.h.fire(F)}))}))}))}getChannel(q,K){const J=this;return{call(ie,se,T){let W;if((0,m.$sg)(K)){const E=(0,S.$2b)(J.connections.filter(K));W=E?Promise.resolve(E):w.Event.toPromise(w.Event.filter(J.onDidAddConnection,K))}else W=K.routeCall(J,ie,se);const z=W.then(E=>E.channelClient.getChannel(q));return U(z).call(ie,se,T)},listen(ie,se){if((0,m.$sg)(K))return J.k(q,K,ie,se);const T=K.routeEvent(J,ie,se).then(W=>W.channelClient.getChannel(q));return U(T).listen(ie,se)}}}k(q,K,J,ie){const se=this;let T;const W=new w.$le({onWillAddFirstListener:()=>{T=new a.$Tc;const z=new w.$re,E=new Map,j=F=>{const x=F.channelClient.getChannel(q).listen(J,ie),ne=z.add(x);E.set(F,ne)},X=F=>{const M=E.get(F);M&&(M.dispose(),E.delete(F))};se.connections.filter(K).forEach(j),w.Event.filter(se.onDidAddConnection,K)(j,void 0,T),se.onDidRemoveConnection(X,void 0,T),z.event(W.fire,W,T),T.add(z)},onDidRemoveLastListener:()=>{T?.dispose(),T=void 0}});return W.event}registerChannel(q,K){this.a.set(q,K);for(const J of this.f)J.channelServer.registerChannel(q,K)}dispose(){this.j.dispose();for(const q of this.f)q.channelClient.dispose(),q.channelServer.dispose();this.f.clear(),this.a.clear(),this.g.dispose(),this.h.dispose()}}e.$ji=A;class D{constructor(q,K,J=null){const ie=new l;o(ie,K),q.send(ie.buffer),this.a=new L(q,J),this.d=new $(q,K,J)}getChannel(q){return this.a.getChannel(q)}registerChannel(q,K){this.d.registerChannel(q,K)}dispose(){this.a.dispose(),this.d.dispose()}}e.$ki=D;function U(B){return{call(q,K,J){return B.then(ie=>ie.call(q,K,J))},listen(q,K){const J=new w.$ue;return B.then(ie=>J.input=ie.listen(q,K)),J.event}}}function G(B){let q=!1;return{call(K,J,ie){return q?B.call(K,J,ie):(0,P.$Gh)(0).then(()=>q=!0).then(()=>B.call(K,J,ie))},listen(K,J){if(q)return B.listen(K,J);const ie=new w.$ue;return(0,P.$Gh)(0).then(()=>q=!0).then(()=>ie.input=B.listen(K,J)),ie.event}}}class Z{constructor(q){this.a=q}routeCall(q){return this.b(q)}routeEvent(q){return this.b(q)}async b(q){for(const K of q.connections)if(await Promise.resolve(this.a(K.ctx)))return Promise.resolve(K);return await w.Event.toPromise(q.onDidAddConnection),await this.b(q)}}e.$ni=Z;var te;(function(B){function q(se,T,W){const z=se,E=W&&W.disableMarshalling,j=new Map;for(const X in z)J(X)&&j.set(X,w.Event.buffer(z[X],!0,void 0,T));return new class{listen(X,F,M){const x=j.get(F);if(x)return x;const ne=z[F];if(typeof ne=="function"){if(ie(F))return ne.call(z,M);if(J(F))return j.set(F,w.Event.buffer(z[F],!0,void 0,T)),j.get(F)}throw new R.$ab(`Event not found: ${F}`)}call(X,F,M){const x=z[F];if(typeof x=="function"){if(!E&&Array.isArray(M))for(let oe=0;oe<M.length;oe++)M[oe]=(0,f.$ci)(M[oe]);let ne=x.apply(z,M);return ne instanceof Promise||(ne=Promise.resolve(ne)),ne}throw new R.$ab(`Method not found: ${F}`)}}}B.fromService=q;function K(se,T){const W=T&&T.disableMarshalling;return new Proxy({},{get(z,E){if(typeof E=="string")return T?.properties?.has(E)?T.properties.get(E):ie(E)?function(j){return se.listen(E,j)}:J(E)?se.listen(E):async function(...j){let X;T&&!(0,m.$ng)(T.context)?X=[T.context,...j]:X=j;const F=await se.call(E,X);return W?F:(0,f.$ci)(F)};throw new R.$ab(`Property not found: ${String(E)}`)}})}B.toService=K;function J(se){return se[0]==="o"&&se[1]==="n"&&c.$Ef(se.charCodeAt(2))}function ie(se){return/^onDynamic/.test(se)&&c.$Ef(se.charCodeAt(9))}})(te||(e.ProxyChannel=te={}));const ae=[["#2977B1","#FC802D","#34A13A","#D3282F","#9366BA"],["#8B564C","#E177C0","#7F7F7F","#BBBE3D","#2EBECD"]];function le(B){if(Array.isArray(B))return B;if(B&&typeof B=="object"&&typeof B.toString=="function"){const q=B.toString();if(q!=="[object Object]")return q}return B}function de(B){return Array.isArray(B)?B.map(le):le(B)}function H(B,q,K,J,ie,se,T){T=de(T);const W=ae[ie],z=W[J%W.length];let E=[`%c[${B}]%c[${String(q).padStart(7," ")}]%c[len: ${String(K).padStart(5," ")}]%c${String(J).padStart(5," ")} - ${se}`,"color: darkgreen","color: grey","color: grey",`color: ${z}`];/\($/.test(se)?(E=E.concat(T),E.push(")")):E.push(T),console.log.apply(console,E)}class Y{constructor(q,K){this.d=q,this.f=K,this.a=0,this.b=0}logOutgoing(q,K,J,ie,se){this.b+=q,H(this.d,this.b,q,K,J,ie,se)}logIncoming(q,K,J,ie,se){this.a+=q,H(this.f,this.a,q,K,J,ie,se)}}e.$oi=Y}),define(ue[87],he([0,1,60,8,13,21,81,7,4,2,27,58,56,59]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ir=e.$hr=void 0,R=ye(R);class p extends d.$hi{constructor(h){super({send:g=>{try{process.send?.(g.buffer.toString("base64"))}catch{}},onMessage:w.Event.fromNodeEventEmitter(process,"message",g=>v.$Ne.wrap(Buffer.from(g,"base64")))},h),process.once("disconnect",()=>this.dispose())}}e.$hr=p;class I{constructor(h,g){this.i=h,this.j=g,this.c=new Set,this.g=new Map,this.h=new w.$le,this.onDidProcessExit=this.h.event;const O=g&&g.timeout?g.timeout:6e4;this.b=new P.$Ch(O),this.d=null,this.f=null}getChannel(h){const g=this;return{call(O,y,i){return g.k(h,O,y,i)},listen(O,y){return g.l(h,O,y)}}}k(h,g,O,y=k.CancellationToken.None){if(!this.b)return Promise.reject(new Error("disposed"));if(y.isCancellationRequested)return Promise.reject(R.$5());this.b.cancel();const i=this.n(h),l=(0,P.$sh)(t=>i.call(g,O,t)),n=y.onCancellationRequested(()=>l.cancel()),s=(0,a.$Sc)(()=>l.cancel());return this.c.add(s),l.finally(()=>{n.dispose(),this.c.delete(s),this.c.size===0&&this.b&&this.b.trigger(()=>this.o())}),l}l(h,g,O){if(!this.b)return w.Event.None;this.b.cancel();let y;const i=new w.$le({onWillAddFirstListener:()=>{y=this.n(h).listen(g,O)(i.fire,i),this.c.add(y)},onDidRemoveLastListener:()=>{this.c.delete(y),y.dispose(),this.c.size===0&&this.b&&this.b.trigger(()=>this.o())}});return i.event}get m(){if(!this.f){const h=this.j&&this.j.args?this.j.args:[],g=Object.create(null);g.env={...(0,f.$eo)(process.env),VSCODE_PARENT_PID:String(process.pid)},this.j&&this.j.env&&(g.env={...g.env,...this.j.env}),this.j&&this.j.freshExecArgv&&(g.execArgv=[]),this.j&&typeof this.j.debug=="number"&&(g.execArgv=["--nolazy","--inspect="+this.j.debug]),this.j&&typeof this.j.debugBrk=="number"&&(g.execArgv=["--nolazy","--inspect-brk="+this.j.debugBrk]),g.execArgv===void 0&&(g.execArgv=process.execArgv.filter(o=>!/^--inspect(-brk)?=/.test(o)).filter(o=>!o.startsWith("--vscode-"))),(0,m.$mm)(g.env),this.d=(0,S.fork)(this.i,h,g);const O=new w.$le,i=w.Event.fromNodeEventEmitter(this.d,"message",o=>o)(o=>{if((0,C.$dr)(o)){(0,C.log)(o,`IPC Library: ${this.j.serverName}`);return}O.fire(v.$Ne.wrap(Buffer.from(o,"base64")))}),l=this.j.useQueue?(0,c.$zm)(this.d):this.d,n=o=>this.d&&this.d.connected&&l.send(o.buffer.toString("base64")),s=O.event,t={send:n,onMessage:s};this.f=new d.$ii(t);const r=()=>this.o();process.once("exit",r),this.d.on("error",o=>console.warn('IPC "'+this.j.serverName+'" errored with '+o)),this.d.on("exit",(o,u)=>{process.removeListener("exit",r),i.dispose(),this.c.forEach($=>(0,a.$Pc)($)),this.c.clear(),o!==0&&u!=="SIGTERM"&&console.warn('IPC "'+this.j.serverName+'" crashed with exit code '+o+" and signal "+u),this.b?.cancel(),this.o(),this.h.fire({code:o,signal:u})})}return this.f}n(h){let g=this.g.get(h);return g||(g=this.m.getChannel(h),this.g.set(h,g)),g}o(){this.f&&(this.d&&(this.d.kill(),this.d=null),this.f=null,this.g.clear())}dispose(){this.h.dispose(),this.b?.cancel(),this.b=void 0,this.o(),this.c.clear()}}e.$ir=I}),define(ue[88],he([0,1,8,4,2,48,3]),function(Q,e,S,P,v,k,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$fq=e.$eq=e.StorageState=e.StorageHint=void 0,e.$dq=w;var R;(function(m){m[m.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",m[m.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(R||(e.StorageHint=R={}));function w(m){const d=m;return d?.changed instanceof Map||d?.deleted instanceof Set}var a;(function(m){m[m.None=0]="None",m[m.Initialized=1]="Initialized",m[m.Closed=2]="Closed"})(a||(e.StorageState=a={}));class f extends v.$Uc{static{this.a=100}constructor(d,p=Object.create(null)){super(),this.r=d,this.s=p,this.b=this.B(new P.$oe),this.onDidChangeStorage=this.b.event,this.c=a.None,this.f=new Map,this.g=this.B(new S.$Dh(f.a)),this.h=new Set,this.j=new Map,this.m=void 0,this.n=[],this.t()}t(){this.B(this.r.onDidChangeItemsExternal(d=>this.u(d)))}u(d){this.b.pause();try{d.changed?.forEach((p,I)=>this.w(I,p)),d.deleted?.forEach(p=>this.w(p,void 0))}finally{this.b.resume()}}w(d,p){if(this.c===a.Closed)return;let I=!1;(0,C.$ng)(p)?I=this.f.delete(d):this.f.get(d)!==p&&(this.f.set(d,p),I=!0),I&&this.b.fire({key:d,external:!0})}get items(){return this.f}get size(){return this.f.size}async init(){this.c===a.None&&(this.c=a.Initialized,this.s.hint!==R.STORAGE_DOES_NOT_EXIST&&(this.f=await this.r.getItems()))}get(d,p){const I=this.f.get(d);return(0,C.$ng)(I)?p:I}getBoolean(d,p){const I=this.get(d);return(0,C.$ng)(I)?p:I==="true"}getNumber(d,p){const I=this.get(d);return(0,C.$ng)(I)?p:parseInt(I,10)}getObject(d,p){const I=this.get(d);return(0,C.$ng)(I)?p:(0,k.$bi)(I)}async set(d,p,I=!1){if(this.c===a.Closed)return;if((0,C.$ng)(p))return this.delete(d,I);const b=(0,C.$gg)(p)||Array.isArray(p)?(0,k.$ai)(p):String(p);if(this.f.get(d)!==b)return this.f.set(d,b),this.j.set(d,b),this.h.delete(d),this.b.fire({key:d,external:I}),this.D()}async delete(d,p=!1){if(!(this.c===a.Closed||!this.f.delete(d)))return this.h.has(d)||this.h.add(d),this.j.delete(d),this.b.fire({key:d,external:p}),this.D()}async optimize(){if(this.c!==a.Closed)return await this.flush(0),this.r.optimize()}async close(){return this.m||(this.m=this.y()),this.m}async y(){this.c=a.Closed;try{await this.D(0)}catch{}await this.r.close(()=>this.f)}get z(){return this.j.size>0||this.h.size>0}async C(){if(!this.z)return;const d={insert:this.j,delete:this.h};return this.h=new Set,this.j=new Map,this.r.updateItems(d).finally(()=>{if(!this.z)for(;this.n.length;)this.n.pop()?.()})}async flush(d){if(!(this.c===a.Closed||this.m))return this.D(d)}async D(d){return this.s.hint===R.STORAGE_IN_MEMORY?this.C():this.g.trigger(()=>this.C(),d)}async whenFlushed(){if(this.z)return new Promise(d=>this.n.push(d))}isInMemory(){return this.s.hint===R.STORAGE_IN_MEMORY}}e.$eq=f;class c{constructor(){this.onDidChangeItemsExternal=P.Event.None,this.a=new Map}async getItems(){return this.a}async updateItems(d){d.insert?.forEach((p,I)=>this.a.set(I,p)),d.delete?.forEach(p=>this.a.delete(p))}async optimize(){}async close(){}}e.$fq=c}),define(ue[89],he([0,1,5]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$2m=a,e.$3m=f,e.$4m=c;const P=60,v=P*60,k=v*24,C=k*7,R=k*30,w=k*365;function a(m,d,p,I){typeof m!="number"&&(m=m.getTime());const b=Math.round((new Date().getTime()-m)/1e3);if(b<-30)return(0,S.localize)(12987,null,a(new Date().getTime()+b*1e3,!1));if(!I&&b<30)return(0,S.localize)(12988,null);let h;return b<P?(h=b,d?h===1?p?(0,S.localize)(12989,null,h):(0,S.localize)(12990,null,h):p?(0,S.localize)(12991,null,h):(0,S.localize)(12992,null,h):h===1?p?(0,S.localize)(12993,null,h):(0,S.localize)(12994,null,h):p?(0,S.localize)(12995,null,h):(0,S.localize)(12996,null,h)):b<v?(h=Math.floor(b/P),d?h===1?p?(0,S.localize)(12997,null,h):(0,S.localize)(12998,null,h):p?(0,S.localize)(12999,null,h):(0,S.localize)(13e3,null,h):h===1?p?(0,S.localize)(13001,null,h):(0,S.localize)(13002,null,h):p?(0,S.localize)(13003,null,h):(0,S.localize)(13004,null,h)):b<k?(h=Math.floor(b/v),d?h===1?p?(0,S.localize)(13005,null,h):(0,S.localize)(13006,null,h):p?(0,S.localize)(13007,null,h):(0,S.localize)(13008,null,h):h===1?p?(0,S.localize)(13009,null,h):(0,S.localize)(13010,null,h):p?(0,S.localize)(13011,null,h):(0,S.localize)(13012,null,h)):b<C?(h=Math.floor(b/k),d?h===1?(0,S.localize)(13013,null,h):(0,S.localize)(13014,null,h):h===1?(0,S.localize)(13015,null,h):(0,S.localize)(13016,null,h)):b<R?(h=Math.floor(b/C),d?h===1?p?(0,S.localize)(13017,null,h):(0,S.localize)(13018,null,h):p?(0,S.localize)(13019,null,h):(0,S.localize)(13020,null,h):h===1?p?(0,S.localize)(13021,null,h):(0,S.localize)(13022,null,h):p?(0,S.localize)(13023,null,h):(0,S.localize)(13024,null,h)):b<w?(h=Math.floor(b/R),d?h===1?p?(0,S.localize)(13025,null,h):(0,S.localize)(13026,null,h):p?(0,S.localize)(13027,null,h):(0,S.localize)(13028,null,h):h===1?p?(0,S.localize)(13029,null,h):(0,S.localize)(13030,null,h):p?(0,S.localize)(13031,null,h):(0,S.localize)(13032,null,h)):(h=Math.floor(b/w),d?h===1?p?(0,S.localize)(13033,null,h):(0,S.localize)(13034,null,h):p?(0,S.localize)(13035,null,h):(0,S.localize)(13036,null,h):h===1?p?(0,S.localize)(13037,null,h):(0,S.localize)(13038,null,h):p?(0,S.localize)(13039,null,h):(0,S.localize)(13040,null,h))}function f(m,d){const p=Math.abs(m/1e3);return p<1?d?(0,S.localize)(13041,null,m):(0,S.localize)(13042,null,m):p<P?d?(0,S.localize)(13043,null,Math.round(m)/1e3):(0,S.localize)(13044,null,Math.round(m)/1e3):p<v?d?(0,S.localize)(13045,null,Math.round(m/(1e3*P))):(0,S.localize)(13046,null,Math.round(m/(1e3*P))):p<k?d?(0,S.localize)(13047,null,Math.round(m/(1e3*v))):(0,S.localize)(13048,null,Math.round(m/(1e3*v))):(0,S.localize)(13049,null,Math.round(m/(1e3*k)))}function c(m){return m.getFullYear()+"-"+String(m.getMonth()+1).padStart(2,"0")+"-"+String(m.getDate()).padStart(2,"0")+"T"+String(m.getHours()).padStart(2,"0")+":"+String(m.getMinutes()).padStart(2,"0")+":"+String(m.getSeconds()).padStart(2,"0")+"."+(m.getMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}),define(ue[38],he([0,1,19,3,5]),function(Q,e,S,P,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$qj=w,e.$rj=a,e.$sj=f,S=ye(S),P=ye(P),v=ye(v);function k(c,m){return m&&(c.stack||c.stacktrace)?v.localize(12981,null,R(c),C(c.stack)||C(c.stacktrace)):R(c)}function C(c){return Array.isArray(c)?c.join(`
`):c}function R(c){return c.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${c.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof c.code=="string"&&typeof c.errno=="number"&&typeof c.syscall=="string"?v.localize(12982,null,c.message):c.message||v.localize(12983,null)}function w(c=null,m=!1){if(!c)return v.localize(12984,null);if(Array.isArray(c)){const d=S.$Gb(c),p=w(d[0],m);return d.length>1?v.localize(12985,null,p,d.length):p}if(P.$eg(c))return c;if(c.detail){const d=c.detail;if(d.error)return k(d.error,m);if(d.exception)return k(d.exception,m)}return c.stack?k(c,m):c.message?c.message:v.localize(12986,null)}function a(c){const m=c;return m instanceof Error&&Array.isArray(m.actions)}function f(c,m){let d;return typeof c=="string"?d=new Error(c):d=c,d.actions=m,d}}),define(ue[90],he([0,1,5,34]),function(Q,e,S,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Lq=v;function v(k){switch(k){case P.ParseErrorCode.InvalidSymbol:return(0,S.localize)(12972,null);case P.ParseErrorCode.InvalidNumberFormat:return(0,S.localize)(12973,null);case P.ParseErrorCode.PropertyNameExpected:return(0,S.localize)(12974,null);case P.ParseErrorCode.ValueExpected:return(0,S.localize)(12975,null);case P.ParseErrorCode.ColonExpected:return(0,S.localize)(12976,null);case P.ParseErrorCode.CommaExpected:return(0,S.localize)(12977,null);case P.ParseErrorCode.CloseBraceExpected:return(0,S.localize)(12978,null);case P.ParseErrorCode.CloseBracketExpected:return(0,S.localize)(12979,null);case P.ParseErrorCode.EndOfFileExpected:return(0,S.localize)(12980,null);default:return""}}}),define(ue[50],he([0,1,32,8,15,3,29,5]),function(Q,e,S,P,v,k,C,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Bq=e.$Aq=void 0,e.zip=b,e.$Dq=h,e.$Eq=O,v=ye(v),R=ye(R),e.$Aq="end of central directory record signature not found";const w=new RegExp(e.$Aq);class a extends Error{constructor(i,l){let n=l.message;switch(i){case"CorruptZip":n=`Corrupt ZIP: ${n}`;break}super(n),this.type=i,this.cause=l}}e.$Bq=a;function f(y){const i=y.externalFileAttributes>>16||33188;return[448,56,7].map(l=>i&l).reduce((l,n)=>l+n,i&61440)}function c(y){if(y instanceof a)return y;let i;return w.test(y.message)&&(i="CorruptZip"),new a(i,y)}function m(y,i,l,n,s,t){const r=v.$mc(i),o=v.$jc(n,r);if(!o.startsWith(n))return Promise.reject(new Error(R.localize(12949,null,i)));const u=v.$jc(n,i);let $;return t.onCancellationRequested(()=>{$?.destroy()}),Promise.resolve(S.promises.mkdir(o,{recursive:!0})).then(()=>new Promise((N,L)=>{if(!t.isCancellationRequested)try{$=(0,S.createWriteStream)(u,{mode:l}),$.once("close",()=>N()),$.once("error",L),y.once("error",L),y.pipe($)}catch(A){L(A)}}))}function d(y,i,l,n){let s=(0,P.$sh)(()=>Promise.resolve()),t=0;const r=n.onCancellationRequested(()=>{s.cancel(),y.close()});return new Promise((o,u)=>{const $=new P.$Ah,N=L=>{L.isCancellationRequested||(t++,y.readEntry())};y.once("error",u),y.once("close",()=>s.then(()=>{n.isCancellationRequested||y.entryCount===t?o():u(new a("Incomplete",new Error(R.localize(12950,null,t,y.entryCount))))},u)),y.readEntry(),y.on("entry",L=>{if(n.isCancellationRequested)return;if(!l.sourcePathRegex.test(L.fileName)){N(n);return}const A=L.fileName.replace(l.sourcePathRegex,"");if(/\/$/.test(A)){const G=v.$jc(i,A);s=(0,P.$sh)(Z=>S.promises.mkdir(G,{recursive:!0}).then(()=>N(Z)).then(void 0,u));return}const D=I(y,L),U=f(L);s=(0,P.$sh)(G=>$.queue(()=>D.then(Z=>m(Z,A,U,i,l,G).then(()=>N(G)))).then(null,u))})}).finally(()=>r.dispose())}async function p(y,i=!1){const{open:l}=await new Promise((n,s)=>{Q(["yauzl"],n,s)}).then(ye);return new Promise((n,s)=>{l(y,i?{lazyEntries:!0}:void 0,(t,r)=>{t?s(c(t)):n((0,k.$pg)(r))})})}function I(y,i){return new Promise((l,n)=>{y.openReadStream(i,(s,t)=>{s?n(c(s)):l((0,k.$pg)(t))})})}async function b(y,i){const{ZipFile:l}=await new Promise((n,s)=>{Q(["yazl"],n,s)}).then(ye);return new Promise((n,s)=>{const t=new l;i.forEach(o=>{o.contents?t.addBuffer(typeof o.contents=="string"?Buffer.from(o.contents,"utf8"):o.contents,o.path):o.localPath&&t.addFile(o.localPath,o.path)}),t.end();const r=(0,S.createWriteStream)(y);t.outputStream.pipe(r),t.outputStream.once("error",s),r.once("error",s),r.once("finish",()=>n(y))})}function h(y,i,l={},n){const s=new RegExp(l.sourcePath?`^${l.sourcePath}`:"");let t=p(y,!0);return l.overwrite&&(t=t.then(r=>C.Promises.rm(i).then(()=>r))),t.then(r=>d(r,i,{sourcePathRegex:s},n))}function g(y,i){return p(y).then(l=>new Promise((n,s)=>{l.on("entry",t=>{t.fileName===i&&I(l,t).then(r=>n(r),r=>s(r))}),l.once("close",()=>s(new Error(R.localize(12951,null,i))))}))}function O(y,i){return g(y,i).then(l=>new Promise((n,s)=>{const t=[];l.once("error",s),l.on("data",r=>t.push(r)),l.on("end",()=>n(Buffer.concat(t)))}))}}),define(ue[91],he([0,1,92,7,5]),function(Q,e,S,P,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Aj=e.TokenType=void 0;var k;(function(f){f[f.LParen=0]="LParen",f[f.RParen=1]="RParen",f[f.Neg=2]="Neg",f[f.Eq=3]="Eq",f[f.NotEq=4]="NotEq",f[f.Lt=5]="Lt",f[f.LtEq=6]="LtEq",f[f.Gt=7]="Gt",f[f.GtEq=8]="GtEq",f[f.RegexOp=9]="RegexOp",f[f.RegexStr=10]="RegexStr",f[f.True=11]="True",f[f.False=12]="False",f[f.In=13]="In",f[f.Not=14]="Not",f[f.And=15]="And",f[f.Or=16]="Or",f[f.Str=17]="Str",f[f.QuotedStr=18]="QuotedStr",f[f.Error=19]="Error",f[f.EOF=20]="EOF"})(k||(e.TokenType=k={}));function C(...f){switch(f.length){case 1:return(0,v.localize)(11585,null,f[0]);case 2:return(0,v.localize)(11586,null,f[0],f[1]);case 3:return(0,v.localize)(11587,null,f[0],f[1],f[2]);default:return}}const R=(0,v.localize)(11588,null),w=(0,v.localize)(11589,null);class a{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(c){switch(c.type){case k.LParen:return"(";case k.RParen:return")";case k.Neg:return"!";case k.Eq:return c.isTripleEq?"===":"==";case k.NotEq:return c.isTripleEq?"!==":"!=";case k.Lt:return"<";case k.LtEq:return"<=";case k.Gt:return">=";case k.GtEq:return">=";case k.RegexOp:return"=~";case k.RegexStr:return c.lexeme;case k.True:return"true";case k.False:return"false";case k.In:return"in";case k.Not:return"not";case k.And:return"&&";case k.Or:return"||";case k.Str:return c.lexeme;case k.QuotedStr:return c.lexeme;case k.Error:return c.lexeme;case k.EOF:return"EOF";default:throw(0,P.$7)(`unhandled token type: ${JSON.stringify(c)}; have you forgotten to add a case?`)}}static{this.a=new Set(["i","g","s","m","y","u"].map(c=>c.charCodeAt(0)))}static{this.b=new Map([["not",k.Not],["in",k.In],["false",k.False],["true",k.True]])}get errors(){return this.g}reset(c){return this.c=c,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case S.CharCode.OpenParen:this.k(k.LParen);break;case S.CharCode.CloseParen:this.k(k.RParen);break;case S.CharCode.ExclamationMark:if(this.h(S.CharCode.Equals)){const m=this.h(S.CharCode.Equals);this.f.push({type:k.NotEq,offset:this.d,isTripleEq:m})}else this.k(k.Neg);break;case S.CharCode.SingleQuote:this.o();break;case S.CharCode.Slash:this.q();break;case S.CharCode.Equals:if(this.h(S.CharCode.Equals)){const m=this.h(S.CharCode.Equals);this.f.push({type:k.Eq,offset:this.d,isTripleEq:m})}else this.h(S.CharCode.Tilde)?this.k(k.RegexOp):this.l(C("==","=~"));break;case S.CharCode.LessThan:this.k(this.h(S.CharCode.Equals)?k.LtEq:k.Lt);break;case S.CharCode.GreaterThan:this.k(this.h(S.CharCode.Equals)?k.GtEq:k.Gt);break;case S.CharCode.Ampersand:this.h(S.CharCode.Ampersand)?this.k(k.And):this.l(C("&&"));break;case S.CharCode.Pipe:this.h(S.CharCode.Pipe)?this.k(k.Or):this.l(C("||"));break;case S.CharCode.Space:case S.CharCode.CarriageReturn:case S.CharCode.Tab:case S.CharCode.LineFeed:case S.CharCode.NoBreakSpace:break;default:this.n()}return this.d=this.e,this.k(k.EOF),Array.from(this.f)}h(c){return this.r()||this.c.charCodeAt(this.e)!==c?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?S.CharCode.Null:this.c.charCodeAt(this.e)}k(c){this.f.push({type:c,offset:this.d})}l(c){const m=this.d,d=this.c.substring(this.d,this.e),p={type:k.Error,offset:this.d,lexeme:d};this.g.push({offset:m,lexeme:d,additionalInfo:c}),this.f.push(p)}n(){this.m.lastIndex=this.d;const c=this.m.exec(this.c);if(c){this.e=this.d+c[0].length;const m=this.c.substring(this.d,this.e),d=a.b.get(m);d?this.k(d):this.f.push({type:k.Str,lexeme:m,offset:this.d})}}o(){for(;this.j()!==S.CharCode.SingleQuote&&!this.r();)this.i();if(this.r()){this.l(R);return}this.i(),this.f.push({type:k.QuotedStr,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let c=this.e,m=!1,d=!1;for(;;){if(c>=this.c.length){this.e=c,this.l(w);return}const I=this.c.charCodeAt(c);if(m)m=!1;else if(I===S.CharCode.Slash&&!d){c++;break}else I===S.CharCode.OpenSquareBracket?d=!0:I===S.CharCode.Backslash?m=!0:I===S.CharCode.CloseSquareBracket&&(d=!1);c++}for(;c<this.c.length&&a.a.has(this.c.charCodeAt(c));)c++;this.e=c;const p=this.c.substring(this.d,this.e);this.f.push({type:k.RegexStr,lexeme:p,offset:this.d})}r(){return this.e>=this.c.length}}e.$Aj=a}),define(ue[93],he([0,1,89,55,14,15,36,16,11]),function(Q,e,S,P,v,k,C,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$6m=e.$5m=void 0,e.$7m=f,e.$8m=c,e.$5m=/^([^.]+\..+)[:=](.+)$/;class a{get appRoot(){return(0,k.$mc)(v.$Zg.asFileUri("").fsPath)}get userHome(){return w.URI.file(this.b.homeDir)}get userDataPath(){return this.b.userDataDir}get appSettingsHome(){return w.URI.file((0,k.$jc)(this.userDataPath,"User"))}get tmpDir(){return w.URI.file(this.b.tmpDir)}get cacheHome(){return w.URI.file(this.userDataPath)}get stateResource(){return(0,R.$gh)(this.appSettingsHome,"globalStorage","storage.json")}get userRoamingDataHome(){return this.appSettingsHome.with({scheme:v.Schemas.vscodeUserData})}get userDataSyncHome(){return(0,R.$gh)(this.appSettingsHome,"sync")}get logsHome(){if(!this.args.logsPath){const d=(0,S.$4m)(new Date).replace(/-|:|\.\d+Z$/g,"");this.args.logsPath=(0,k.$jc)(this.userDataPath,"logs",d)}return w.URI.file(this.args.logsPath)}get sync(){return this.args.sync}get machineSettingsResource(){return(0,R.$gh)(w.URI.file((0,k.$jc)(this.userDataPath,"Machine")),"settings.json")}get workspaceStorageHome(){return(0,R.$gh)(this.appSettingsHome,"workspaceStorage")}get localHistoryHome(){return(0,R.$gh)(this.appSettingsHome,"History")}get keyboardLayoutResource(){return(0,R.$gh)(this.userRoamingDataHome,"keyboardLayout.json")}get argvResource(){const d=C.env.VSCODE_PORTABLE;return d?w.URI.file((0,k.$jc)(d,"argv.json")):(0,R.$gh)(this.userHome,this.c.dataFolderName,"argv.json")}get isExtensionDevelopment(){return!!this.args.extensionDevelopmentPath}get untitledWorkspacesHome(){return w.URI.file((0,k.$jc)(this.userDataPath,"Workspaces"))}get builtinExtensionsPath(){const d=this.args["builtin-extensions-dir"];return d?(0,k.$kc)(d):(0,k.$hc)((0,k.$jc)(v.$Zg.asFileUri("").fsPath,"..","extensions"))}get extensionsDownloadLocation(){const d=this.args["extensions-download-dir"];return d?w.URI.file((0,k.$kc)(d)):w.URI.file((0,k.$jc)(this.userDataPath,"CachedExtensionVSIXs"))}get extensionsPath(){const d=this.args["extensions-dir"];if(d)return(0,k.$kc)(d);const p=C.env.VSCODE_EXTENSIONS;if(p)return p;const I=C.env.VSCODE_PORTABLE;return I?(0,k.$jc)(I,"extensions"):(0,R.$gh)(this.userHome,this.c.dataFolderName,"extensions").fsPath}get extensionDevelopmentLocationURI(){const d=this.args.extensionDevelopmentPath;if(Array.isArray(d))return d.map(p=>/^[^:/?#]+?:\/\//.test(p)?w.URI.parse(p):w.URI.file((0,k.$hc)(p)))}get extensionDevelopmentKind(){return this.args.extensionDevelopmentKind?.map(d=>d==="ui"||d==="workspace"||d==="web"?d:"workspace")}get extensionTestsLocationURI(){const d=this.args.extensionTestsPath;if(d)return/^[^:/?#]+?:\/\//.test(d)?w.URI.parse(d):w.URI.file((0,k.$hc)(d))}get disableExtensions(){if(this.args["disable-extensions"])return!0;const d=this.args["disable-extension"];if(d){if(typeof d=="string")return[d];if(Array.isArray(d)&&d.length>0)return d}return!1}get debugExtensionHost(){return f(this.args,this.isBuilt)}get debugRenderer(){return!!this.args.debugRenderer}get isBuilt(){return!C.env.VSCODE_DEV}get verbose(){return!!this.args.verbose}get logLevel(){return this.args.log?.find(d=>!e.$5m.test(d))}get extensionLogLevel(){const d=[];for(const p of this.args.log||[]){const I=e.$5m.exec(p);I&&I[1]&&I[2]&&d.push([I[1],I[2]])}return d.length?d:void 0}get serviceMachineIdResource(){return(0,R.$gh)(w.URI.file(this.userDataPath),"machineid")}get crashReporterId(){return this.args["crash-reporter-id"]}get crashReporterDirectory(){return this.args["crash-reporter-directory"]}get disableTelemetry(){return!!this.args["disable-telemetry"]}get disableWorkspaceTrust(){return!!this.args["disable-workspace-trust"]}get useInMemorySecretStorage(){return!!this.args["use-inmemory-secretstorage"]}get policyFile(){if(this.args["__enable-file-policy"]){const d=C.env.VSCODE_PORTABLE;return d?w.URI.file((0,k.$jc)(d,"policy.json")):(0,R.$gh)(this.userHome,this.c.dataFolderName,"policy.json")}}get continueOn(){return this.args.continueOn}set continueOn(d){this.args.continueOn=d}get args(){return this.a}constructor(d,p,I){this.a=d,this.b=p,this.c=I,this.editSessionId=this.args.editSessionId}}e.$6m=a,be([P.$0h],a.prototype,"appRoot",null),be([P.$0h],a.prototype,"userHome",null),be([P.$0h],a.prototype,"userDataPath",null),be([P.$0h],a.prototype,"appSettingsHome",null),be([P.$0h],a.prototype,"tmpDir",null),be([P.$0h],a.prototype,"cacheHome",null),be([P.$0h],a.prototype,"stateResource",null),be([P.$0h],a.prototype,"userRoamingDataHome",null),be([P.$0h],a.prototype,"userDataSyncHome",null),be([P.$0h],a.prototype,"sync",null),be([P.$0h],a.prototype,"machineSettingsResource",null),be([P.$0h],a.prototype,"workspaceStorageHome",null),be([P.$0h],a.prototype,"localHistoryHome",null),be([P.$0h],a.prototype,"keyboardLayoutResource",null),be([P.$0h],a.prototype,"argvResource",null),be([P.$0h],a.prototype,"isExtensionDevelopment",null),be([P.$0h],a.prototype,"untitledWorkspacesHome",null),be([P.$0h],a.prototype,"builtinExtensionsPath",null),be([P.$0h],a.prototype,"extensionsPath",null),be([P.$0h],a.prototype,"extensionDevelopmentLocationURI",null),be([P.$0h],a.prototype,"extensionDevelopmentKind",null),be([P.$0h],a.prototype,"extensionTestsLocationURI",null),be([P.$0h],a.prototype,"debugExtensionHost",null),be([P.$0h],a.prototype,"logLevel",null),be([P.$0h],a.prototype,"extensionLogLevel",null),be([P.$0h],a.prototype,"serviceMachineIdResource",null),be([P.$0h],a.prototype,"disableTelemetry",null),be([P.$0h],a.prototype,"disableWorkspaceTrust",null),be([P.$0h],a.prototype,"useInMemorySecretStorage",null),be([P.$0h],a.prototype,"policyFile",null);function f(m,d){return c(m["inspect-extensions"],m["inspect-brk-extensions"],5870,d,m.debugId,m.extensionEnvironment)}function c(m,d,p,I,b,h){const O=Number(d||m)||(I?null:p),y=O?!!d:!1;let i;if(h)try{i=JSON.parse(h)}catch{}return{port:O,break:y,debugId:b,env:i}}}),function(){function Q(e,S,P){function v(C,R){const w=k(C,R),a=[w];return e.isAbsolute(w)||a.unshift(P),e.resolve(...a)}function k(C,R){process.env.VSCODE_DEV&&(R="code-oss-dev");const w=process.env.VSCODE_PORTABLE;if(w)return e.join(w,"user-data");let a=process.env.VSCODE_APPDATA;if(a)return e.join(a,R);const f=C["user-data-dir"];if(f)return f;switch(process.platform){case"win32":if(a=process.env.APPDATA,!a){const c=process.env.USERPROFILE;if(typeof c!="string")throw new Error("Windows: Unexpected undefined %USERPROFILE% environment variable");a=e.join(c,"AppData","Roaming")}break;case"darwin":a=e.join(S.homedir(),"Library","Application Support");break;case"linux":a=process.env.XDG_CONFIG_HOME||e.join(S.homedir(),".config");break;default:throw new Error("Platform not supported")}return e.join(a,R)}return{getUserDataPath:v}}if(typeof define=="function")define(ue[94],he([148,35,36]),function(e,S,P){return Q(e,S,P.cwd())});else if(typeof module=="object"&&typeof module.exports=="object"){const e=require("path"),S=require("os");module.exports=Q(e,S,process.env.VSCODE_CWD||process.cwd())}else throw new Error("Unknown context")}(),define(ue[95],he([0,1,35,93,94]),function(Q,e,S,P,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$9m=void 0,e.$0m=C,e.$$m=R;class k extends P.$6m{constructor(a,f){super(a,{homeDir:(0,S.homedir)(),tmpDir:(0,S.tmpdir)(),userDataDir:(0,v.getUserDataPath)(a,f.nameShort)},f)}}e.$9m=k;function C(w,a){return(0,P.$8m)(w["inspect-ptyhost"],w["inspect-brk-ptyhost"],5877,a,w.extensionEnvironment)}function R(w,a){return(0,P.$8m)(w["inspect-sharedprocess"],w["inspect-brk-sharedprocess"],5879,a,w.extensionEnvironment)}}),define(ue[96],he([0,1,3,5]),function(Q,e,S,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Mq=v;function v(C,R,w,a){try{k(C,R,w,a)}catch(f){C.error(f?.message??f)}return R}function k(C,R,w,a){const f=(c,m,d)=>{const p=c[m];if((0,S.$eg)(p)){const I=p,b=I.length;if(b>1&&I[0]==="%"&&I[b-1]==="%"){const h=I.substr(1,b-2);let g=w[h];g===void 0&&a&&(g=a[h]);const O=typeof g=="string"?g:g?.message,y=a?.[h],i=typeof y=="string"?y:y?.message;if(!O){i||C.warn(`[${R.name}]: ${(0,P.localize)(11468,null,h)}`);return}if(d&&(m==="title"||m==="category")&&i&&i!==O){const l={value:O,original:i};c[m]=l}else c[m]=O}}else if((0,S.$gg)(p))for(const I in p)p.hasOwnProperty(I)&&(I==="commands"?f(p,I,!0):f(p,I,d));else if(Array.isArray(p))for(let I=0;I<p.length;I++)f(p,I,d)};for(const c in R)R.hasOwnProperty(c)&&f(R,c)}}),define(ue[97],he([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allApiProposals=void 0;const S={activeComment:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.activeComment.d.ts"},aiRelatedInformation:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.aiRelatedInformation.d.ts"},aiTextSearchProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.aiTextSearchProvider.d.ts"},aiTextSearchProviderNew:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.aiTextSearchProviderNew.d.ts"},attributableCoverage:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.attributableCoverage.d.ts"},authGetSessions:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.authGetSessions.d.ts"},authLearnMore:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.authLearnMore.d.ts"},authSession:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.authSession.d.ts"},canonicalUriProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.canonicalUriProvider.d.ts"},chatParticipantAdditions:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatParticipantAdditions.d.ts"},chatParticipantPrivate:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatParticipantPrivate.d.ts",version:2},chatProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatProvider.d.ts"},chatTab:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatTab.d.ts"},chatVariableResolver:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatVariableResolver.d.ts"},codeActionAI:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.codeActionAI.d.ts"},codeActionRanges:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.codeActionRanges.d.ts"},codiconDecoration:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.codiconDecoration.d.ts"},commentReactor:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentReactor.d.ts"},commentReveal:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentReveal.d.ts"},commentThreadApplicability:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentThreadApplicability.d.ts"},commentingRangeHint:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentingRangeHint.d.ts"},commentsDraftState:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentsDraftState.d.ts"},contribAccessibilityHelpContent:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribAccessibilityHelpContent.d.ts"},contribCommentEditorActionsMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentEditorActionsMenu.d.ts"},contribCommentPeekContext:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentPeekContext.d.ts"},contribCommentThreadAdditionalMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentThreadAdditionalMenu.d.ts"},contribCommentsViewThreadMenus:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentsViewThreadMenus.d.ts"},contribDiffEditorGutterToolBarMenus:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribDiffEditorGutterToolBarMenus.d.ts"},contribEditSessions:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribEditSessions.d.ts"},contribEditorContentMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribEditorContentMenu.d.ts"},contribIssueReporter:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribIssueReporter.d.ts"},contribLabelFormatterWorkspaceTooltip:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribLabelFormatterWorkspaceTooltip.d.ts"},contribMenuBarHome:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMenuBarHome.d.ts"},contribMergeEditorMenus:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMergeEditorMenus.d.ts"},contribMultiDiffEditorMenus:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMultiDiffEditorMenus.d.ts"},contribNotebookStaticPreloads:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribNotebookStaticPreloads.d.ts"},contribRemoteHelp:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribRemoteHelp.d.ts"},contribShareMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribShareMenu.d.ts"},contribSourceControlHistoryItemChangesMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribSourceControlHistoryItemChangesMenu.d.ts"},contribSourceControlHistoryItemGroupMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribSourceControlHistoryItemGroupMenu.d.ts"},contribSourceControlHistoryItemMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribSourceControlHistoryItemMenu.d.ts"},contribSourceControlInputBoxMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribSourceControlInputBoxMenu.d.ts"},contribSourceControlTitleMenu:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribSourceControlTitleMenu.d.ts"},contribStatusBarItems:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribStatusBarItems.d.ts"},contribViewsRemote:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsRemote.d.ts"},contribViewsWelcome:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsWelcome.d.ts"},createFileSystemWatcher:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.createFileSystemWatcher.d.ts"},customEditorMove:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.customEditorMove.d.ts"},debugVisualization:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.debugVisualization.d.ts"},defaultChatParticipant:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.defaultChatParticipant.d.ts"},diffCommand:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.diffCommand.d.ts"},diffContentOptions:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.diffContentOptions.d.ts"},documentFiltersExclusive:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentFiltersExclusive.d.ts"},documentPaste:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentPaste.d.ts"},editSessionIdentityProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editSessionIdentityProvider.d.ts"},editorHoverVerbosityLevel:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editorHoverVerbosityLevel.d.ts"},editorInsets:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editorInsets.d.ts"},embeddings:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.embeddings.d.ts"},extensionRuntime:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionRuntime.d.ts"},extensionsAny:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionsAny.d.ts"},externalUriOpener:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.externalUriOpener.d.ts"},fileComments:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fileComments.d.ts"},fileSearchProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fileSearchProvider.d.ts"},fileSearchProviderNew:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fileSearchProviderNew.d.ts"},findFiles2:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findFiles2.d.ts"},findFiles2New:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findFiles2New.d.ts"},findTextInFiles:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findTextInFiles.d.ts"},findTextInFilesNew:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findTextInFilesNew.d.ts"},fsChunks:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fsChunks.d.ts"},idToken:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.idToken.d.ts"},inlineCompletionsAdditions:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.inlineCompletionsAdditions.d.ts"},inlineEdit:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.inlineEdit.d.ts"},interactive:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.interactive.d.ts"},interactiveWindow:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.interactiveWindow.d.ts"},ipc:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.ipc.d.ts"},languageModelSystem:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.languageModelSystem.d.ts"},languageStatusText:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.languageStatusText.d.ts"},lmTools:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.lmTools.d.ts",version:2},mappedEditsProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.mappedEditsProvider.d.ts"},multiDocumentHighlightProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.multiDocumentHighlightProvider.d.ts"},newSymbolNamesProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.newSymbolNamesProvider.d.ts"},notebookCellExecution:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookCellExecution.d.ts"},notebookCellExecutionState:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookCellExecutionState.d.ts"},notebookControllerAffinityHidden:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookControllerAffinityHidden.d.ts"},notebookDeprecated:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookDeprecated.d.ts"},notebookExecution:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookExecution.d.ts"},notebookKernelSource:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookKernelSource.d.ts"},notebookLiveShare:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookLiveShare.d.ts"},notebookMessaging:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMessaging.d.ts"},notebookMime:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMime.d.ts"},notebookVariableProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookVariableProvider.d.ts"},portsAttributes:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.portsAttributes.d.ts"},profileContentHandlers:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.profileContentHandlers.d.ts"},quickDiffProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickDiffProvider.d.ts"},quickInputButtonLocation:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickInputButtonLocation.d.ts"},quickPickItemTooltip:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickPickItemTooltip.d.ts"},quickPickSortByLabel:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickPickSortByLabel.d.ts"},resolvers:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.resolvers.d.ts"},scmActionButton:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmActionButton.d.ts"},scmHistoryProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmHistoryProvider.d.ts"},scmMultiDiffEditor:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmMultiDiffEditor.d.ts"},scmSelectedProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmSelectedProvider.d.ts"},scmTextDocument:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmTextDocument.d.ts"},scmValidation:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmValidation.d.ts"},shareProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.shareProvider.d.ts"},showLocal:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.showLocal.d.ts"},speech:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.speech.d.ts"},tabInputMultiDiff:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tabInputMultiDiff.d.ts"},tabInputTextMerge:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tabInputTextMerge.d.ts"},taskPresentationGroup:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.taskPresentationGroup.d.ts"},telemetry:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.telemetry.d.ts"},terminalDataWriteEvent:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDataWriteEvent.d.ts"},terminalDimensions:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDimensions.d.ts"},terminalExecuteCommandEvent:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalExecuteCommandEvent.d.ts"},terminalQuickFixProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalQuickFixProvider.d.ts"},terminalSelection:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalSelection.d.ts"},terminalShellIntegration:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalShellIntegration.d.ts"},testMessageStackTrace:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testMessageStackTrace.d.ts"},testObserver:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testObserver.d.ts"},testRelatedCode:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testRelatedCode.d.ts"},textSearchCompleteNew:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textSearchCompleteNew.d.ts"},textSearchProvider:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textSearchProvider.d.ts"},textSearchProviderNew:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textSearchProviderNew.d.ts"},timeline:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.timeline.d.ts"},tokenInformation:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tokenInformation.d.ts"},treeViewActiveItem:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeViewActiveItem.d.ts"},treeViewMarkdownMessage:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeViewMarkdownMessage.d.ts"},treeViewReveal:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeViewReveal.d.ts"},tunnelFactory:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tunnelFactory.d.ts"},tunnels:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tunnels.d.ts"},workspaceTrust:{proposal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.workspaceTrust.d.ts"}};e.allApiProposals=Object.freeze(S)}),define(ue[51],he([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ci=void 0;class S{constructor(v,k=[],C=!1){this.ctor=v,this.staticArguments=k,this.supportsDelayedInstantiation=C}}e.$Ci=S}),define(ue[98],he([0,1,51]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationType=void 0,e.$Rs=k,e.$Ss=C;const P=[];var v;(function(R){R[R.Eager=0]="Eager",R[R.Delayed=1]="Delayed"})(v||(e.InstantiationType=v={}));function k(R,w,a){w instanceof S.$Ci||(w=new S.$Ci(w,[],!!a)),P.push([R,w])}function C(){return P}}),define(ue[99],he([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$vr=e.$ur=void 0;class S{constructor(k,C){this.key=k,this.data=C,this.incoming=new Map,this.outgoing=new Map}}e.$ur=S;class P{constructor(k){this.b=k,this.a=new Map}roots(){const k=[];for(const C of this.a.values())C.outgoing.size===0&&k.push(C);return k}insertEdge(k,C){const R=this.lookupOrInsertNode(k),w=this.lookupOrInsertNode(C);R.outgoing.set(w.key,w),w.incoming.set(R.key,R)}removeNode(k){const C=this.b(k);this.a.delete(C);for(const R of this.a.values())R.outgoing.delete(C),R.incoming.delete(C)}lookupOrInsertNode(k){const C=this.b(k);let R=this.a.get(C);return R||(R=new S(C,k),this.a.set(C,R)),R}lookup(k){return this.a.get(this.b(k))}isEmpty(){return this.a.size===0}toString(){const k=[];for(const[C,R]of this.a)k.push(`${C}
	(-> incoming)[${[...R.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...R.outgoing.keys()].join(",")}]
`);return k.join(`
`)}findCycleSlow(){for(const[k,C]of this.a){const R=new Set([k]),w=this.c(C,R);if(w)return w}}c(k,C){for(const[R,w]of k.outgoing){if(C.has(R))return[...C,R].join(" -> ");C.add(R);const a=this.c(w,C);if(a)return a;C.delete(R)}}}e.$vr=P}),define(ue[30],he([0,1,3,11,10]),function(Q,e,S,P,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationTarget=e.$_i=void 0,e.$aj=k,e.$bj=C,e.$cj=w,e.$dj=a,e.$ej=f,e.$fj=c,e.$gj=m,e.$hj=p,e.$ij=I,e.$jj=b,S=ye(S),e.$_i=(0,v.$Fi)("configurationService");function k(h){return h&&typeof h=="object"&&(!h.overrideIdentifier||typeof h.overrideIdentifier=="string")&&(!h.resource||h.resource instanceof P.URI)}function C(h){return h&&typeof h=="object"&&(!h.overrideIdentifiers||Array.isArray(h.overrideIdentifiers))&&!h.overrideIdentifier&&(!h.resource||h.resource instanceof P.URI)}var R;(function(h){h[h.APPLICATION=1]="APPLICATION",h[h.USER=2]="USER",h[h.USER_LOCAL=3]="USER_LOCAL",h[h.USER_REMOTE=4]="USER_REMOTE",h[h.WORKSPACE=5]="WORKSPACE",h[h.WORKSPACE_FOLDER=6]="WORKSPACE_FOLDER",h[h.DEFAULT=7]="DEFAULT",h[h.MEMORY=8]="MEMORY"})(R||(e.ConfigurationTarget=R={}));function w(h){switch(h){case R.APPLICATION:return"APPLICATION";case R.USER:return"USER";case R.USER_LOCAL:return"USER_LOCAL";case R.USER_REMOTE:return"USER_REMOTE";case R.WORKSPACE:return"WORKSPACE";case R.WORKSPACE_FOLDER:return"WORKSPACE_FOLDER";case R.DEFAULT:return"DEFAULT";case R.MEMORY:return"MEMORY"}}function a(h){return h.applicationValue!==void 0||h.userValue!==void 0||h.userLocalValue!==void 0||h.userRemoteValue!==void 0||h.workspaceValue!==void 0||h.workspaceFolderValue!==void 0}function f(h,g){const O=Object.create(null);for(const y in h)c(O,y,h[y],g);return O}function c(h,g,O,y){const i=g.split("."),l=i.pop();let n=h;for(let s=0;s<i.length;s++){const t=i[s];let r=n[t];switch(typeof r){case"undefined":r=n[t]=Object.create(null);break;case"object":if(r===null){y(`Ignoring ${g} as ${i.slice(0,s+1).join(".")} is null`);return}break;default:y(`Ignoring ${g} as ${i.slice(0,s+1).join(".")} is ${JSON.stringify(r)}`);return}n=r}if(typeof n=="object"&&n!==null)try{n[l]=O}catch{y(`Ignoring ${g} as ${i.join(".")} is ${JSON.stringify(n)}`)}else y(`Ignoring ${g} as ${i.join(".")} is ${JSON.stringify(n)}`)}function m(h,g){const O=g.split(".");d(h,O)}function d(h,g){const O=g.shift();if(g.length===0){delete h[O];return}if(Object.keys(h).indexOf(O)!==-1){const y=h[O];typeof y=="object"&&!Array.isArray(y)&&(d(y,g),Object.keys(y).length===0&&delete h[O])}}function p(h,g,O){function y(n,s){let t=n;for(const r of s){if(typeof t!="object"||t===null)return;t=t[r]}return t}const i=g.split("."),l=y(h,i);return typeof l>"u"?O:l}function I(h,g,O){Object.keys(g).forEach(y=>{y!=="__proto__"&&(y in h?S.$gg(h[y])&&S.$gg(g[y])?I(h[y],g[y],O):O&&(h[y]=g[y]):h[y]=g[y])})}function b(h){return h.replace(/[\[\]]/g,"")}}),define(ue[100],he([0,1,92,12,31,91,10,5,7]),function(Q,e,S,P,v,k,C,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Xj=e.$Wj=e.$Vj=e.$Uj=e.$Tj=e.$Sj=e.$Rj=e.$Qj=e.$Pj=e.$Oj=e.$Nj=e.$Mj=e.$Lj=e.$Kj=e.$Jj=e.$Ij=e.$Hj=e.$Gj=e.$Dj=e.$Cj=e.ContextKeyExprType=void 0,e.$Bj=f,e.$Ej=s,e.$Fj=t,e.$Yj=se;const a=new Map;a.set("false",!1),a.set("true",!0),a.set("isMac",P.$k),a.set("isLinux",P.$l),a.set("isWindows",P.$j),a.set("isWeb",P.$p),a.set("isMacNative",P.$k&&!P.$p),a.set("isEdge",P.$I),a.set("isFirefox",P.$G),a.set("isChrome",P.$F),a.set("isSafari",P.$H);function f(z,E){if(a.get(z)!==void 0)throw(0,w.$6)("contextkey.setConstant(k, v) invoked with already set constant `k`");a.set(z,E)}const c=Object.prototype.hasOwnProperty;var m;(function(z){z[z.False=0]="False",z[z.True=1]="True",z[z.Defined=2]="Defined",z[z.Not=3]="Not",z[z.Equals=4]="Equals",z[z.NotEquals=5]="NotEquals",z[z.And=6]="And",z[z.Regex=7]="Regex",z[z.NotRegex=8]="NotRegex",z[z.Or=9]="Or",z[z.In=10]="In",z[z.NotIn=11]="NotIn",z[z.Greater=12]="Greater",z[z.GreaterEquals=13]="GreaterEquals",z[z.Smaller=14]="Smaller",z[z.SmallerEquals=15]="SmallerEquals"})(m||(e.ContextKeyExprType=m={}));const d={regexParsingWithErrorRecovery:!0},p=(0,R.localize)(11599,null),I=(0,R.localize)(11600,null),b=(0,R.localize)(11601,null),h=(0,R.localize)(11602,null),g=(0,R.localize)(11603,null),O=(0,R.localize)(11604,null),y=(0,R.localize)(11605,null),i=(0,R.localize)(11606,null);class l{static{this.c=new Error}get lexingErrors(){return this.d.errors}get parsingErrors(){return this.h}constructor(E=d){this.k=E,this.d=new k.$Aj,this.f=[],this.g=0,this.h=[],this.v=/g|y/g}parse(E){if(E===""){this.h.push({message:p,offset:0,lexeme:"",additionalInfo:I});return}this.f=this.d.reset(E).scan(),this.g=0,this.h=[];try{const j=this.l();if(!this.E()){const X=this.D(),F=X.type===k.TokenType.Str?O:void 0;throw this.h.push({message:g,offset:X.offset,lexeme:k.$Aj.getLexeme(X),additionalInfo:F}),l.c}return j}catch(j){if(j!==l.c)throw j;return}}l(){return this.m()}m(){const E=[this.o()];for(;this.y(k.TokenType.Or);){const j=this.o();E.push(j)}return E.length===1?E[0]:n.or(...E)}o(){const E=[this.s()];for(;this.y(k.TokenType.And);){const j=this.s();E.push(j)}return E.length===1?E[0]:n.and(...E)}s(){if(this.y(k.TokenType.Neg)){const E=this.D();switch(E.type){case k.TokenType.True:return this.z(),o.INSTANCE;case k.TokenType.False:return this.z(),u.INSTANCE;case k.TokenType.LParen:{this.z();const j=this.l();return this.A(k.TokenType.RParen,h),j?.negate()}case k.TokenType.Str:return this.z(),U.create(E.lexeme);default:throw this.B("KEY | true | false | '(' expression ')'",E)}}return this.t()}t(){const E=this.D();switch(E.type){case k.TokenType.True:return this.z(),n.true();case k.TokenType.False:return this.z(),n.false();case k.TokenType.LParen:{this.z();const j=this.l();return this.A(k.TokenType.RParen,h),j}case k.TokenType.Str:{const j=E.lexeme;if(this.z(),this.y(k.TokenType.RegexOp)){const F=this.D();if(!this.k.regexParsingWithErrorRecovery){if(this.z(),F.type!==k.TokenType.RegexStr)throw this.B("REGEX",F);const M=F.lexeme,x=M.lastIndexOf("/"),ne=x===M.length-1?void 0:this.w(M.substring(x+1));let oe;try{oe=new RegExp(M.substring(1,x),ne)}catch{throw this.B("REGEX",F)}return de.create(j,oe)}switch(F.type){case k.TokenType.RegexStr:case k.TokenType.Error:{const M=[F.lexeme];this.z();let x=this.D(),ne=0;for(let $e=0;$e<F.lexeme.length;$e++)F.lexeme.charCodeAt($e)===S.CharCode.OpenParen?ne++:F.lexeme.charCodeAt($e)===S.CharCode.CloseParen&&ne--;for(;!this.E()&&x.type!==k.TokenType.And&&x.type!==k.TokenType.Or;){switch(x.type){case k.TokenType.LParen:ne++;break;case k.TokenType.RParen:ne--;break;case k.TokenType.RegexStr:case k.TokenType.QuotedStr:for(let $e=0;$e<x.lexeme.length;$e++)x.lexeme.charCodeAt($e)===S.CharCode.OpenParen?ne++:F.lexeme.charCodeAt($e)===S.CharCode.CloseParen&&ne--}if(ne<0)break;M.push(k.$Aj.getLexeme(x)),this.z(),x=this.D()}const oe=M.join(""),ce=oe.lastIndexOf("/"),ve=ce===oe.length-1?void 0:this.w(oe.substring(ce+1));let fe;try{fe=new RegExp(oe.substring(1,ce),ve)}catch{throw this.B("REGEX",F)}return n.regex(j,fe)}case k.TokenType.QuotedStr:{const M=F.lexeme;this.z();let x=null;if(!(0,v.$cf)(M)){const ne=M.indexOf("/"),oe=M.lastIndexOf("/");if(ne!==oe&&ne>=0){const ce=M.slice(ne+1,oe),ve=M[oe+1]==="i"?"i":"";try{x=new RegExp(ce,ve)}catch{throw this.B("REGEX",F)}}}if(x===null)throw this.B("REGEX",F);return de.create(j,x)}default:throw this.B("REGEX",this.D())}}if(this.y(k.TokenType.Not)){this.A(k.TokenType.In,b);const F=this.u();return n.notIn(j,F)}switch(this.D().type){case k.TokenType.Eq:{this.z();const F=this.u();if(this.x().type===k.TokenType.QuotedStr)return n.equals(j,F);switch(F){case"true":return n.has(j);case"false":return n.not(j);default:return n.equals(j,F)}}case k.TokenType.NotEq:{this.z();const F=this.u();if(this.x().type===k.TokenType.QuotedStr)return n.notEquals(j,F);switch(F){case"true":return n.not(j);case"false":return n.has(j);default:return n.notEquals(j,F)}}case k.TokenType.Lt:return this.z(),ae.create(j,this.u());case k.TokenType.LtEq:return this.z(),le.create(j,this.u());case k.TokenType.Gt:return this.z(),Z.create(j,this.u());case k.TokenType.GtEq:return this.z(),te.create(j,this.u());case k.TokenType.In:return this.z(),n.in(j,this.u());default:return n.has(j)}}case k.TokenType.EOF:throw this.h.push({message:y,offset:E.offset,lexeme:"",additionalInfo:i}),l.c;default:throw this.B(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this.D())}}u(){const E=this.D();switch(E.type){case k.TokenType.Str:case k.TokenType.QuotedStr:return this.z(),E.lexeme;case k.TokenType.True:return this.z(),"true";case k.TokenType.False:return this.z(),"false";case k.TokenType.In:return this.z(),"in";default:return""}}w(E){return E.replaceAll(this.v,"")}x(){return this.f[this.g-1]}y(E){return this.C(E)?(this.z(),!0):!1}z(){return this.E()||this.g++,this.x()}A(E,j){if(this.C(E))return this.z();throw this.B(j,this.D())}B(E,j,X){const F=(0,R.localize)(11607,null,E,k.$Aj.getLexeme(j)),M=j.offset,x=k.$Aj.getLexeme(j);return this.h.push({message:F,offset:M,lexeme:x,additionalInfo:X}),l.c}C(E){return this.D().type===E}D(){return this.f[this.g]}E(){return this.D().type===k.TokenType.EOF}}e.$Cj=l;class n{static false(){return o.INSTANCE}static true(){return u.INSTANCE}static has(E){return $.create(E)}static equals(E,j){return N.create(E,j)}static notEquals(E,j){return D.create(E,j)}static regex(E,j){return de.create(E,j)}static in(E,j){return L.create(E,j)}static notIn(E,j){return A.create(E,j)}static not(E){return U.create(E)}static and(...E){return B.create(E,null,!0)}static or(...E){return q.create(E,null,!0)}static greater(E,j){return Z.create(E,j)}static greaterEquals(E,j){return te.create(E,j)}static smaller(E,j){return ae.create(E,j)}static smallerEquals(E,j){return le.create(E,j)}static{this.c=new l({regexParsingWithErrorRecovery:!1})}static deserialize(E){return E==null?void 0:this.c.parse(E)}}e.$Dj=n;function s(z){const E=new l({regexParsingWithErrorRecovery:!1});return z.map(j=>(E.parse(j),E.lexingErrors.length>0?E.lexingErrors.map(X=>({errorMessage:X.additionalInfo?(0,R.localize)(11608,null,X.additionalInfo):(0,R.localize)(11609,null),offset:X.offset,length:X.lexeme.length})):E.parsingErrors.length>0?E.parsingErrors.map(X=>({errorMessage:X.additionalInfo?`${X.message}. ${X.additionalInfo}`:X.message,offset:X.offset,length:X.lexeme.length})):[]))}function t(z,E){const j=z?z.substituteConstants():void 0,X=E?E.substituteConstants():void 0;return!j&&!X?!0:!j||!X?!1:j.equals(X)}function r(z,E){return z.cmp(E)}class o{static{this.INSTANCE=new o}constructor(){this.type=m.False}cmp(E){return this.type-E.type}equals(E){return E.type===this.type}substituteConstants(){return this}evaluate(E){return!1}serialize(){return"false"}keys(){return[]}map(E){return this}negate(){return u.INSTANCE}}e.$Gj=o;class u{static{this.INSTANCE=new u}constructor(){this.type=m.True}cmp(E){return this.type-E.type}equals(E){return E.type===this.type}substituteConstants(){return this}evaluate(E){return!0}serialize(){return"true"}keys(){return[]}map(E){return this}negate(){return o.INSTANCE}}e.$Hj=u;class ${static create(E,j=null){const X=a.get(E);return typeof X=="boolean"?X?u.INSTANCE:o.INSTANCE:new $(E,j)}constructor(E,j){this.key=E,this.c=j,this.type=m.Defined}cmp(E){return E.type!==this.type?this.type-E.type:J(this.key,E.key)}equals(E){return E.type===this.type?this.key===E.key:!1}substituteConstants(){const E=a.get(this.key);return typeof E=="boolean"?E?u.INSTANCE:o.INSTANCE:this}evaluate(E){return!!E.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(E){return E.mapDefined(this.key)}negate(){return this.c||(this.c=U.create(this.key,this)),this.c}}e.$Ij=$;class N{static create(E,j,X=null){if(typeof j=="boolean")return j?$.create(E,X):U.create(E,X);const F=a.get(E);return typeof F=="boolean"?j===(F?"true":"false")?u.INSTANCE:o.INSTANCE:new N(E,j,X)}constructor(E,j,X){this.c=E,this.d=j,this.f=X,this.type=m.Equals}cmp(E){return E.type!==this.type?this.type-E.type:ie(this.c,this.d,E.c,E.d)}equals(E){return E.type===this.type?this.c===E.c&&this.d===E.d:!1}substituteConstants(){const E=a.get(this.c);if(typeof E=="boolean"){const j=E?"true":"false";return this.d===j?u.INSTANCE:o.INSTANCE}return this}evaluate(E){return E.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(E){return E.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=D.create(this.c,this.d,this)),this.f}}e.$Jj=N;class L{static create(E,j){return new L(E,j)}constructor(E,j){this.d=E,this.f=j,this.type=m.In,this.c=null}cmp(E){return E.type!==this.type?this.type-E.type:ie(this.d,this.f,E.d,E.f)}equals(E){return E.type===this.type?this.d===E.d&&this.f===E.f:!1}substituteConstants(){return this}evaluate(E){const j=E.getValue(this.f),X=E.getValue(this.d);return Array.isArray(j)?j.includes(X):typeof X=="string"&&typeof j=="object"&&j!==null?c.call(j,X):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(E){return E.mapIn(this.d,this.f)}negate(){return this.c||(this.c=A.create(this.d,this.f)),this.c}}e.$Kj=L;class A{static create(E,j){return new A(E,j)}constructor(E,j){this.d=E,this.f=j,this.type=m.NotIn,this.c=L.create(E,j)}cmp(E){return E.type!==this.type?this.type-E.type:this.c.cmp(E.c)}equals(E){return E.type===this.type?this.c.equals(E.c):!1}substituteConstants(){return this}evaluate(E){return!this.c.evaluate(E)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(E){return E.mapNotIn(this.d,this.f)}negate(){return this.c}}e.$Lj=A;class D{static create(E,j,X=null){if(typeof j=="boolean")return j?U.create(E,X):$.create(E,X);const F=a.get(E);return typeof F=="boolean"?j===(F?"true":"false")?o.INSTANCE:u.INSTANCE:new D(E,j,X)}constructor(E,j,X){this.c=E,this.d=j,this.f=X,this.type=m.NotEquals}cmp(E){return E.type!==this.type?this.type-E.type:ie(this.c,this.d,E.c,E.d)}equals(E){return E.type===this.type?this.c===E.c&&this.d===E.d:!1}substituteConstants(){const E=a.get(this.c);if(typeof E=="boolean"){const j=E?"true":"false";return this.d===j?o.INSTANCE:u.INSTANCE}return this}evaluate(E){return E.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(E){return E.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=N.create(this.c,this.d,this)),this.f}}e.$Mj=D;class U{static create(E,j=null){const X=a.get(E);return typeof X=="boolean"?X?o.INSTANCE:u.INSTANCE:new U(E,j)}constructor(E,j){this.c=E,this.d=j,this.type=m.Not}cmp(E){return E.type!==this.type?this.type-E.type:J(this.c,E.c)}equals(E){return E.type===this.type?this.c===E.c:!1}substituteConstants(){const E=a.get(this.c);return typeof E=="boolean"?E?o.INSTANCE:u.INSTANCE:this}evaluate(E){return!E.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(E){return E.mapNot(this.c)}negate(){return this.d||(this.d=$.create(this.c,this)),this.d}}e.$Nj=U;function G(z,E){if(typeof z=="string"){const j=parseFloat(z);isNaN(j)||(z=j)}return typeof z=="string"||typeof z=="number"?E(z):o.INSTANCE}class Z{static create(E,j,X=null){return G(j,F=>new Z(E,F,X))}constructor(E,j,X){this.c=E,this.d=j,this.f=X,this.type=m.Greater}cmp(E){return E.type!==this.type?this.type-E.type:ie(this.c,this.d,E.c,E.d)}equals(E){return E.type===this.type?this.c===E.c&&this.d===E.d:!1}substituteConstants(){return this}evaluate(E){return typeof this.d=="string"?!1:parseFloat(E.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(E){return E.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=le.create(this.c,this.d,this)),this.f}}e.$Oj=Z;class te{static create(E,j,X=null){return G(j,F=>new te(E,F,X))}constructor(E,j,X){this.c=E,this.d=j,this.f=X,this.type=m.GreaterEquals}cmp(E){return E.type!==this.type?this.type-E.type:ie(this.c,this.d,E.c,E.d)}equals(E){return E.type===this.type?this.c===E.c&&this.d===E.d:!1}substituteConstants(){return this}evaluate(E){return typeof this.d=="string"?!1:parseFloat(E.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(E){return E.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=ae.create(this.c,this.d,this)),this.f}}e.$Pj=te;class ae{static create(E,j,X=null){return G(j,F=>new ae(E,F,X))}constructor(E,j,X){this.c=E,this.d=j,this.f=X,this.type=m.Smaller}cmp(E){return E.type!==this.type?this.type-E.type:ie(this.c,this.d,E.c,E.d)}equals(E){return E.type===this.type?this.c===E.c&&this.d===E.d:!1}substituteConstants(){return this}evaluate(E){return typeof this.d=="string"?!1:parseFloat(E.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(E){return E.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=te.create(this.c,this.d,this)),this.f}}e.$Qj=ae;class le{static create(E,j,X=null){return G(j,F=>new le(E,F,X))}constructor(E,j,X){this.c=E,this.d=j,this.f=X,this.type=m.SmallerEquals}cmp(E){return E.type!==this.type?this.type-E.type:ie(this.c,this.d,E.c,E.d)}equals(E){return E.type===this.type?this.c===E.c&&this.d===E.d:!1}substituteConstants(){return this}evaluate(E){return typeof this.d=="string"?!1:parseFloat(E.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(E){return E.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=Z.create(this.c,this.d,this)),this.f}}e.$Rj=le;class de{static create(E,j){return new de(E,j)}constructor(E,j){this.d=E,this.f=j,this.type=m.Regex,this.c=null}cmp(E){if(E.type!==this.type)return this.type-E.type;if(this.d<E.d)return-1;if(this.d>E.d)return 1;const j=this.f?this.f.source:"",X=E.f?E.f.source:"";return j<X?-1:j>X?1:0}equals(E){if(E.type===this.type){const j=this.f?this.f.source:"",X=E.f?E.f.source:"";return this.d===E.d&&j===X}return!1}substituteConstants(){return this}evaluate(E){const j=E.getValue(this.d);return this.f?this.f.test(j):!1}serialize(){const E=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${E}`}keys(){return[this.d]}map(E){return E.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=H.create(this)),this.c}}e.$Sj=de;class H{static create(E){return new H(E)}constructor(E){this.c=E,this.type=m.NotRegex}cmp(E){return E.type!==this.type?this.type-E.type:this.c.cmp(E.c)}equals(E){return E.type===this.type?this.c.equals(E.c):!1}substituteConstants(){return this}evaluate(E){return!this.c.evaluate(E)}serialize(){return`!(${this.c.serialize()})`}keys(){return this.c.keys()}map(E){return new H(this.c.map(E))}negate(){return this.c}}e.$Tj=H;function Y(z){let E=null;for(let j=0,X=z.length;j<X;j++){const F=z[j].substituteConstants();if(z[j]!==F&&E===null){E=[];for(let M=0;M<j;M++)E[M]=z[M]}E!==null&&(E[j]=F)}return E===null?z:E}class B{static create(E,j,X){return B.d(E,j,X)}constructor(E,j){this.expr=E,this.c=j,this.type=m.And}cmp(E){if(E.type!==this.type)return this.type-E.type;if(this.expr.length<E.expr.length)return-1;if(this.expr.length>E.expr.length)return 1;for(let j=0,X=this.expr.length;j<X;j++){const F=r(this.expr[j],E.expr[j]);if(F!==0)return F}return 0}equals(E){if(E.type===this.type){if(this.expr.length!==E.expr.length)return!1;for(let j=0,X=this.expr.length;j<X;j++)if(!this.expr[j].equals(E.expr[j]))return!1;return!0}return!1}substituteConstants(){const E=Y(this.expr);return E===this.expr?this:B.create(E,this.c,!1)}evaluate(E){for(let j=0,X=this.expr.length;j<X;j++)if(!this.expr[j].evaluate(E))return!1;return!0}static d(E,j,X){const F=[];let M=!1;for(const x of E)if(x){if(x.type===m.True){M=!0;continue}if(x.type===m.False)return o.INSTANCE;if(x.type===m.And){F.push(...x.expr);continue}F.push(x)}if(F.length===0&&M)return u.INSTANCE;if(F.length!==0){if(F.length===1)return F[0];F.sort(r);for(let x=1;x<F.length;x++)F[x-1].equals(F[x])&&(F.splice(x,1),x--);if(F.length===1)return F[0];for(;F.length>1;){const x=F[F.length-1];if(x.type!==m.Or)break;F.pop();const ne=F.pop(),oe=F.length===0,ce=q.create(x.expr.map(ve=>B.create([ve,ne],null,X)),null,oe);ce&&(F.push(ce),F.sort(r))}if(F.length===1)return F[0];if(X){for(let x=0;x<F.length;x++)for(let ne=x+1;ne<F.length;ne++)if(F[x].negate().equals(F[ne]))return o.INSTANCE;if(F.length===1)return F[0]}return new B(F,j)}}serialize(){return this.expr.map(E=>E.serialize()).join(" && ")}keys(){const E=[];for(const j of this.expr)E.push(...j.keys());return E}map(E){return new B(this.expr.map(j=>j.map(E)),null)}negate(){if(!this.c){const E=[];for(const j of this.expr)E.push(j.negate());this.c=q.create(E,this,!0)}return this.c}}e.$Uj=B;class q{static create(E,j,X){return q.d(E,j,X)}constructor(E,j){this.expr=E,this.c=j,this.type=m.Or}cmp(E){if(E.type!==this.type)return this.type-E.type;if(this.expr.length<E.expr.length)return-1;if(this.expr.length>E.expr.length)return 1;for(let j=0,X=this.expr.length;j<X;j++){const F=r(this.expr[j],E.expr[j]);if(F!==0)return F}return 0}equals(E){if(E.type===this.type){if(this.expr.length!==E.expr.length)return!1;for(let j=0,X=this.expr.length;j<X;j++)if(!this.expr[j].equals(E.expr[j]))return!1;return!0}return!1}substituteConstants(){const E=Y(this.expr);return E===this.expr?this:q.create(E,this.c,!1)}evaluate(E){for(let j=0,X=this.expr.length;j<X;j++)if(this.expr[j].evaluate(E))return!0;return!1}static d(E,j,X){let F=[],M=!1;if(E){for(let x=0,ne=E.length;x<ne;x++){const oe=E[x];if(oe){if(oe.type===m.False){M=!0;continue}if(oe.type===m.True)return u.INSTANCE;if(oe.type===m.Or){F=F.concat(oe.expr);continue}F.push(oe)}}if(F.length===0&&M)return o.INSTANCE;F.sort(r)}if(F.length!==0){if(F.length===1)return F[0];for(let x=1;x<F.length;x++)F[x-1].equals(F[x])&&(F.splice(x,1),x--);if(F.length===1)return F[0];if(X){for(let x=0;x<F.length;x++)for(let ne=x+1;ne<F.length;ne++)if(F[x].negate().equals(F[ne]))return u.INSTANCE;if(F.length===1)return F[0]}return new q(F,j)}}serialize(){return this.expr.map(E=>E.serialize()).join(" || ")}keys(){const E=[];for(const j of this.expr)E.push(...j.keys());return E}map(E){return new q(this.expr.map(j=>j.map(E)),null)}negate(){if(!this.c){const E=[];for(const j of this.expr)E.push(j.negate());for(;E.length>1;){const j=E.shift(),X=E.shift(),F=[];for(const M of W(j))for(const x of W(X))F.push(B.create([M,x],null,!1));E.unshift(q.create(F,null,!1))}this.c=q.create(E,this,!0)}return this.c}}e.$Vj=q;class K extends ${static{this.d=[]}static all(){return K.d.values()}constructor(E,j,X){super(E,null),this.f=j,typeof X=="object"?K.d.push({...X,key:E}):X!==!0&&K.d.push({key:E,description:X,type:j!=null?typeof j:void 0})}bindTo(E){return E.createKey(this.key,this.f)}getValue(E){return E.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(E){return N.create(this.key,E)}notEqualsTo(E){return D.create(this.key,E)}}e.$Wj=K,e.$Xj=(0,C.$Fi)("contextKeyService");function J(z,E){return z<E?-1:z>E?1:0}function ie(z,E,j,X){return z<j?-1:z>j?1:E<X?-1:E>X?1:0}function se(z,E){if(z.type===m.False||E.type===m.True)return!0;if(z.type===m.Or)return E.type===m.Or?T(z.expr,E.expr):!1;if(E.type===m.Or){for(const j of E.expr)if(se(z,j))return!0;return!1}if(z.type===m.And){if(E.type===m.And)return T(E.expr,z.expr);for(const j of z.expr)if(se(j,E))return!0;return!1}return z.equals(E)}function T(z,E){let j=0,X=0;for(;j<z.length&&X<E.length;){const F=z[j].cmp(E[X]);if(F<0)return!1;F===0&&j++,X++}return j===z.length}function W(z){return z.type===m.Or?z.expr:[z]}}),define(ue[61],he([0,1,10]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$2o=void 0,e.$2o=(0,S.$Fi)("downloadService")}),define(ue[17],he([0,1,10]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ni=e.$Mi=void 0,e.$Mi=(0,S.$Fi)("environmentService"),e.$Ni=(0,S.$Gi)(e.$Mi)}),define(ue[62],he([0,1,13,7,5,9]),function(Q,e,S,P,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$2q=C;async function C(f,c,m,d,p,I){let b;try{await R(f,c,m,d,p,I)}catch(h){b=h}finally{b&&p.errorTransformer&&(b=p.errorTransformer(b)),typeof b<"u"&&m.error(b),m.end()}}async function R(f,c,m,d,p,I){w(I);const b=await f.open(c,{create:!1});try{w(I);let h=0,g=0,O=p&&typeof p.length=="number"?p.length:void 0,y=S.$Ne.alloc(Math.min(p.bufferSize,typeof O=="number"?O:p.bufferSize)),i=p&&typeof p.position=="number"?p.position:0,l=0;do g=await f.read(b,i,y.buffer,l,y.byteLength-l),i+=g,l+=g,h+=g,typeof O=="number"&&(O-=g),l===y.byteLength&&(await m.write(d(y)),y=S.$Ne.alloc(Math.min(p.bufferSize,typeof O=="number"?O:p.bufferSize)),l=0);while(g>0&&(typeof O!="number"||O>0)&&w(I)&&a(h,p));if(l>0){let n=l;typeof O=="number"&&(n=Math.min(l,O)),m.write(d(y.slice(0,n)))}}catch(h){throw(0,k.$ol)(h)}finally{await f.close(b)}}function w(f){if(f.isCancellationRequested)throw(0,P.$5)();return!0}function a(f,c){if(typeof c?.limits?.size=="number"&&f>c.limits.size)throw(0,k.$nl)((0,v.localize)(11384,null),k.FileSystemProviderErrorCode.FileTooLarge);return!0}}),define(ue[101],he([0,1,32,2,52,4,9,11,8]),function(Q,e,S,P,v,k,C,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$kr=void 0;class a extends P.$Uc{constructor(){super(),this.a=this.B(new k.$le),this.onDidChangeFile=this.a.event,this.b=this.B(new k.$le),this.onDidLogMessage=this.b.event,this.c=this.B(new k.$le),this.f=this.c.event,this.g=new Set,this.h=new Map,this.j=this.B(new P.$4c),this.m=new Set,this.n=this.B(new w.$Dh(this.y())),this.r=5007,this.s=new w.$3h,this.R=!1,this.B(this.f(c=>this.t(c)))}t(c){this.u(c)&&this.z(c)}u(c){return(0,v.$4q)(c)}async watch(c){this.s.isSettled||this.s.complete(),this.s=new w.$3h;try{this.h.clear(),this.g.clear();for(const m of c)this.u(m)?this.h.set(m.correlationId,m):this.g.add(m);for(const[m]of this.j)this.h.has(m)||(this.j.deleteAndDispose(m),this.m.delete(m));return await this.w(!1)}finally{this.s.complete()}}w(c){return this.n.trigger(()=>this.N([...this.g,...Array.from(this.h.values()).filter(m=>!this.j.has(m.correlationId))]),c?this.y():0)}y(){return 800}isSuspended(c){return typeof c.correlationId!="number"?!1:this.m.has(c.correlationId)?"polling":this.j.has(c.correlationId)}async z(c){if(this.j.has(c.correlationId))return;const m=new P.$Tc;this.j.set(c.correlationId,m),await this.s.p,!m.isDisposed&&(this.D(c,m),this.w(!0))}C(c){this.j.deleteAndDispose(c.correlationId),this.m.delete(c.correlationId),this.w(!1)}D(c,m){this.F(c,m)?(this.P(`reusing an existing recursive watcher to monitor ${c.path}`),this.m.delete(c.correlationId)):(this.G(c,m),this.m.add(c.correlationId))}F(c,m){const d=this.O?.subscribe(c.path,(p,I)=>{m.isDisposed||(p?this.D(c,m):I?.type===C.FileChangeType.ADDED&&this.H(c))});return d?(m.add(d),!0):!1}G(c,m){let d=!1;const p=(I,b)=>{if(m.isDisposed)return;const h=this.I(I),g=this.I(b),O=d;d=h,!h&&(g||O)&&this.H(c)};this.P(`starting fs.watchFile() on ${c.path} (correlationId: ${c.correlationId})`);try{(0,S.watchFile)(c.path,{persistent:!1,interval:this.r},p)}catch(I){this.Q(`fs.watchFile() failed with error ${I} on path ${c.path} (correlationId: ${c.correlationId})`)}m.add((0,P.$Sc)(()=>{this.P(`stopping fs.watchFile() on ${c.path} (correlationId: ${c.correlationId})`);try{(0,S.unwatchFile)(c.path,p)}catch(I){this.Q(`fs.unwatchFile() failed with error ${I} on path ${c.path} (correlationId: ${c.correlationId})`)}}))}H(c){this.P(`detected ${c.path} exists again, resuming watcher (correlationId: ${c.correlationId})`);const m={resource:R.URI.file(c.path),type:C.FileChangeType.ADDED,cId:c.correlationId};this.a.fire([m]),this.J(m,c),this.C(c)}I(c){return c.ctimeMs===0&&c.ino===0}async stop(){this.j.clearAndDisposeAll(),this.m.clear()}J(c,m){if(this.R){const d=` >> normalized ${c.type===C.FileChangeType.ADDED?"[ADDED]":c.type===C.FileChangeType.DELETED?"[DELETED]":"[CHANGED]"} ${c.resource.fsPath}`;this.L(d,m)}}L(c,m){this.R&&this.P(`${c}${typeof m.correlationId=="number"?` <${m.correlationId}> `:""}`)}M(c){return`${c.path} (excludes: ${c.excludes.length>0?c.excludes:"<none>"}, includes: ${c.includes&&c.includes.length>0?JSON.stringify(c.includes):"<all>"}, filter: ${(0,v.$br)(c.filter)}, correlationId: ${typeof c.correlationId=="number"?c.correlationId:"<none>"})`}async setVerboseLogging(c){this.R=c}}e.$kr=a}),define(ue[102],he([0,1,4,149,101,12,150,63]),function(Q,e,S,P,v,k,C,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$rr=void 0;class w extends v.$kr{constructor(f){super(),this.O=f,this.onDidError=S.Event.None,this.watchers=new Set}async N(f){f=this.Z(f);const c=[],m=new Set(Array.from(this.watchers));for(const d of f){const p=this.W(d);p&&(0,P.$Ek)(p.request.excludes,d.excludes)&&(0,P.$Ek)(p.request.includes,d.includes)?m.delete(p):c.push(d)}c.length&&this.P(`Request to start watching: ${c.map(d=>this.M(d)).join(",")}`),m.size&&this.P(`Request to stop watching: ${Array.from(m).map(d=>this.M(d.request)).join(",")}`);for(const d of m)this.Y(d);for(const d of c)this.X(d)}W(f){for(const c of this.watchers)if(typeof f.correlationId=="number"||typeof c.request.correlationId=="number"){if(c.request.correlationId===f.correlationId)return c}else if((0,R.$Dg)(c.request.path,f.path,!k.$l))return c}X(f){const c=new C.$pr(f,this.O,d=>this.a.fire(d),()=>this.c.fire(f),d=>this.b.fire(d),this.R),m={request:f,instance:c};this.watchers.add(m)}async stop(){await super.stop();for(const f of this.watchers)this.Y(f)}Y(f){this.P("stopping file watcher",f),this.watchers.delete(f),f.instance.dispose()}Z(f){const c=new Map;for(const m of f){const d=k.$l?m.path:m.path.toLowerCase();let p=c.get(m.correlationId);p||(p=new Map,c.set(m.correlationId,p)),p.has(d)&&this.P(`ignoring a request for watching who's path is already watched: ${this.M(m)}`),p.set(d,m)}return Array.from(c.values()).map(m=>Array.from(m.values())).flat()}async setVerboseLogging(f){super.setVerboseLogging(f);for(const c of this.watchers)c.instance.setVerboseLogging(f)}P(f,c){this.R&&this.b.fire({type:"trace",message:this.bb(f,c)})}Q(f){this.b.fire({type:"warn",message:this.bb(f)})}bb(f,c){return c?`[File Watcher (node.js)] ${f} (${this.M(c.request)})`:`[File Watcher (node.js)] ${f}`}}e.$rr=w}),define(ue[103],he([0,1,52,102]),function(Q,e,S,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$sr=void 0;class v extends S.$7q{constructor(C,R,w){super(C,R,w),this.s()}r(C){return C.add(new P.$rr(void 0))}}e.$sr=v}),define(ue[104],he([0,1,14,59,87,52]),function(Q,e,S,P,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$jr=void 0;class C extends k.$8q{constructor(w,a,f){super(w,a,f),this.s()}r(w){const a=w.add(new v.$ir(S.$Zg.asFileUri("bootstrap-fork").fsPath,{serverName:"File Watcher",args:["--type=fileWatcher"],env:{VSCODE_AMD_ENTRYPOINT:"vs/platform/files/node/watcher/watcherMain",VSCODE_PIPE_LOGGING:"true",VSCODE_VERBOSE_LOGGING:"true"}}));return w.add(a.onDidProcessExit(({code:f,signal:c})=>this.t(`terminated by itself with code ${f}, signal: ${c} (ETERM)`))),P.ProxyChannel.toService((0,P.$mi)(a.getChannel("watcher")))}}e.$jr=C}),define(ue[64],he([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Di=void 0;class S{constructor(...v){this.a=new Map;for(const[k,C]of v)this.set(k,C)}set(v,k){const C=this.a.get(v);return this.a.set(v,k),C}has(v){return this.a.has(v)}get(v){return this.a.get(v)}}e.$Di=S}),define(ue[105],he([0,1,8,7,2,51,99,10,64,151]),function(Q,e,S,P,v,k,C,R,w,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$xr=e.$wr=void 0;const f=!1;class c extends Error{constructor(b){super("cyclic dependency between services"),this.message=b.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${b.toString()}`}}class m{constructor(b=new w.$Di,h=!1,g,O=f){this.i=b,this.j=h,this.k=g,this.l=O,this.f=!1,this.g=new Set,this.h=new Set,this.t=new Set,this.i.set(R.$Ei,this),this._globalGraph=O?g?._globalGraph??new C.$vr(y=>y):void 0}dispose(){if(!this.f){this.f=!0,(0,v.$Pc)(this.h),this.h.clear();for(const b of this.g)(0,v.$Oc)(b)&&b.dispose();this.g.clear()}}m(){if(this.f)throw new Error("InstantiationService has been disposed")}createChild(b,h){this.m();const g=this,O=new class extends m{dispose(){g.h.delete(O),super.dispose()}}(b,this.j,this,this.l);return this.h.add(O),h?.add(O),O}invokeFunction(b,...h){this.m();const g=p.traceInvocation(this.l,b);let O=!1;try{return b({get:i=>{if(O)throw(0,P.$7)("service accessor is only valid during the invocation of its target method");const l=this.s(i,g);if(!l)throw new Error(`[invokeFunction] unknown service '${i}'`);return l}},...h)}finally{O=!0,g.stop()}}createInstance(b,...h){this.m();let g,O;return b instanceof k.$Ci?(g=p.traceCreation(this.l,b.ctor),O=this.o(b.ctor,b.staticArguments.concat(h),g)):(g=p.traceCreation(this.l,b),O=this.o(b,h,g)),g.stop(),O}o(b,h=[],g){const O=R._util.getServiceDependencies(b).sort((l,n)=>l.index-n.index),y=[];for(const l of O){const n=this.s(l.id,g);n||this.y(`[createInstance] ${b.name} depends on UNKNOWN service ${l.id}.`,!1),y.push(n)}const i=O.length>0?O[0].index:h.length;if(h.length!==i){console.trace(`[createInstance] First service dependency of ${b.name} at position ${i+1} conflicts with ${h.length} static arguments`);const l=i-h.length;l>0?h=h.concat(new Array(l)):h=h.slice(0,i)}return Reflect.construct(b,h.concat(y))}q(b,h){if(this.i.get(b)instanceof k.$Ci)this.i.set(b,h);else if(this.k)this.k.q(b,h);else throw new Error("illegalState - setting UNKNOWN service instance")}r(b){const h=this.i.get(b);return!h&&this.k?this.k.r(b):h}s(b,h){this._globalGraph&&this.c&&this._globalGraph.insertEdge(this.c,String(b));const g=this.r(b);return g instanceof k.$Ci?this.u(b,g,h.branch(b,!0)):(h.branch(b,!1),g)}u(b,h,g){if(this.t.has(b))throw new Error(`illegal state - RECURSIVELY instantiating service '${b}'`);this.t.add(b);try{return this.v(b,h,g)}finally{this.t.delete(b)}}v(b,h,g){const O=new C.$vr(n=>n.id.toString());let y=0;const i=[{id:b,desc:h,_trace:g}],l=new Set;for(;i.length;){const n=i.pop();if(!l.has(String(n.id))){if(l.add(String(n.id)),O.lookupOrInsertNode(n),y++>1e3)throw new c(O);for(const s of R._util.getServiceDependencies(n.desc.ctor)){const t=this.r(s.id);if(t||this.y(`[createInstance] ${b} depends on ${s.id} which is NOT registered.`,!0),this._globalGraph?.insertEdge(String(n.id),String(s.id)),t instanceof k.$Ci){const r={id:s.id,desc:t,_trace:n._trace.branch(s.id,!0)};O.insertEdge(n,r),i.push(r)}}}}for(;;){const n=O.roots();if(n.length===0){if(!O.isEmpty())throw new c(O);break}for(const{data:s}of n){if(this.r(s.id)instanceof k.$Ci){const r=this.w(s.id,s.desc.ctor,s.desc.staticArguments,s.desc.supportsDelayedInstantiation,s._trace);this.q(s.id,r)}O.removeNode(s)}}return this.r(b)}w(b,h,g=[],O,y){if(this.i.get(b)instanceof k.$Ci)return this.x(b,h,g,O,y,this.g);if(this.k)return this.k.w(b,h,g,O,y);throw new Error(`illegalState - creating UNKNOWN service instance ${h.name}`)}x(b,h,g=[],O,y,i){if(O){const l=new m(void 0,this.j,this,this.l);l.c=String(b);const n=new Map,s=new S.$Yh(()=>{const t=l.o(h,g,y);for(const[r,o]of n){const u=t[r];if(typeof u=="function")for(const $ of o)$.disposable=u.apply(t,$.listener)}return n.clear(),i.add(t),t});return new Proxy(Object.create(null),{get(t,r){if(!s.isInitialized&&typeof r=="string"&&(r.startsWith("onDid")||r.startsWith("onWill"))){let $=n.get(r);return $||($=new a.$5c,n.set(r,$)),(L,A,D)=>{if(s.isInitialized)return s.value[r](L,A,D);{const U={listener:[L,A,D],disposable:void 0},G=$.push(U);return(0,v.$Sc)(()=>{G(),U.disposable?.dispose()})}}}if(r in t)return t[r];const o=s.value;let u=o[r];return typeof u!="function"||(u=u.bind(o),t[r]=u),u},set(t,r,o){return s.value[r]=o,!0},getPrototypeOf(t){return h.prototype}})}else{const l=this.o(h,g,y);return i.add(l),l}}y(b,h){if(h&&console.warn(b),this.j)throw new Error(b)}}e.$wr=m;var d;(function(I){I[I.None=0]="None",I[I.Creation=1]="Creation",I[I.Invocation=2]="Invocation",I[I.Branch=3]="Branch"})(d||(d={}));class p{static{this.all=new Set}static{this.c=new class extends p{constructor(){super(d.None,null)}stop(){}branch(){return this}}}static traceInvocation(b,h){return b?new p(d.Invocation,h.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):p.c}static traceCreation(b,h){return b?new p(d.Creation,h.name):p.c}static{this.f=0}constructor(b,h){this.type=b,this.name=h,this.g=Date.now(),this.h=[]}branch(b,h){const g=new p(d.Branch,b.toString());return this.h.push([b,h,g]),g}stop(){const b=Date.now()-this.g;p.f+=b;let h=!1;function g(y,i){const l=[],n=new Array(y+1).join("	");for(const[s,t,r]of i.h)if(t&&r){h=!0,l.push(`${n}CREATES -> ${s}`);const o=g(y+1,r);o&&l.push(o)}else l.push(`${n}uses -> ${s}`);return l.join(`
`)}const O=[`${this.type===d.Creation?"CREATE":"CALL"} ${this.name}`,`${g(1,this)}`,`DONE, took ${b.toFixed(2)}ms (grand total ${p.f.toFixed(2)}ms)`];(b>2||h)&&p.all.add(O.join(`
`))}}e.$xr=p}),define(ue[6],he([0,1,5,38,4,43,2,25,12,16,3,11,100,10]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$sk=e.$nk=e.$mk=e.$lk=e.$kk=e.$jk=e.$ik=e.$hk=e.$gk=e.$fk=e.$dk=e.LogLevel=e.$bk=e.$ak=void 0,e.$ck=I,e.log=h,e.$ok=u,e.$pk=$,e.$qk=N,e.$rk=L,S=ye(S),e.$ak=(0,d.$Fi)("logService"),e.$bk=(0,d.$Fi)("loggerService");function p(){return new Date().toISOString()}function I(A){return(0,f.$ig)(A)}var b;(function(A){A[A.Off=0]="Off",A[A.Trace=1]="Trace",A[A.Debug=2]="Debug",A[A.Info=3]="Info",A[A.Warning=4]="Warning",A[A.Error=5]="Error"})(b||(e.LogLevel=b={})),e.$dk=b.Info;function h(A,D,U){switch(D){case b.Trace:A.trace(U);break;case b.Debug:A.debug(U);break;case b.Info:A.info(U);break;case b.Warning:A.warn(U);break;case b.Error:A.error(U);break;case b.Off:break;default:throw new Error(`Invalid log level ${D}`)}}function g(A,D=!1){let U="";for(let G=0;G<A.length;G++){let Z=A[G];if(Z instanceof Error&&(Z=(0,P.$qj)(Z,D)),typeof Z=="object")try{Z=JSON.stringify(Z)}catch{}U+=(G>0?" ":"")+Z}return U}class O extends C.$Uc{constructor(){super(...arguments),this.b=e.$dk,this.c=this.B(new v.$le),this.onDidChangeLogLevel=this.c.event}setLevel(D){this.b!==D&&(this.b=D,this.c.fire(this.b))}getLevel(){return this.b}f(D){return this.b!==b.Off&&this.b<=D}}e.$fk=O;class y extends O{constructor(D){super(),this.h=D}f(D){return this.h||super.f(D)}trace(D,...U){this.f(b.Trace)&&this.g(b.Trace,g([D,...U],!0))}debug(D,...U){this.f(b.Debug)&&this.g(b.Debug,g([D,...U]))}info(D,...U){this.f(b.Info)&&this.g(b.Info,g([D,...U]))}warn(D,...U){this.f(b.Warning)&&this.g(b.Warning,g([D,...U]))}error(D,...U){if(this.f(b.Error))if(D instanceof Error){const G=Array.prototype.slice.call(arguments);G[0]=D.stack,this.g(b.Error,g(G))}else this.g(b.Error,g([D,...U]))}flush(){}}e.$gk=y;class i extends O{constructor(D=e.$dk){super(),this.setLevel(D),this.g=!w.$j}trace(D,...U){this.f(b.Trace)&&(this.g?console.log(`\x1B[90m[main ${p()}]\x1B[0m`,D,...U):console.log(`[main ${p()}]`,D,...U))}debug(D,...U){this.f(b.Debug)&&(this.g?console.log(`\x1B[90m[main ${p()}]\x1B[0m`,D,...U):console.log(`[main ${p()}]`,D,...U))}info(D,...U){this.f(b.Info)&&(this.g?console.log(`\x1B[90m[main ${p()}]\x1B[0m`,D,...U):console.log(`[main ${p()}]`,D,...U))}warn(D,...U){this.f(b.Warning)&&(this.g?console.warn(`\x1B[93m[main ${p()}]\x1B[0m`,D,...U):console.warn(`[main ${p()}]`,D,...U))}error(D,...U){this.f(b.Error)&&(this.g?console.error(`\x1B[91m[main ${p()}]\x1B[0m`,D,...U):console.error(`[main ${p()}]`,D,...U))}flush(){}}e.$hk=i;class l extends O{constructor(D=e.$dk,U=!0){super(),this.g=U,this.setLevel(D)}trace(D,...U){this.f(b.Trace)&&(this.g?console.log("%cTRACE","color: #888",D,...U):console.log(D,...U))}debug(D,...U){this.f(b.Debug)&&(this.g?console.log("%cDEBUG","background: #eee; color: #888",D,...U):console.log(D,...U))}info(D,...U){this.f(b.Info)&&(this.g?console.log("%c INFO","color: #33f",D,...U):console.log(D,...U))}warn(D,...U){this.f(b.Warning)&&(this.g?console.log("%c WARN","color: #993",D,...U):console.log(D,...U))}error(D,...U){this.f(b.Error)&&(this.g?console.log("%c  ERR","color: #f33",D,...U):console.error(D,...U))}flush(){}}e.$ik=l;class n extends O{constructor(D,U=e.$dk){super(),this.g=D,this.setLevel(U)}trace(D,...U){this.f(b.Trace)&&this.g.log(b.Trace,[this.h(D),...U])}debug(D,...U){this.f(b.Debug)&&this.g.log(b.Debug,[this.h(D),...U])}info(D,...U){this.f(b.Info)&&this.g.log(b.Info,[this.h(D),...U])}warn(D,...U){this.f(b.Warning)&&this.g.log(b.Warning,[this.h(D),...U])}error(D,...U){this.f(b.Error)&&this.g.log(b.Error,[this.h(D),...U])}h(D){return typeof D=="string"?D:(0,P.$qj)(D,this.f(b.Trace))}flush(){}}e.$jk=n;class s extends O{constructor(D){super(),this.g=D,D.length&&this.setLevel(D[0].getLevel())}setLevel(D){for(const U of this.g)U.setLevel(D);super.setLevel(D)}trace(D,...U){for(const G of this.g)G.trace(D,...U)}debug(D,...U){for(const G of this.g)G.debug(D,...U)}info(D,...U){for(const G of this.g)G.info(D,...U)}warn(D,...U){for(const G of this.g)G.warn(D,...U)}error(D,...U){for(const G of this.g)G.error(D,...U)}flush(){for(const D of this.g)D.flush()}dispose(){for(const D of this.g)D.dispose();super.dispose()}}e.$kk=s;class t extends C.$Uc{constructor(D,U,G){if(super(),this.h=D,this.j=U,this.b=new R.$Ac,this.c=this.B(new v.$le),this.onDidChangeLoggers=this.c.event,this.f=this.B(new v.$le),this.onDidChangeLogLevel=this.f.event,this.g=this.B(new v.$le),this.onDidChangeVisibility=this.g.event,G)for(const Z of G)this.b.set(Z.resource,{logger:void 0,info:Z})}m(D){return(0,f.$eg)(D)?[...this.b.values()].find(U=>U.info.id===D):this.b.get(D)}getLogger(D){return this.m(D)?.logger}createLogger(D,U){const G=this.n(D),Z=(0,f.$eg)(D)?D:U?.id??(0,k.$tj)(G.toString()).toString(16);let te=this.b.get(G)?.logger;const ae=U?.logLevel==="always"?b.Trace:U?.logLevel;te||(te=this.s(G,ae??this.getLogLevel(G)??this.h,{...U,id:Z}));const le={logger:te,info:{resource:G,id:Z,logLevel:ae,name:U?.name,hidden:U?.hidden,extensionId:U?.extensionId,when:U?.when}};return this.registerLogger(le.info),this.b.set(G,le),te}n(D){return(0,f.$eg)(D)?(0,a.$gh)(this.j,`${D}.log`):D}setLogLevel(D,U){if(c.URI.isUri(D)){const G=D,Z=U,te=this.b.get(G);te&&Z!==te.info.logLevel&&(te.info.logLevel=Z===this.h?void 0:Z,te.logger?.setLevel(Z),this.b.set(te.info.resource,te),this.f.fire([G,Z]))}else{this.h=D;for(const[G,Z]of this.b.entries())this.b.get(G)?.info.logLevel===void 0&&Z.logger?.setLevel(this.h);this.f.fire(this.h)}}setVisibility(D,U){const G=this.m(D);G&&U!==!G.info.hidden&&(G.info.hidden=!U,this.b.set(G.info.resource,G),this.g.fire([G.info.resource,U]))}getLogLevel(D){let U;return D&&(U=this.b.get(D)?.info.logLevel),U??this.h}registerLogger(D){const U=this.b.get(D.resource);U?U.info.hidden!==D.hidden&&this.setVisibility(D.resource,!D.hidden):(this.b.set(D.resource,{info:D,logger:void 0}),this.c.fire({added:[D],removed:[]}))}deregisterLogger(D){const U=this.b.get(D);U&&(U.logger&&U.logger.dispose(),this.b.delete(D),this.c.fire({added:[],removed:[U.info]}))}*getRegisteredLoggers(){for(const D of this.b.values())yield D.info}getRegisteredLogger(D){return this.b.get(D)?.info}dispose(){this.b.forEach(D=>D.logger?.dispose()),this.b.clear(),super.dispose()}}e.$lk=t;class r{constructor(){this.onDidChangeLogLevel=new v.$le().event}setLevel(D){}getLevel(){return b.Info}trace(D,...U){}debug(D,...U){}info(D,...U){}warn(D,...U){}error(D,...U){}critical(D,...U){}dispose(){}flush(){}}e.$mk=r;class o extends r{}e.$nk=o;function u(A){if(A.verbose)return b.Trace;if(typeof A.logLevel=="string"){const D=L(A.logLevel.toLowerCase());if(D!==void 0)return D}return e.$dk}function $(A){switch(A){case b.Trace:return"trace";case b.Debug:return"debug";case b.Info:return"info";case b.Warning:return"warn";case b.Error:return"error";case b.Off:return"off"}}function N(A){switch(A){case b.Trace:return{original:"Trace",value:S.localize(11318,null)};case b.Debug:return{original:"Debug",value:S.localize(11319,null)};case b.Info:return{original:"Info",value:S.localize(11320,null)};case b.Warning:return{original:"Warning",value:S.localize(11321,null)};case b.Error:return{original:"Error",value:S.localize(11322,null)};case b.Off:return{original:"Off",value:S.localize(11323,null)}}}function L(A){switch(A){case"trace":return b.Trace;case"debug":return b.Debug;case"info":return b.Info;case"warn":return b.Warning;case"error":return b.Error;case"critical":return b.Error;case"off":return b.Off}}e.$sk=new m.$Wj("logLevel",$(b.Info))}),define(ue[106],he([0,1,19,8,7,4,63,2,15,52,6]),function(Q,e,S,P,v,k,C,R,w,a,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$cr=void 0;class c extends R.$Uc{constructor(d,p){super(),this.a=d,this.b=p,this.c=this.B(new k.$le),this.onDidChangeFile=this.c.event,this.g=this.B(new k.$le),this.onDidWatchError=this.g.event,this.j=[],this.m=this.B(new P.$Dh(0)),this.w=[],this.y=this.B(new P.$Dh(0))}watch(d,p){return p.recursive||this.b?.watcher?.forceUniversal?this.n(d,p):this.z(d,p)}n(d,p){const I={path:this.J(d),excludes:p.excludes,includes:p.includes,recursive:p.recursive,filter:p.filter,correlationId:p.correlationId},b=(0,S.$Sb)(this.j,I);return this.r(),(0,R.$Sc)(()=>{b(),this.r()})}r(){this.m.trigger(()=>this.s()).catch(d=>(0,v.$Y)(d))}s(){this.h||(this.h=this.B(this.t(p=>this.c.fire((0,a.$9q)(p)),p=>this.G(p),this.a.getLevel()===f.LogLevel.Trace)),this.B(this.a.onDidChangeLogLevel(()=>{this.h?.setVerboseLogging(this.a.getLevel()===f.LogLevel.Trace)})));const d=this.b?.watcher?.recursive?.usePolling;if(d===!0)for(const p of this.j)(0,a.$5q)(p)&&(p.pollingInterval=this.b?.watcher?.recursive?.pollingInterval??5e3);else if(Array.isArray(d))for(const p of this.j)(0,a.$5q)(p)&&d.includes(p.path)&&(p.pollingInterval=this.b?.watcher?.recursive?.pollingInterval??5e3);return this.h.watch(this.j)}z(d,p){const I={path:this.J(d),excludes:p.excludes,includes:p.includes,recursive:!1,filter:p.filter,correlationId:p.correlationId},b=(0,S.$Sb)(this.w,I);return this.C(),(0,R.$Sc)(()=>{b(),this.C()})}C(){this.y.trigger(()=>this.D()).catch(d=>(0,v.$Y)(d))}D(){return this.u||(this.u=this.B(this.F(d=>this.c.fire((0,a.$9q)(d)),d=>this.G(d),this.a.getLevel()===f.LogLevel.Trace)),this.B(this.a.onDidChangeLogLevel(()=>{this.u?.setVerboseLogging(this.a.getLevel()===f.LogLevel.Trace)}))),this.u.watch(this.w)}G(d){d.type==="error"&&this.g.fire(d.message),this.H(d)}H(d){this.a[d.type](d.message)}I(d){return(0,w.$hc)(d.fsPath)}J(d){const p=this.I(d);return(0,C.$Hg)(p)}}e.$cr=c});var re=this&&this.__param||function(Q,e){return function(S,P){e(S,P,Q)}};define(ue[107],he([0,1,19,8,13,21,4,43,65,2,49,14,108,16,47,5,9,62,6,7]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m,d,p,I,b,h,g,O){"use strict";var y;Object.defineProperty(e,"__esModule",{value:!0}),e.$3q=void 0;let i=class extends a.$Uc{static{y=this}constructor(n){super(),this.b=n,this.a=256*1024,this.c=this.B(new C.$le),this.onDidChangeFileSystemProviderRegistrations=this.c.event,this.f=this.B(new C.$le),this.onWillActivateFileSystemProvider=this.f.event,this.g=this.B(new C.$le),this.onDidChangeFileSystemProviderCapabilities=this.g.event,this.h=new Map,this.r=this.B(new C.$le),this.onDidRunOperation=this.r.event,this.X=this.B(new C.$le),this.Y=this.B(new C.$le),this.onDidFilesChange=this.Y.event,this.Z=this.B(new C.$le),this.onDidWatchError=this.Z.event,this.$=new Map,this.cb=this.B(new P.$Oh)}registerProvider(n,s){if(this.h.has(n))throw new Error(`A filesystem provider for the scheme '${n}' is already registered.`);(0,m.mark)(`code/registerFilesystem/${n}`);const t=new a.$Tc;return this.h.set(n,s),this.c.fire({added:!0,scheme:n,provider:s}),t.add(s.onDidChangeFile(r=>{const o=new b.$tl(r,!this.S(s));this.X.fire(o),o.hasCorrelation()||this.Y.fire(o)})),typeof s.onDidWatchError=="function"&&t.add(s.onDidWatchError(r=>this.Z.fire(new Error(r)))),t.add(s.onDidChangeCapabilities(()=>this.g.fire({provider:s,scheme:n}))),(0,a.$Sc)(()=>{this.c.fire({added:!1,scheme:n,provider:s}),this.h.delete(n),(0,a.$Pc)(t)})}getProvider(n){return this.h.get(n)}async activateProvider(n){const s=[];this.f.fire({scheme:n,join(t){s.push(t)}}),!this.h.has(n)&&await P.Promises.settled(s)}async canHandleResource(n){return await this.activateProvider(n.scheme),this.hasProvider(n)}hasProvider(n){return this.h.has(n.scheme)}hasCapability(n,s){const t=this.h.get(n.scheme);return!!(t&&t.capabilities&s)}listCapabilities(){return w.Iterable.map(this.h,([n,s])=>({scheme:n,capabilities:s.capabilities}))}async j(n){if(!(0,d.$kh)(n))throw new b.$vl((0,I.localize)(11391,null,this.sb(n)),b.FileOperationResult.FILE_INVALID_PATH);await this.activateProvider(n.scheme);const s=this.h.get(n.scheme);if(!s){const t=new O.$ab;throw t.message=(0,I.localize)(11392,null,n.toString()),t}return s}async m(n){const s=await this.j(n);if((0,b.$gl)(s)||(0,b.$dl)(s)||(0,b.$hl)(s))return s;throw new Error(`Filesystem provider for scheme '${n.scheme}' neither has FileReadWrite, FileReadStream nor FileOpenReadWriteClose capability which is needed for the read operation.`)}async n(n){const s=await this.j(n);if((0,b.$gl)(s)||(0,b.$dl)(s))return s;throw new Error(`Filesystem provider for scheme '${n.scheme}' neither has FileReadWrite nor FileOpenReadWriteClose capability which is needed for the write operation.`)}async resolve(n,s){try{return await this.s(n,s)}catch(t){throw(0,b.$ql)(t)===b.FileSystemProviderErrorCode.FileNotFound?new b.$vl((0,I.localize)(11393,null,this.sb(n)),b.FileOperationResult.FILE_NOT_FOUND):(0,b.$ol)(t)}}async s(n,s){const t=await this.j(n),r=this.S(t),o=s?.resolveTo,u=s?.resolveSingleChildDescendants,$=s?.resolveMetadata,N=await t.stat(n);let L;return this.t(t,n,N,void 0,!!$,(A,D)=>(L||(L=f.$Li.forUris(()=>!r),L.set(n,!0),o&&L.fill(!0,o)),L.get(A.resource)||L.findSuperstr(A.resource.with({query:null,fragment:null}))?!0:A.isDirectory&&u?D===1:!1))}async t(n,s,t,r,o,u){const{providerExtUri:$}=this.R(n),N={resource:s,name:$.basename(s),isFile:(t.type&b.FileType.File)!==0,isDirectory:(t.type&b.FileType.Directory)!==0,isSymbolicLink:(t.type&b.FileType.SymbolicLink)!==0,mtime:t.mtime,ctime:t.ctime,size:t.size,readonly:!!((t.permissions??0)&b.FilePermission.Readonly)||!!(n.capabilities&b.FileSystemProviderCapabilities.Readonly),locked:!!((t.permissions??0)&b.FilePermission.Locked),etag:(0,b.$Gl)({mtime:t.mtime,size:t.size}),children:void 0};if(N.isDirectory&&u(N,r)){try{const L=await n.readdir(s),A=await P.Promises.settled(L.map(async([D,U])=>{try{const G=$.joinPath(s,D),Z=o?await n.stat(G):{type:U};return await this.t(n,G,Z,L.length,o,u)}catch(G){return this.b.trace(G),null}}));N.children=(0,S.$Gb)(A)}catch(L){this.b.trace(L),N.children=[]}return N}return N}async resolveAll(n){return P.Promises.settled(n.map(async s=>{try{return{stat:await this.s(s.resource,s.options),success:!0}}catch(t){return this.b.trace(t),{stat:void 0,success:!1}}}))}async stat(n){const s=await this.j(n),t=await s.stat(n);return this.t(s,n,t,void 0,!0,()=>!1)}async exists(n){const s=await this.j(n);try{return!!await s.stat(n)}catch{return!1}}async canCreateFile(n,s){try{await this.u(n,s)}catch(t){return t}return!0}async u(n,s){if(!s?.overwrite&&await this.exists(n))throw new b.$vl((0,I.localize)(11394,null,this.sb(n)),b.FileOperationResult.FILE_MODIFIED_SINCE,s)}async createFile(n,s=v.$Ne.fromString(""),t){await this.u(n,t);const r=await this.writeFile(n,s);return this.r.fire(new b.$sl(n,b.FileOperation.CREATE,r)),r}async writeFile(n,s,t){const r=this.qb(await this.n(n),n),{providerExtUri:o}=this.R(r);let u=t;if((0,b.$jl)(r)&&!u?.atomic){const $=r.enforceAtomicWriteFile?.(n);$&&(u={...t,atomic:$})}try{await this.w(r,n,u)||await this.U(r,o.dirname(n));let N;if((0,b.$dl)(r)&&!(s instanceof v.$Ne))if((0,p.$ze)(s)){const L=await(0,p.$Ge)(s,3);L.ended?N=v.$Ne.concat(L.buffer):N=L}else N=(0,p.$De)(s,L=>v.$Ne.concat(L),3);else N=s;!(0,b.$gl)(r)||(0,b.$dl)(r)&&N instanceof v.$Ne||(0,b.$dl)(r)&&(0,b.$jl)(r)&&u?.atomic?await this.hb(r,n,u,N):await this.db(r,n,u,N instanceof v.$Ne?(0,v.$Ye)(N):N),this.r.fire(new b.$sl(n,b.FileOperation.WRITE))}catch($){throw new b.$vl((0,I.localize)(11395,null,this.sb(n),(0,b.$ol)($).toString()),(0,b.$rl)($),u)}return this.resolve(n,{resolveMetadata:!0})}async w(n,s,t){const r=!!t?.unlock;if(r&&!(n.capabilities&b.FileSystemProviderCapabilities.FileWriteUnlock))throw new Error((0,I.localize)(11396,null,this.sb(s)));if(!!t?.atomic){if(!(n.capabilities&b.FileSystemProviderCapabilities.FileAtomicWrite))throw new Error((0,I.localize)(11397,null,this.sb(s)));if(!(n.capabilities&b.FileSystemProviderCapabilities.FileReadWrite))throw new Error((0,I.localize)(11398,null,this.sb(s)));if(r)throw new Error((0,I.localize)(11399,null,this.sb(s)))}let u;try{u=await n.stat(s)}catch{return}if(u.type&b.FileType.Directory)throw new b.$vl((0,I.localize)(11400,null,this.sb(s)),b.FileOperationResult.FILE_IS_DIRECTORY,t);if(this.rb(s,u),typeof t?.mtime=="number"&&typeof t.etag=="string"&&t.etag!==b.$Fl&&typeof u.mtime=="number"&&typeof u.size=="number"&&t.mtime<u.mtime&&t.etag!==(0,b.$Gl)({mtime:t.mtime,size:u.size}))throw new b.$vl((0,I.localize)(11401,null),b.FileOperationResult.FILE_MODIFIED_SINCE,t);return u}async readFile(n,s,t){const r=await this.m(n);return s?.atomic?this.z(r,n,s,t):this.C(r,n,s,t)}async z(n,s,t,r){return new Promise((o,u)=>{this.cb.queueFor(s,async()=>{try{const $=await this.C(n,s,t,r);o($)}catch($){u($)}},this.R(n).providerExtUri)})}async C(n,s,t,r){const o=await this.D(n,s,{...t,preferUnbuffered:!0},r);return{...o,value:await(0,v.$Ze)(o.value)}}async readFileStream(n,s,t){const r=await this.m(n);return this.D(r,n,s,t)}async D(n,s,t,r){const o=new k.$we(r);let u=t;(0,b.$il)(n)&&n.enforceAtomicReadFile?.(s)&&(u={...t,atomic:!0});const $=this.J(s,u).then(L=>L,L=>{throw o.dispose(!0),L});let N;try{return typeof u?.etag=="string"&&u.etag!==b.$Fl&&await $,u?.atomic&&(0,b.$il)(n)||!((0,b.$gl)(n)||(0,b.$hl)(n))||(0,b.$dl)(n)&&u?.preferUnbuffered?N=this.I(n,s,u):(0,b.$hl)(n)?N=this.G(n,s,o.token,u):N=this.H(n,s,o.token,u),N.on("end",()=>o.dispose()),N.on("error",()=>o.dispose()),{...await $,value:N}}catch(L){throw N&&await(0,p.$Ee)(N),this.F(L,s,u)}}F(n,s,t){const r=(0,I.localize)(11402,null,this.sb(s),(0,b.$ol)(n).toString());return n instanceof b.$xl?new b.$xl(r,n.stat,t):n instanceof b.$wl?new b.$wl(r,n.fileOperationResult,n.size,n.options):new b.$vl(r,(0,b.$rl)(n),t)}G(n,s,t,r=Object.create(null)){const o=n.readFileStream(s,r,t);return(0,p.$Ke)(o,{data:u=>u instanceof v.$Ne?u:v.$Ne.wrap(u),error:u=>this.F(u,s,r)},u=>v.$Ne.concat(u))}H(n,s,t,r=Object.create(null)){const o=(0,v.$4e)();return(0,h.$2q)(n,s,o,u=>u,{...r,bufferSize:this.a,errorTransformer:u=>this.F(u,s,r)},t),o}I(n,s,t){const r=(0,p.$Be)(o=>v.$Ne.concat(o));return(async()=>{try{let o;t?.atomic&&(0,b.$il)(n)?o=await n.readFile(s,{atomic:!0}):o=await n.readFile(s),typeof t?.position=="number"&&(o=o.slice(t.position)),typeof t?.length=="number"&&(o=o.slice(0,t.length)),this.L(s,o.byteLength,t),r.end(v.$Ne.wrap(o))}catch(o){r.error(o),r.end()}})(),r}async J(n,s){const t=await this.resolve(n,{resolveMetadata:!0});if(t.isDirectory)throw new b.$vl((0,I.localize)(11403,null,this.sb(n)),b.FileOperationResult.FILE_IS_DIRECTORY,s);if(typeof s?.etag=="string"&&s.etag!==b.$Fl&&s.etag===t.etag)throw new b.$xl((0,I.localize)(11404,null),t,s);return this.L(n,t.size,s),t}L(n,s,t){if(typeof t?.limits?.size=="number"&&s>t.limits.size)throw new b.$wl((0,I.localize)(11405,null,this.sb(n)),b.FileOperationResult.FILE_TOO_LARGE,s,t)}async canMove(n,s,t){return this.M(n,s,"move",t)}async canCopy(n,s,t){return this.M(n,s,"copy",t)}async M(n,s,t,r){if(n.toString()!==s.toString())try{const o=t==="move"?this.qb(await this.n(n),n):await this.m(n),u=this.qb(await this.n(s),s);await this.Q(o,n,u,s,t,r)}catch(o){return o}return!0}async move(n,s,t){const r=this.qb(await this.n(n),n),o=this.qb(await this.n(s),s),u=await this.N(r,n,o,s,"move",!!t),$=await this.resolve(s,{resolveMetadata:!0});return this.r.fire(new b.$sl(n,u==="move"?b.FileOperation.MOVE:b.FileOperation.COPY,$)),$}async copy(n,s,t){const r=await this.m(n),o=this.qb(await this.n(s),s),u=await this.N(r,n,o,s,"copy",!!t),$=await this.resolve(s,{resolveMetadata:!0});return this.r.fire(new b.$sl(n,u==="copy"?b.FileOperation.COPY:b.FileOperation.MOVE,$)),$}async N(n,s,t,r,o,u){if(s.toString()===r.toString())return o;const{exists:$,isSameResourceWithDifferentPathCase:N}=await this.Q(n,s,t,r,o,u);if($&&!N&&u&&await this.del(r,{recursive:!0}),await this.U(t,this.R(t).providerExtUri.dirname(r)),o==="copy"){if(n===t&&(0,b.$el)(n))await n.copy(s,r,{overwrite:u});else{const L=await this.resolve(s);L.isDirectory?await this.P(n,L,t,r):await this.O(n,s,t,r)}return o}else return n===t?(await n.rename(s,r,{overwrite:u}),o):(await this.N(n,s,t,r,"copy",u),await this.del(s,{recursive:!0}),"copy")}async O(n,s,t,r){if((0,b.$gl)(n)&&(0,b.$gl)(t))return this.jb(n,s,t,r);if((0,b.$gl)(n)&&(0,b.$dl)(t))return this.pb(n,s,t,r);if((0,b.$dl)(n)&&(0,b.$gl)(t))return this.nb(n,s,t,r);if((0,b.$dl)(n)&&(0,b.$dl)(t))return this.lb(n,s,t,r)}async P(n,s,t,r){await t.mkdir(r),Array.isArray(s.children)&&await P.Promises.settled(s.children.map(async o=>{const u=this.R(t).providerExtUri.joinPath(r,o.name);return o.isDirectory?this.P(n,await this.resolve(o.resource),t,u):this.O(n,o.resource,t,u)}))}async Q(n,s,t,r,o,u){let $=!1;if(n===t){const{providerExtUri:L,isPathCaseSensitive:A}=this.R(n);if(A||($=L.isEqual(s,r)),$&&o==="copy")throw new Error((0,I.localize)(11406,null,this.sb(s),this.sb(r)));if(!$&&L.isEqualOrParent(r,s))throw new Error((0,I.localize)(11407,null,this.sb(s),this.sb(r)))}const N=await this.exists(r);if(N&&!$){if(!u)throw new b.$vl((0,I.localize)(11408,null,this.sb(s),this.sb(r)),b.FileOperationResult.FILE_MOVE_CONFLICT);if(n===t){const{providerExtUri:L}=this.R(n);if(L.isEqualOrParent(s,r))throw new Error((0,I.localize)(11409,null,this.sb(s),this.sb(r)))}}return{exists:N,isSameResourceWithDifferentPathCase:$}}R(n){const s=this.S(n);return{providerExtUri:s?d.$9g:d.$$g,isPathCaseSensitive:s}}S(n){return!!(n.capabilities&b.FileSystemProviderCapabilities.PathCaseSensitive)}async createFolder(n){const s=this.qb(await this.j(n),n);await this.U(s,n);const t=await this.resolve(n,{resolveMetadata:!0});return this.r.fire(new b.$sl(n,b.FileOperation.CREATE,t)),t}async U(n,s){const t=[],{providerExtUri:r}=this.R(n);for(;!r.isEqual(s,r.dirname(s));)try{if(!((await n.stat(s)).type&b.FileType.Directory))throw new Error((0,I.localize)(11410,null,this.sb(s)));break}catch(o){if((0,b.$ql)(o)!==b.FileSystemProviderErrorCode.FileNotFound)throw o;t.push(r.basename(s)),s=r.dirname(s)}for(let o=t.length-1;o>=0;o--){s=r.joinPath(s,t[o]);try{await n.mkdir(s)}catch(u){if((0,b.$ql)(u)!==b.FileSystemProviderErrorCode.FileExists)throw u}}}async canDelete(n,s){try{await this.W(n,s)}catch(t){return t}return!0}async W(n,s){const t=this.qb(await this.j(n),n),r=!!s?.useTrash;if(r&&!(t.capabilities&b.FileSystemProviderCapabilities.Trash))throw new Error((0,I.localize)(11411,null,this.sb(n)));const o=s?.atomic;if(o&&!(t.capabilities&b.FileSystemProviderCapabilities.FileAtomicDelete))throw new Error((0,I.localize)(11412,null,this.sb(n)));if(r&&o)throw new Error((0,I.localize)(11413,null,this.sb(n)));let u;try{u=await t.stat(n)}catch{}if(u)this.rb(n,u);else throw new b.$vl((0,I.localize)(11414,null,this.sb(n)),b.FileOperationResult.FILE_NOT_FOUND);if(!!!s?.recursive){const N=await this.resolve(n);if(N.isDirectory&&Array.isArray(N.children)&&N.children.length>0)throw new Error((0,I.localize)(11415,null,this.sb(n)))}return t}async del(n,s){const t=await this.W(n,s);let r=s;if((0,b.$kl)(t)&&!r?.atomic){const N=t.enforceAtomicDelete?.(n);N&&(r={...s,atomic:N})}const o=!!r?.useTrash,u=!!r?.recursive,$=r?.atomic??!1;await t.delete(n,{recursive:u,useTrash:o,atomic:$}),this.r.fire(new b.$sl(n,b.FileOperation.DELETE))}async cloneFile(n,s){const t=await this.j(n),r=this.qb(await this.n(s),s);if(!(t===r&&this.R(t).providerExtUri.isEqual(n,s)))return t===r&&(0,b.$fl)(t)?t.cloneFile(n,s):(await this.U(r,this.R(r).providerExtUri.dirname(s)),t===r&&(0,b.$el)(t)?this.cb.queueFor(n,()=>t.copy(n,s,{overwrite:!0}),this.R(t).providerExtUri):this.cb.queueFor(n,()=>this.O(t,n,r,s),this.R(t).providerExtUri))}static{this.ab=0}createWatcher(n,s){return this.watch(n,{...s,correlationId:y.ab++})}watch(n,s={recursive:!1,excludes:[]}){const t=new a.$Tc;let r=!1,o=()=>{r=!0};t.add((0,a.$Sc)(()=>o())),(async()=>{try{const $=await this.bb(n,s);r?(0,a.$Pc)($):o=()=>(0,a.$Pc)($)}catch($){this.b.error($)}})();const u=s.correlationId;if(typeof u=="number"){const $=t.add(new C.$le);return t.add(this.X.event(L=>{L.correlates(u)&&$.fire(L)})),{onDidChange:$.event,dispose:()=>t.dispose()}}return t}async bb(n,s){const t=await this.j(n),r=(0,R.$tj)([this.R(t).providerExtUri.getComparisonKey(n),s]);let o=this.$.get(r);return o||(o={count:0,disposable:t.watch(n,s)},this.$.set(r,o)),o.count+=1,(0,a.$Sc)(()=>{o&&(o.count--,o.count===0&&((0,a.$Pc)(o.disposable),this.$.delete(r)))})}dispose(){super.dispose();for(const[,n]of this.$)(0,a.$Pc)(n.disposable);this.$.clear()}async db(n,s,t,r){return this.cb.queueFor(s,async()=>{const o=await n.open(s,{create:!0,unlock:t?.unlock??!1});try{(0,p.$ze)(r)||(0,p.$Ae)(r)?await this.eb(n,o,r):await this.fb(n,o,r)}catch(u){throw(0,b.$ol)(u)}finally{await n.close(o)}},this.R(n).providerExtUri)}async eb(n,s,t){let r=0,o;if((0,p.$Ae)(t)){if(t.buffer.length>0){const u=v.$Ne.concat(t.buffer);await this.gb(n,s,u,u.byteLength,r,0),r+=u.byteLength}if(t.ended)return;o=t.stream}else o=t;return new Promise((u,$)=>{(0,p.$Fe)(o,{onData:async N=>{o.pause();try{await this.gb(n,s,N,N.byteLength,r,0)}catch(L){return $(L)}r+=N.byteLength,setTimeout(()=>o.resume())},onError:N=>$(N),onEnd:()=>u()})})}async fb(n,s,t){let r=0,o;for(;(o=t.read())!==null;)await this.gb(n,s,o,o.byteLength,r,0),r+=o.byteLength}async gb(n,s,t,r,o,u){let $=0;for(;$<r;){const N=await n.write(s,o+$,t.buffer,u+$,r-$);$+=N}}async hb(n,s,t,r){return this.cb.queueFor(s,()=>this.ib(n,s,t,r),this.R(n).providerExtUri)}async ib(n,s,t,r){let o;r instanceof v.$Ne?o=r:(0,p.$ze)(r)?o=await(0,v.$Ze)(r):(0,p.$Ae)(r)?o=await(0,v.$1e)(r):o=(0,v.$Xe)(r),await n.writeFile(s,o.buffer,{create:!0,overwrite:!0,unlock:t?.unlock??!1,atomic:t?.atomic??!1})}async jb(n,s,t,r){return this.cb.queueFor(r,()=>this.kb(n,s,t,r),this.R(t).providerExtUri)}async kb(n,s,t,r){let o,u;try{o=await n.open(s,{create:!1}),u=await t.open(r,{create:!0,unlock:!1});const $=v.$Ne.alloc(this.a);let N=0,L=0,A=0;do A=await n.read(o,N,$.buffer,L,$.byteLength-L),await this.gb(t,u,$,A,N,L),N+=A,L+=A,L===$.byteLength&&(L=0);while(A>0)}catch($){throw(0,b.$ol)($)}finally{await P.Promises.settled([typeof o=="number"?n.close(o):Promise.resolve(),typeof u=="number"?t.close(u):Promise.resolve()])}}async lb(n,s,t,r){return this.cb.queueFor(r,()=>this.mb(n,s,t,r),this.R(t).providerExtUri)}async mb(n,s,t,r){return t.writeFile(r,await n.readFile(s),{create:!0,overwrite:!0,unlock:!1,atomic:!1})}async nb(n,s,t,r){return this.cb.queueFor(r,()=>this.ob(n,s,t,r),this.R(t).providerExtUri)}async ob(n,s,t,r){const o=await t.open(r,{create:!0,unlock:!1});try{const u=await n.readFile(s);await this.gb(t,o,v.$Ne.wrap(u),u.byteLength,0,0)}catch(u){throw(0,b.$ol)(u)}finally{await t.close(o)}}async pb(n,s,t,r){const o=await(0,v.$Ze)(this.H(n,s,k.CancellationToken.None));await this.hb(t,r,void 0,o)}qb(n,s){if(n.capabilities&b.FileSystemProviderCapabilities.Readonly)throw new b.$vl((0,I.localize)(11416,null,this.sb(s)),b.FileOperationResult.FILE_PERMISSION_DENIED);return n}rb(n,s){if((s.permissions??0)&b.FilePermission.Readonly)throw new b.$vl((0,I.localize)(11417,null,this.sb(n)),b.FileOperationResult.FILE_PERMISSION_DENIED)}sb(n){return n.scheme===c.Schemas.file?n.fsPath:n.toString(!0)}};e.$3q=i,e.$3q=i=y=be([re(0,g.$ak)],i)}),define(ue[109],he([0,1,32,8,25,13,4,63,2,15,12,16,47,29,5,9,62,106,104,103]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m,d,p,I,b,h,g,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$tr=void 0;class y extends h.$cr{static{this.L=!1}constructor(l,n){super(l,n),this.onDidChangeCapabilities=C.Event.None,this.P=new v.$Ac(s=>c.$0g.getComparisonKey(s)),this.X=new Map,this.Y=new Map,this.Z=new Map}get capabilities(){return this.M||(this.M=I.FileSystemProviderCapabilities.FileReadWrite|I.FileSystemProviderCapabilities.FileOpenReadWriteClose|I.FileSystemProviderCapabilities.FileReadStream|I.FileSystemProviderCapabilities.FileFolderCopy|I.FileSystemProviderCapabilities.FileWriteUnlock|I.FileSystemProviderCapabilities.FileAtomicRead|I.FileSystemProviderCapabilities.FileAtomicWrite|I.FileSystemProviderCapabilities.FileAtomicDelete|I.FileSystemProviderCapabilities.FileClone,f.$l&&(this.M|=I.FileSystemProviderCapabilities.PathCaseSensitive)),this.M}async stat(l){try{const{stat:n,symbolicLink:s}=await d.SymlinkSupport.stat(this.I(l));return{type:this.O(n,s),ctime:n.birthtime.getTime(),mtime:n.mtime.getTime(),size:n.size,permissions:n.mode&128?void 0:I.FilePermission.Locked}}catch(n){throw this.hb(n)}}async N(l){try{return await this.stat(l)}catch{return}}async readdir(l){try{const n=await d.Promises.readdir(this.I(l),{withFileTypes:!0}),s=[];return await Promise.all(n.map(async t=>{try{let r;t.isSymbolicLink()?r=(await this.stat((0,c.$gh)(l,t.name))).type:r=this.O(t),s.push([t.name,r])}catch(r){this.a.trace(r)}})),s}catch(n){throw this.hb(n)}}O(l,n){let s;return n?.dangling?s=I.FileType.Unknown:l.isFile()?s=I.FileType.File:l.isDirectory()?s=I.FileType.Directory:s=I.FileType.Unknown,n&&(s|=I.FileType.SymbolicLink),s}async Q(l){const n=this.I(l);this.R(`[Disk FileSystemProvider]: createResourceLock() - request to acquire resource lock (${n})`);let s;for(;s=this.P.get(l);)this.R(`[Disk FileSystemProvider]: createResourceLock() - waiting for resource lock to be released (${n})`),await s.wait();const t=new P.$Eh;return this.P.set(l,t),this.R(`[Disk FileSystemProvider]: createResourceLock() - new resource lock created (${n})`),(0,w.$Sc)(()=>{this.R(`[Disk FileSystemProvider]: createResourceLock() - resource lock dispose() (${n})`),this.P.get(l)===t&&(this.R(`[Disk FileSystemProvider]: createResourceLock() - resource lock removed from resource-lock map (${n})`),this.P.delete(l)),this.R(`[Disk FileSystemProvider]: createResourceLock() - resource lock barrier open() (${n})`),t.open()})}async readFile(l,n){let s;try{n?.atomic&&(this.R(`[Disk FileSystemProvider]: atomic read operation started (${this.I(l)})`),s=await this.Q(l));const t=this.I(l);return await S.promises.readFile(t)}catch(t){throw this.hb(t)}finally{s?.dispose()}}R(l){y.L&&this.a.trace(l)}readFileStream(l,n,s){const t=(0,m.$Be)(r=>k.$Ne.concat(r.map(o=>k.$Ne.wrap(o))).buffer);return(0,b.$2q)(this,l,t,r=>r.buffer,{...n,bufferSize:256*1024},s),t}async writeFile(l,n,s){return s?.atomic!==!1&&s?.atomic?.postfix&&await this.S(l)?this.U(l,(0,c.$gh)((0,c.$fh)(l),`${(0,c.$dh)(l)}${s.atomic.postfix}`),n,s):this.W(l,n,s)}async S(l){try{const n=this.I(l),{symbolicLink:s}=await d.SymlinkSupport.stat(n);if(s)return!1}catch{}return!0}async U(l,n,s,t){const r=new w.$Tc;try{r.add(await this.Q(l)),r.add(await this.Q(n)),await this.W(n,s,t,!0);try{await this.rename(n,l,{overwrite:!0})}catch(o){try{await this.delete(n,{recursive:!1,useTrash:!1,atomic:!1})}catch{}throw o}}finally{r.dispose()}}async W(l,n,s,t){let r;try{const o=this.I(l);if(!s.create||!s.overwrite){if(await d.Promises.exists(o)){if(!s.overwrite)throw(0,I.$nl)((0,p.localize)(11375,null),I.FileSystemProviderErrorCode.FileExists)}else if(!s.create)throw(0,I.$nl)((0,p.localize)(11376,null),I.FileSystemProviderErrorCode.FileNotFound)}r=await this.open(l,{create:!0,unlock:s.unlock},t),await this.write(r,0,n,0,n.byteLength)}catch(o){throw await this.ib(l,o)}finally{typeof r=="number"&&await this.close(r)}}static{this.$=!0}static configureFlushOnWrite(l){y.$=l}async open(l,n,s){const t=this.I(l);let r;(0,I.$bl)(n)&&!s&&(r=await this.Q(l));let o;try{if((0,I.$bl)(n)&&n.unlock)try{const{stat:$}=await d.SymlinkSupport.stat(t);$.mode&128||await S.promises.chmod(t,$.mode|128)}catch($){$.code!=="ENOENT"&&this.a.trace($)}let u;if((0,I.$bl)(n)){if(f.$j)try{await S.promises.truncate(t,0),u="r+"}catch($){$.code!=="ENOENT"&&this.a.trace($)}u||(u="w")}else u="r";o=await d.Promises.open(t,u)}catch(u){throw r?.dispose(),(0,I.$bl)(n)?await this.ib(l,u):this.hb(u)}if(this.X.set(o,0),(0,I.$bl)(n)&&this.Z.set(o,l),r){const u=this.Y.get(o);this.R(`[Disk FileSystemProvider]: open() - storing lock for handle ${o} (${t})`),this.Y.set(o,r),u&&(this.R(`[Disk FileSystemProvider]: open() - disposing a previous lock that was still stored on same handle ${o} (${t})`),u.dispose())}return o}async close(l){const n=this.Y.get(l);try{if(this.X.delete(l),this.Z.delete(l)&&y.$)try{await d.Promises.fdatasync(l)}catch(s){y.configureFlushOnWrite(!1),this.a.error(s)}return await d.Promises.close(l)}catch(s){throw this.hb(s)}finally{n&&(this.Y.get(l)===n&&(this.R(`[Disk FileSystemProvider]: close() - resource lock removed from handle-lock map ${l}`),this.Y.delete(l)),this.R(`[Disk FileSystemProvider]: close() - disposing lock for handle ${l}`),n.dispose())}}async read(l,n,s,t,r){const o=this.ab(l,n);let u=null;try{u=(await d.Promises.read(l,s,t,r,o)).bytesRead}catch($){throw this.hb($)}finally{this.bb(l,o,u)}return u}ab(l,n){return n===this.X.get(l)?null:n}bb(l,n,s){const t=this.X.get(l);typeof t=="number"&&(typeof n=="number"||(typeof s=="number"?this.X.set(l,t+s):this.X.delete(l)))}async write(l,n,s,t,r){return(0,P.$Zh)(()=>this.cb(l,n,s,t,r),100,3)}async cb(l,n,s,t,r){const o=this.ab(l,n);let u=null;try{u=(await d.Promises.write(l,s,t,r,o)).bytesWritten}catch($){throw await this.ib(this.Z.get(l),$)}finally{this.bb(l,o,u)}return u}async mkdir(l){try{await S.promises.mkdir(this.I(l))}catch(n){throw this.hb(n)}}async delete(l,n){try{const s=this.I(l);if(n.recursive){let t;n?.atomic!==!1&&n.atomic.postfix&&(t=(0,a.$jc)((0,a.$mc)(s),`${(0,a.$nc)(s)}${n.atomic.postfix}`)),await d.Promises.rm(s,d.RimRafMode.MOVE,t)}else try{await S.promises.unlink(s)}catch(t){if(t.code==="EPERM"||t.code==="EISDIR"){let r=!1;try{const{stat:o,symbolicLink:u}=await d.SymlinkSupport.stat(s);r=o.isDirectory()&&!u}catch{}if(r)await S.promises.rmdir(s);else throw t}else throw t}}catch(s){throw this.hb(s)}}async rename(l,n,s){const t=this.I(l),r=this.I(n);if(t!==r)try{await this.db(l,n,"move",s.overwrite),await d.Promises.rename(t,r)}catch(o){throw(o.code==="EINVAL"||o.code==="EBUSY"||o.code==="ENAMETOOLONG")&&(o=new Error((0,p.localize)(11377,null,(0,a.$nc)(t),(0,a.$nc)((0,a.$mc)(r)),o.toString()))),this.hb(o)}}async copy(l,n,s){const t=this.I(l),r=this.I(n);if(t!==r)try{await this.db(l,n,"copy",s.overwrite),await d.Promises.copy(t,r,{preserveSymlinks:!0})}catch(o){throw(o.code==="EINVAL"||o.code==="EBUSY"||o.code==="ENAMETOOLONG")&&(o=new Error((0,p.localize)(11378,null,(0,a.$nc)(t),(0,a.$nc)((0,a.$mc)(r)),o.toString()))),this.hb(o)}}async db(l,n,s,t){const r=this.I(l),o=this.I(n);let u=!1;if(!!(this.capabilities&I.FileSystemProviderCapabilities.PathCaseSensitive)||(u=(0,R.$Dg)(r,o,!0)),u){if(s==="copy")throw(0,I.$nl)((0,p.localize)(11379,null),I.FileSystemProviderErrorCode.FileExists);if(s==="move")return}const N=await this.N(l);if(!N)throw(0,I.$nl)((0,p.localize)(11380,null),I.FileSystemProviderErrorCode.FileNotFound);const L=await this.N(n);if(L){if(!t)throw(0,I.$nl)((0,p.localize)(11381,null),I.FileSystemProviderErrorCode.FileExists);N.type&I.FileType.File&&L.type&I.FileType.File||await this.delete(n,{recursive:!0,useTrash:!1,atomic:!1})}}async cloneFile(l,n){return this.eb(l,n,!1)}async eb(l,n,s){const t=this.I(l),r=this.I(n),o=!!(this.capabilities&I.FileSystemProviderCapabilities.PathCaseSensitive);if((0,R.$Dg)(t,r,!o))return;const u=new w.$Tc;try{u.add(await this.Q(l)),u.add(await this.Q(n)),s&&await S.promises.mkdir((0,a.$mc)(r),{recursive:!0}),await S.promises.copyFile(t,r)}catch($){if($.code==="ENOENT"&&!s)return this.eb(l,n,!0);throw this.hb($)}finally{u.dispose()}}t(l,n,s){return new g.$jr(t=>l(t),t=>n(t),s)}F(l,n,s){return new O.$sr(t=>l(t),t=>n(t),s)}hb(l){if(l instanceof I.$ml)return l;let n=l,s;switch(l.code){case"ENOENT":s=I.FileSystemProviderErrorCode.FileNotFound;break;case"EISDIR":s=I.FileSystemProviderErrorCode.FileIsADirectory;break;case"ENOTDIR":s=I.FileSystemProviderErrorCode.FileNotADirectory;break;case"EEXIST":s=I.FileSystemProviderErrorCode.FileExists;break;case"EPERM":case"EACCES":s=I.FileSystemProviderErrorCode.NoPermissions;break;case"ERR_UNC_HOST_NOT_ALLOWED":n=`${l.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`,s=I.FileSystemProviderErrorCode.Unknown;break;default:s=I.FileSystemProviderErrorCode.Unknown}return(0,I.$nl)(n,s)}async ib(l,n){let s=this.hb(n);if(l&&s.code===I.FileSystemProviderErrorCode.NoPermissions)try{const{stat:t}=await d.SymlinkSupport.stat(this.I(l));t.mode&128||(s=(0,I.$nl)(n,I.FileSystemProviderErrorCode.FileWriteLocked))}catch(t){this.a.trace(t)}return s}}e.$tr=y}),define(ue[110],he([0,1,2,6]),function(Q,e,S,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$KR=void 0;class v extends S.$Uc{constructor(C,R=[]){super(),this.a=new P.$kk([C,...R]),this.B(C.onDidChangeLogLevel(w=>this.setLevel(w)))}get onDidChangeLogLevel(){return this.a.onDidChangeLogLevel}setLevel(C){this.a.setLevel(C)}getLevel(){return this.a.getLevel()}trace(C,...R){this.a.trace(C,...R)}debug(C,...R){this.a.debug(C,...R)}info(C,...R){this.a.info(C,...R)}warn(C,...R){this.a.warn(C,...R)}error(C,...R){this.a.error(C,...R)}flush(){this.a.flush()}}e.$KR=v}),define(ue[111],he([0,1,9,6]),function(Q,e,S,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$zR=void 0;var v;(function(a){a[a.Trace=0]="Trace",a[a.Debug=1]="Debug",a[a.Info=2]="Info",a[a.Warning=3]="Warning",a[a.Error=4]="Error",a[a.Critical=5]="Critical",a[a.Off=6]="Off"})(v||(v={}));async function k(a,f,c,m,d){try{const p=await new Promise((b,h)=>{Q(["@vscode/spdlog"],b,h)}).then(ye);p.setFlushOn(v.Trace);const I=await p.createAsyncRotatingLogger(a,f,c,m);return d?I.clearFormatters():I.setPattern("%Y-%m-%d %H:%M:%S.%e [%l] %v"),I}catch(p){console.error(p)}return null}function C(a,f,c){switch(f){case P.LogLevel.Trace:a.trace(c);break;case P.LogLevel.Debug:a.debug(c);break;case P.LogLevel.Info:a.info(c);break;case P.LogLevel.Warning:a.warn(c);break;case P.LogLevel.Error:a.error(c);break;case P.LogLevel.Off:break;default:throw new Error(`Invalid log level ${f}`)}}function R(a,f){switch(f){case P.LogLevel.Trace:a.setLevel(v.Trace);break;case P.LogLevel.Debug:a.setLevel(v.Debug);break;case P.LogLevel.Info:a.setLevel(v.Info);break;case P.LogLevel.Warning:a.setLevel(v.Warning);break;case P.LogLevel.Error:a.setLevel(v.Error);break;case P.LogLevel.Off:a.setLevel(v.Off);break;default:throw new Error(`Invalid log level ${f}`)}}class w extends P.$gk{constructor(f,c,m,d,p){super(),this.m=[],this.setLevel(p),this.n=this.s(f,c,m,d),this.B(this.onDidChangeLogLevel(I=>{this.r&&R(this.r,I)}))}async s(f,c,m,d){const p=m?6:1,I=30/p*S.$Il.MB,b=await k(f,c,I,p,d);if(b){this.r=b,R(this.r,this.getLevel());for(const{level:h,message:g}of this.m)C(this.r,h,g);this.m=[]}}g(f,c){this.r?C(this.r,f,c):this.getLevel()<=f&&this.m.push({level:f,message:c})}flush(){this.r?this.r.flush():this.n.then(()=>this.flush())}dispose(){this.r?this.u():this.n.then(()=>this.u()),super.dispose()}u(){this.r&&(this.r.drop(),this.r=void 0)}}e.$zR=w}),define(ue[112],he([0,1,28,6,111]),function(Q,e,S,P,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$AR=void 0;class k extends P.$lk{s(R,w,a){return new v.$zR((0,S.$2g)(),R.fsPath,!a?.donotRotate,!!a?.donotUseFormatters,w)}}e.$AR=k}),define(ue[39],he([0,1,4,65,2,10]),function(Q,e,S,P,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$vo=e.$uo=e.$to=void 0,e.$to=(0,k.$Fi)("policy");class C extends v.$Uc{constructor(){super(...arguments),this.f={},this.g=new Map,this.h=this.B(new S.$le),this.onDidChange=this.h.event}async updatePolicyDefinitions(a){const f=Object.keys(this.f).length;return this.f={...a,...this.f},f!==Object.keys(this.f).length&&await this.j(a),P.Iterable.reduce(this.g.entries(),(c,[m,d])=>({...c,[m]:d}),{})}getPolicyValue(a){return this.g.get(a)}serialize(){return P.Iterable.reduce(Object.entries(this.f),(a,[f,c])=>({...a,[f]:{definition:c,value:this.g.get(f)}}),{})}}e.$uo=C;class R{constructor(){this.onDidChange=S.Event.None}async updatePolicyDefinitions(){return{}}getPolicyValue(){}serialize(){}}e.$vo=R}),define(ue[113],he([0,1,8,4,65,3,9,6,39]),function(Q,e,S,P,v,k,C,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Whc=void 0;function a(c,m){const d=[];for(const p of new Set(v.Iterable.concat(c.keys(),m.keys())))c.get(p)!==m.get(p)&&d.push(p);return d}let f=class extends w.$uo{constructor(m,d,p){super(),this.m=m,this.n=d,this.s=p,this.c=this.B(new S.$Dh(500));const I=P.Event.filter(d.onDidFilesChange,b=>b.affects(m));this.B(d.watch(m)),this.B(I(()=>this.c.trigger(()=>this.w())))}async j(){await this.w()}async u(){const m=new Map;try{const d=await this.n.readFile(this.m),p=JSON.parse(d.value.toString());if(!(0,k.$gg)(p))throw new Error("Policy file isn't a JSON object");for(const I of Object.keys(p))this.f[I]&&m.set(I,p[I])}catch(d){d.fileOperationResult!==C.FileOperationResult.FILE_NOT_FOUND&&this.s.error("[FilePolicyService] Failed to read policies",d)}return m}async w(){const m=await this.u(),d=a(this.g,m);this.g=m,d.length>0&&this.h.fire(d)}};e.$Whc=f,e.$Whc=f=be([re(1,C.$al),re(2,R.$ak)],f)}),define(ue[114],he([0,1,39,8,2,6]),function(Q,e,S,P,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Vhc=void 0;let C=class extends S.$uo{constructor(w,a){super(),this.m=w,this.n=a,this.a=new P.$zh,this.b=this.B(new v.$Vc)}async j(w){this.m.trace(`NativePolicyService#_updatePolicyDefinitions - Found ${Object.keys(w).length} policy definitions`);const{createWatcher:a}=await new Promise((f,c)=>{Q(["@vscode/policy-watcher"],f,c)}).then(ye);await this.a.queue(()=>new Promise((f,c)=>{try{this.b.value=a(this.n,w,m=>{this.t(m),f()})}catch(m){this.m.error("NativePolicyService#_updatePolicyDefinitions - Error creating watcher:",m),c(m)}}))}t(w){this.m.trace(`NativePolicyService#_onDidPolicyChange - Updated policy values: ${JSON.stringify(w)}`);for(const a in w){const f=w[a];f===void 0?this.g.delete(a):this.g.set(a,f)}this.h.fire(Object.keys(w))}};e.$Vhc=C,e.$Vhc=C=be([re(0,k.$ak)],C)}),define(ue[33],he([0,1,10]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$uk=e.$tk=void 0,e.$tk=(0,S.$Fi)("productService"),e.$uk="vscode://schemas/vscode-product"}),define(ue[37],he([0,1,75,3]),function(Q,e,S,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ro=void 0,S=ye(S),P=ye(P);class v{constructor(){this.a=new Map}add(C,R){S.ok(P.$eg(C)),S.ok(P.$gg(R)),S.ok(!this.a.has(C),"There is already an extension with this id"),this.a.set(C,R)}knows(C){return this.a.has(C)}as(C){return this.a.get(C)||null}}e.$ro=new v}),define(ue[115],he([0,1,4,78,37]),function(Q,e,S,P,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$so=void 0,v=ye(v),e.$so={JSONContribution:"base.contributions.json"};function k(w){return w.length>0&&w.charAt(w.length-1)==="#"?w.substring(0,w.length-1):w}class C{constructor(){this.b=new S.$le,this.onDidChangeSchema=this.b.event,this.a={}}registerSchema(a,f){this.a[k(a)]=f,this.b.fire(a)}notifySchemaChanged(a){this.b.fire(a)}getSchemaContributions(){return{schemas:this.a}}getSchemaContent(a){const f=this.a[a];return f?(0,P.$8j)(f):void 0}hasSchemaContent(a){return!!this.a[a]}}const R=new C;v.$ro.add(e.$so.JSONContribution,R)}),define(ue[40],he([0,1,19,4,3,5,30,115,37]),function(Q,e,S,P,v,k,C,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Go=e.$Fo=e.$Eo=e.$Do=e.$Co=e.$Bo=e.$Ao=e.$zo=e.$yo=e.$xo=e.ConfigurationScope=e.$wo=e.EditPresentationTypes=void 0,e.$Ho=I,e.$Io=b,e.$Jo=h,e.$Ko=O,e.$Lo=y,e.$Mo=i,e.$No=l,v=ye(v),k=ye(k);var a;(function(n){n.Multiline="multilineText",n.Singleline="singlelineText"})(a||(e.EditPresentationTypes=a={})),e.$wo={Configuration:"base.contributions.configuration"};var f;(function(n){n[n.APPLICATION=1]="APPLICATION",n[n.MACHINE=2]="MACHINE",n[n.WINDOW=3]="WINDOW",n[n.RESOURCE=4]="RESOURCE",n[n.LANGUAGE_OVERRIDABLE=5]="LANGUAGE_OVERRIDABLE",n[n.MACHINE_OVERRIDABLE=6]="MACHINE_OVERRIDABLE"})(f||(e.ConfigurationScope=f={})),e.$xo={properties:{},patternProperties:{}},e.$yo={properties:{},patternProperties:{}},e.$zo={properties:{},patternProperties:{}},e.$Ao={properties:{},patternProperties:{}},e.$Bo={properties:{},patternProperties:{}},e.$Co={properties:{},patternProperties:{}},e.$Do="vscode://schemas/settings/resourceLanguage",e.$Eo="vscode://schemas/settings/configurationDefaults";const c=w.$ro.as(R.$so.JSONContribution);class m{constructor(){this.a=[],this.i=new Set,this.j=new P.$le,this.onDidSchemaChange=this.j.event,this.k=new P.$le,this.onDidUpdateConfiguration=this.k.event,this.b=new Map,this.c={id:"defaultOverrides",title:k.localize(11611,null),properties:{}},this.d=[this.c],this.h={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.e={},this.f=new Map,this.g={},c.registerSchema(e.$Do,this.h),this.z()}registerConfiguration(s,t=!0){this.registerConfigurations([s],t)}registerConfigurations(s,t=!0){const r=new Set;this.r(s,t,r),c.registerSchema(e.$Do,this.h),this.j.fire(),this.k.fire({properties:r})}deregisterConfigurations(s){const t=new Set;this.s(s,t),c.registerSchema(e.$Do,this.h),this.j.fire(),this.k.fire({properties:t})}updateConfigurations({add:s,remove:t}){const r=new Set;this.s(t,r),this.r(s,!1,r),c.registerSchema(e.$Do,this.h),this.j.fire(),this.k.fire({properties:r})}registerDefaultConfigurations(s){const t=new Set;this.l(s,t),this.j.fire(),this.k.fire({properties:t,defaultsOverrides:!0})}l(s,t){this.a.push(...s);const r=[];for(const{overrides:o,source:u}of s)for(const $ in o){t.add($);const N=this.b.get($)??this.b.set($,{configurationDefaultOverrides:[]}).get($),L=o[$];if(N.configurationDefaultOverrides.push({value:L,source:u}),e.$Go.test($)){const A=this.o($,L,u,N.configurationDefaultOverrideValue);if(!A)continue;N.configurationDefaultOverrideValue=A,this.n($,A,u),r.push(...I($))}else{const A=this.p($,L,u,N.configurationDefaultOverrideValue);if(!A)continue;N.configurationDefaultOverrideValue=A;const D=this.e[$];D&&(this.A($,D),this.w($,D))}}this.q(r)}deregisterDefaultConfigurations(s){const t=new Set;this.m(s,t),this.j.fire(),this.k.fire({properties:t,defaultsOverrides:!0})}m(s,t){for(const r of s){const o=this.a.indexOf(r);o!==-1&&this.a.splice(o,1)}for(const{overrides:r,source:o}of s)for(const u in r){const $=this.b.get(u);if(!$)continue;const N=$.configurationDefaultOverrides.findIndex(L=>o?L.source?.id===o.id:L.value===r[u]);if(N!==-1){if($.configurationDefaultOverrides.splice(N,1),$.configurationDefaultOverrides.length===0&&this.b.delete(u),e.$Go.test(u)){let L;for(const A of $.configurationDefaultOverrides)L=this.o(u,A.value,A.source,L);L&&!v.$rg(L.value)?($.configurationDefaultOverrideValue=L,this.n(u,L,o)):(this.b.delete(u),delete this.e[u],delete this.c.properties[u])}else{let L;for(const D of $.configurationDefaultOverrides)L=this.p(u,D.value,D.source,L);$.configurationDefaultOverrideValue=L;const A=this.e[u];A&&(this.A(u,A),this.w(u,A))}t.add(u)}}this.y()}n(s,t,r){const o={type:"object",default:t.value,description:k.localize(11612,null,(0,C.$jj)(s)),$ref:e.$Do,defaultDefaultValue:t.value,source:r,defaultValueSource:r};this.e[s]=o,this.c.properties[s]=o}o(s,t,r,o){const u=o?.value||{},$=o?.source??new Map;if(!($ instanceof Map)){console.error("objectConfigurationSources is not a Map");return}for(const N of Object.keys(t)){const L=t[N];if(v.$gg(L)&&(v.$lg(u[N])||v.$gg(u[N]))){if(u[N]={...u[N]??{},...L},r)for(const D in L)$.set(`${N}.${D}`,r)}else u[N]=L,r?$.set(N,r):$.delete(N)}return{value:u,source:$}}p(s,t,r,o){const u=this.e[s],$=o?.value??u?.defaultDefaultValue;let N=r;if(v.$gg(t)&&(u!==void 0&&u.type==="object"||u===void 0&&(v.$lg($)||v.$gg($)))){if(N=o?.source??new Map,!(N instanceof Map)){console.error("defaultValueSource is not a Map");return}for(const A in t)r&&N.set(`${s}.${A}`,r);t={...v.$gg($)?$:{},...t}}return{value:t,source:N}}deltaConfiguration(s){let t=!1;const r=new Set;s.removedDefaults&&(this.m(s.removedDefaults,r),t=!0),s.addedDefaults&&(this.l(s.addedDefaults,r),t=!0),s.removedConfigurations&&this.s(s.removedConfigurations,r),s.addedConfigurations&&this.r(s.addedConfigurations,!1,r),this.j.fire(),this.k.fire({properties:r,defaultsOverrides:t})}notifyConfigurationSchemaUpdated(...s){this.j.fire()}registerOverrideIdentifiers(s){this.q(s),this.j.fire()}q(s){for(const t of s)this.i.add(t);this.y()}r(s,t,r){s.forEach(o=>{this.u(o,t,o.extensionInfo,o.restrictedProperties,void 0,r),this.d.push(o),this.v(o)})}s(s,t){const r=o=>{if(o.properties)for(const u in o.properties){t.add(u);const $=this.e[u];$?.policy?.name&&this.f.delete($.policy.name),delete this.e[u],this.x(u,o.properties[u])}o.allOf?.forEach(u=>r(u))};for(const o of s){r(o);const u=this.d.indexOf(o);u!==-1&&this.d.splice(u,1)}}u(s,t=!0,r,o,u=f.WINDOW,$){u=v.$ng(s.scope)?u:s.scope;const N=s.properties;if(N)for(const A in N){const D=N[A];if(t&&O(A,D)){delete N[A];continue}if(D.source=r,D.defaultDefaultValue=N[A].default,this.A(A,D),e.$Go.test(A)?D.scope=void 0:(D.scope=v.$ng(D.scope)?u:D.scope,D.restricted=v.$ng(D.restricted)?!!o?.includes(A):D.restricted),N[A].hasOwnProperty("included")&&!N[A].included){this.g[A]=N[A],delete N[A];continue}else this.e[A]=N[A],N[A].policy?.name&&this.f.set(N[A].policy.name,A);!N[A].deprecationMessage&&N[A].markdownDeprecationMessage&&(N[A].deprecationMessage=N[A].markdownDeprecationMessage),$.add(A)}const L=s.allOf;if(L)for(const A of L)this.u(A,t,r,o,u,$)}getConfigurations(){return this.d}getConfigurationProperties(){return this.e}getPolicyConfigurations(){return this.f}getExcludedConfigurationProperties(){return this.g}getRegisteredDefaultConfigurations(){return[...this.a]}getConfigurationDefaultsOverrides(){const s=new Map;for(const[t,r]of this.b)r.configurationDefaultOverrideValue&&s.set(t,r.configurationDefaultOverrideValue);return s}v(s){const t=r=>{const o=r.properties;if(o)for(const $ in o)this.w($,o[$]);r.allOf?.forEach(t)};t(s)}w(s,t){switch(e.$xo.properties[s]=t,t.scope){case f.APPLICATION:e.$yo.properties[s]=t;break;case f.MACHINE:e.$zo.properties[s]=t;break;case f.MACHINE_OVERRIDABLE:e.$Ao.properties[s]=t;break;case f.WINDOW:e.$Bo.properties[s]=t;break;case f.RESOURCE:e.$Co.properties[s]=t;break;case f.LANGUAGE_OVERRIDABLE:e.$Co.properties[s]=t,this.h.properties[s]=t;break}}x(s,t){switch(delete e.$xo.properties[s],t.scope){case f.APPLICATION:delete e.$yo.properties[s];break;case f.MACHINE:delete e.$zo.properties[s];break;case f.MACHINE_OVERRIDABLE:delete e.$Ao.properties[s];break;case f.WINDOW:delete e.$Bo.properties[s];break;case f.RESOURCE:case f.LANGUAGE_OVERRIDABLE:delete e.$Co.properties[s],delete this.h.properties[s];break}}y(){for(const s of this.i.values()){const t=`[${s}]`,r={type:"object",description:k.localize(11613,null),errorMessage:k.localize(11614,null),$ref:e.$Do};this.A(t,r),e.$xo.properties[t]=r,e.$yo.properties[t]=r,e.$zo.properties[t]=r,e.$Ao.properties[t]=r,e.$Bo.properties[t]=r,e.$Co.properties[t]=r}}z(){const s={type:"object",description:k.localize(11615,null),errorMessage:k.localize(11616,null),$ref:e.$Do};e.$xo.patternProperties[e.$Fo]=s,e.$yo.patternProperties[e.$Fo]=s,e.$zo.patternProperties[e.$Fo]=s,e.$Ao.patternProperties[e.$Fo]=s,e.$Bo.patternProperties[e.$Fo]=s,e.$Co.patternProperties[e.$Fo]=s,this.j.fire()}A(s,t){const r=this.b.get(s)?.configurationDefaultOverrideValue;let o,u;r&&(!t.disallowConfigurationDefault||!r.source)&&(o=r.value,u=r.source),v.$lg(o)&&(o=t.defaultDefaultValue,u=void 0),v.$lg(o)&&(o=h(t.type)),t.default=o,t.defaultValueSource=u}}const d="\\[([^\\]]+)\\]",p=new RegExp(d,"g");e.$Fo=`^(${d})+$`,e.$Go=new RegExp(e.$Fo);function I(n){const s=[];if(e.$Go.test(n)){let t=p.exec(n);for(;t?.length;){const r=t[1].trim();r&&s.push(r),t=p.exec(n)}}return(0,S.$Lb)(s)}function b(n){return n.reduce((s,t)=>`${s}[${t}]`,"")}function h(n){switch(Array.isArray(n)?n[0]:n){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const g=new m;w.$ro.add(e.$wo.Configuration,g);function O(n,s){return n.trim()?e.$Go.test(n)?k.localize(11618,null,n):g.getConfigurationProperties()[n]!==void 0?k.localize(11619,null,n):s.policy?.name&&g.getPolicyConfigurations().get(s.policy?.name)!==void 0?k.localize(11620,null,n,s.policy?.name,g.getPolicyConfigurations().get(s.policy?.name)):null:k.localize(11617,null)}function y(){const n=[],s=g.getConfigurationProperties();for(const t of Object.keys(s))n.push([t,s[t].scope]);return n.push(["launch",f.RESOURCE]),n.push(["task",f.RESOURCE]),n}function i(n){const s={};for(const t of n){const r=t.properties;if(v.$gg(r))for(const o in r)s[o]=r[o];t.allOf&&Object.assign(s,i(t.allOf))}return s}function l(n){switch(n){case"application":return f.APPLICATION;case"machine":return f.MACHINE;case"resource":return f.RESOURCE;case"machine-overridable":return f.MACHINE_OVERRIDABLE;case"language-overridable":return f.LANGUAGE_OVERRIDABLE;default:return f.WINDOW}}}),define(ue[66],he([0,1,19,4,34,2,25,27,3,11,30,40,9,37]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$To=e.$Ro=e.$Qo=e.$Po=e.$Oo=void 0,e.$So=y,S=ye(S),v=ye(v),R=ye(R),w=ye(w);function p(s){return Object.isFrozen(s)?s:R.$fo(s)}class I{static createEmptyModel(t){return new I({},[],[],void 0,t)}constructor(t,r,o,u,$){this.b=t,this.c=r,this.d=o,this.raw=u,this.f=$,this.a=new Map}get rawConfiguration(){if(!this.g)if(this.raw?.length){const t=this.raw.map(r=>{if(r instanceof I)return r;const o=new b("",this.f);return o.parseRaw(r),o.configurationModel});this.g=t.reduce((r,o)=>o===r?o:r.merge(o),t[0])}else this.g=this;return this.g}get contents(){return this.b}get overrides(){return this.d}get keys(){return this.c}isEmpty(){return this.c.length===0&&Object.keys(this.b).length===0&&this.d.length===0}getValue(t){return t?(0,f.$hj)(this.contents,t):this.contents}inspect(t,r){const o=this;return{get value(){return p(o.rawConfiguration.getValue(t))},get override(){return r?p(o.rawConfiguration.getOverrideValue(t,r)):void 0},get merged(){return p(r?o.rawConfiguration.override(r).getValue(t):o.rawConfiguration.getValue(t))},get overrides(){const u=[];for(const{contents:$,identifiers:N,keys:L}of o.rawConfiguration.overrides){const A=new I($,L,[],void 0,o.f).getValue(t);A!==void 0&&u.push({identifiers:N,value:A})}return u.length?p(u):void 0}}}getOverrideValue(t,r){const o=this.j(r);return o?t?(0,f.$hj)(o,t):o:void 0}getKeysForOverrideIdentifier(t){const r=[];for(const o of this.overrides)o.identifiers.includes(t)&&r.push(...o.keys);return S.$Lb(r)}getAllOverrideIdentifiers(){const t=[];for(const r of this.overrides)t.push(...r.identifiers);return S.$Lb(t)}override(t){let r=this.a.get(t);return r||(r=this.h(t),this.a.set(t,r)),r}merge(...t){const r=R.$eo(this.contents),o=R.$eo(this.overrides),u=[...this.keys],$=this.raw?.length?[...this.raw]:[this];for(const N of t)if($.push(...N.raw?.length?N.raw:[N]),!N.isEmpty()){this.i(r,N.contents);for(const L of N.overrides){const[A]=o.filter(D=>S.$tb(D.identifiers,L.identifiers));A?(this.i(A.contents,L.contents),A.keys.push(...L.keys),A.keys=S.$Lb(A.keys)):o.push(R.$eo(L))}for(const L of N.keys)u.indexOf(L)===-1&&u.push(L)}return new I(r,u,o,$.every(N=>N instanceof I)?void 0:$,this.f)}h(t){const r=this.j(t);if(!r||typeof r!="object"||!Object.keys(r).length)return this;const o={};for(const u of S.$Lb([...Object.keys(this.contents),...Object.keys(r)])){let $=this.contents[u];const N=r[u];N&&(typeof $=="object"&&typeof N=="object"?($=R.$eo($),this.i($,N)):$=N),o[u]=$}return new I(o,this.keys,this.overrides,void 0,this.f)}i(t,r){for(const o of Object.keys(r)){if(o in t&&w.$gg(t[o])&&w.$gg(r[o])){this.i(t[o],r[o]);continue}t[o]=R.$eo(r[o])}}j(t){let r=null,o=null;const u=$=>{$&&(o?this.i(o,$):o=R.$eo($))};for(const $ of this.overrides)$.identifiers.length===1&&$.identifiers[0]===t?r=$.contents:$.identifiers.includes(t)&&u($.contents);return u(r),o}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(t,r){this.k(t,r,!0)}setValue(t,r){this.k(t,r,!1)}removeValue(t){const r=this.keys.indexOf(t);r!==-1&&(this.keys.splice(r,1),(0,f.$gj)(this.contents,t),c.$Go.test(t)&&this.overrides.splice(this.overrides.findIndex(o=>S.$tb(o.identifiers,(0,c.$Ho)(t))),1))}k(t,r,o){if((0,f.$fj)(this.contents,t,r,u=>this.f.error(u)),o=o||this.keys.indexOf(t)===-1,o&&this.keys.push(t),c.$Go.test(t)){const u=(0,c.$Ho)(t),$={identifiers:u,keys:Object.keys(this.contents[t]),contents:(0,f.$ej)(this.contents[t],L=>this.f.error(L))},N=this.overrides.findIndex(L=>S.$tb(L.identifiers,u));N!==-1?this.overrides[N]=$:this.overrides.push($)}}}e.$Oo=I;class b{constructor(t,r){this.f=t,this.g=r,this.a=null,this.b=null,this.c=[],this.d=[]}get configurationModel(){return this.b||I.createEmptyModel(this.g)}get restrictedConfigurations(){return this.c}get errors(){return this.d}parse(t,r){if(!w.$ng(t)){const o=this.h(t);this.parseRaw(o,r)}}reparse(t){this.a&&this.parseRaw(this.a,t)}parseRaw(t,r){this.a=t;const{contents:o,keys:u,overrides:$,restricted:N,hasExcludedProperties:L}=this.i(t,r);this.b=new I(o,u,$,L?[t]:void 0,this.g),this.c=N||[]}h(t){let r={},o=null,u=[];const $=[],N=[];function L(D){Array.isArray(u)?u.push(D):o!==null&&(u[o]=D)}const A={onObjectBegin:()=>{const D={};L(D),$.push(u),u=D,o=null},onObjectProperty:D=>{o=D},onObjectEnd:()=>{u=$.pop()},onArrayBegin:()=>{const D=[];L(D),$.push(u),u=D,o=null},onArrayEnd:()=>{u=$.pop()},onLiteralValue:L,onError:(D,U,G)=>{N.push({error:D,offset:U,length:G})}};if(t)try{v.$6n(t,A),r=u[0]||{}}catch(D){this.g.error(`Error while parsing settings file ${this.f}: ${D}`),this.d=[D]}return r}i(t,r){const o=d.$ro.as(c.$wo.Configuration).getConfigurationProperties(),u=this.j(t,o,!0,r);t=u.raw;const $=(0,f.$ej)(t,A=>this.g.error(`Conflict in settings file ${this.f}: ${A}`)),N=Object.keys(t),L=this.l(t,A=>this.g.error(`Conflict in settings file ${this.f}: ${A}`));return{contents:$,keys:N,overrides:L,restricted:u.restricted,hasExcludedProperties:u.hasExcludedProperties}}j(t,r,o,u){let $=!1;if(!u?.scopes&&!u?.skipRestricted&&!u?.exclude?.length)return{raw:t,restricted:[],hasExcludedProperties:$};const N={},L=[];for(const A in t)if(c.$Go.test(A)&&o){const D=this.j(t[A],r,!1,u);N[A]=D.raw,$=$||D.hasExcludedProperties,L.push(...D.restricted)}else{const D=r[A],U=D?typeof D.scope<"u"?D.scope:c.ConfigurationScope.WINDOW:void 0;D?.restricted&&L.push(A),!u.exclude?.includes(A)&&(u.include?.includes(A)||(U===void 0||u.scopes===void 0||u.scopes.includes(U))&&!(u.skipRestricted&&D?.restricted))?N[A]=t[A]:$=!0}return{raw:N,restricted:L,hasExcludedProperties:$}}l(t,r){const o=[];for(const u of Object.keys(t))if(c.$Go.test(u)){const $={};for(const N in t[u])$[N]=t[u][N];o.push({identifiers:(0,c.$Ho)(u),keys:Object.keys($),contents:(0,f.$ej)($,r)})}return o}}e.$Po=b;class h extends k.$Uc{constructor(t,r,o,u,$){super(),this.c=t,this.f=r,this.g=u,this.h=$,this.b=this.B(new P.$le),this.onDidChange=this.b.event,this.a=new b(this.c.toString(),$),this.B(this.g.watch(o.dirname(this.c))),this.B(this.g.watch(this.c)),this.B(P.Event.any(P.Event.filter(this.g.onDidFilesChange,N=>N.contains(this.c)),P.Event.filter(this.g.onDidRunOperation,N=>(N.isOperation(m.FileOperation.CREATE)||N.isOperation(m.FileOperation.COPY)||N.isOperation(m.FileOperation.DELETE)||N.isOperation(m.FileOperation.WRITE))&&o.isEqual(N.resource,t)))(()=>this.b.fire()))}async loadConfiguration(){try{const t=await this.g.readFile(this.c);return this.a.parse(t.value.toString()||"{}",this.f),this.a.configurationModel}catch{return I.createEmptyModel(this.h)}}reparse(t){return t&&(this.f=t),this.a.reparse(this.f),this.a.configurationModel}getRestrictedSettings(){return this.a.restrictedConfigurations}}e.$Qo=h;class g{constructor(t,r,o,u,$,N,L,A,D,U,G,Z,te){this.a=t,this.b=r,this.c=o,this.overrideIdentifiers=u,this.d=$,this.f=N,this.g=L,this.h=A,this.i=D,this.j=U,this.k=G,this.l=Z,this.m=te}get value(){return p(this.c)}n(t){return t?.value!==void 0||t?.override!==void 0||t?.overrides!==void 0?t:void 0}get q(){return this.p||(this.p=this.d.inspect(this.a,this.b.overrideIdentifier)),this.p}get defaultValue(){return this.q.merged}get default(){return this.n(this.q)}get s(){return this.r===void 0&&(this.r=this.f?this.f.inspect(this.a):null),this.r}get policyValue(){return this.s?.merged}get policy(){return this.s?.value!==void 0?{value:this.s.value}:void 0}get u(){return this.t===void 0&&(this.t=this.g?this.g.inspect(this.a):null),this.t}get applicationValue(){return this.u?.merged}get application(){return this.n(this.u)}get w(){return this.v||(this.v=this.h.inspect(this.a,this.b.overrideIdentifier)),this.v}get userValue(){return this.w.merged}get user(){return this.n(this.w)}get y(){return this.x||(this.x=this.i.inspect(this.a,this.b.overrideIdentifier)),this.x}get userLocalValue(){return this.y.merged}get userLocal(){return this.n(this.y)}get A(){return this.z||(this.z=this.j.inspect(this.a,this.b.overrideIdentifier)),this.z}get userRemoteValue(){return this.A.merged}get userRemote(){return this.n(this.A)}get D(){return this.B===void 0&&(this.B=this.k?this.k.inspect(this.a,this.b.overrideIdentifier):null),this.B}get workspaceValue(){return this.D?.merged}get workspace(){return this.n(this.D)}get F(){return this.E===void 0&&(this.E=this.l?this.l.inspect(this.a,this.b.overrideIdentifier):null),this.E}get workspaceFolderValue(){return this.F?.merged}get workspaceFolder(){return this.n(this.F)}get H(){return this.G===void 0&&(this.G=this.m.inspect(this.a,this.b.overrideIdentifier)),this.G}get memoryValue(){return this.H.merged}get memory(){return this.n(this.H)}}class O{constructor(t,r,o,u,$,N,L,A,D,U){this.j=t,this.l=r,this.m=o,this.n=u,this.p=$,this.q=N,this.r=L,this.s=A,this.t=D,this.u=U,this.h=null,this.i=new C.$Ac,this.v=null}getValue(t,r,o){return this.w(t,r,o).getValue(t)}updateValue(t,r,o={}){let u;o.resource?(u=this.t.get(o.resource),u||(u=I.createEmptyModel(this.u),this.t.set(o.resource,u))):u=this.s,r===void 0?u.removeValue(t):u.setValue(t,r),o.resource||(this.h=null)}inspect(t,r,o){const u=this.w(t,r,o),$=this.A(r.resource,o),N=r.resource?this.t.get(r.resource)||this.s:this.s,L=new Set;for(const A of u.overrides)for(const D of A.identifiers)u.getOverrideValue(t,D)!==void 0&&L.add(D);return new g(t,r,u.getValue(t),L.size?[...L]:void 0,this.j,this.l.isEmpty()?void 0:this.l,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,o?this.q:void 0,$||void 0,N)}keys(t){const r=this.A(void 0,t);return{default:this.j.keys.slice(0),user:this.userConfiguration.keys.slice(0),workspace:this.q.keys.slice(0),workspaceFolder:r?r.keys.slice(0):[]}}updateDefaultConfiguration(t){this.j=t,this.h=null,this.i.clear()}updatePolicyConfiguration(t){this.l=t}updateApplicationConfiguration(t){this.m=t,this.h=null,this.i.clear()}updateLocalUserConfiguration(t){this.n=t,this.v=null,this.h=null,this.i.clear()}updateRemoteUserConfiguration(t){this.p=t,this.v=null,this.h=null,this.i.clear()}updateWorkspaceConfiguration(t){this.q=t,this.h=null,this.i.clear()}updateFolderConfiguration(t,r){this.r.set(t,r),this.i.delete(t)}deleteFolderConfiguration(t){this.folderConfigurations.delete(t),this.i.delete(t)}compareAndUpdateDefaultConfiguration(t,r){const o=[];if(!r){const{added:u,updated:$,removed:N}=l(this.j,t);r=[...u,...$,...N]}for(const u of r)for(const $ of(0,c.$Ho)(u)){const N=this.j.getKeysForOverrideIdentifier($),L=t.getKeysForOverrideIdentifier($),A=[...L.filter(D=>N.indexOf(D)===-1),...N.filter(D=>L.indexOf(D)===-1),...N.filter(D=>!R.$io(this.j.override($).getValue(D),t.override($).getValue(D)))];o.push([$,A])}return this.updateDefaultConfiguration(t),{keys:r,overrides:o}}compareAndUpdatePolicyConfiguration(t){const{added:r,updated:o,removed:u}=l(this.l,t),$=[...r,...o,...u];return $.length&&this.updatePolicyConfiguration(t),{keys:$,overrides:[]}}compareAndUpdateApplicationConfiguration(t){const{added:r,updated:o,removed:u,overrides:$}=l(this.applicationConfiguration,t),N=[...r,...o,...u];return N.length&&this.updateApplicationConfiguration(t),{keys:N,overrides:$}}compareAndUpdateLocalUserConfiguration(t){const{added:r,updated:o,removed:u,overrides:$}=l(this.localUserConfiguration,t),N=[...r,...o,...u];return N.length&&this.updateLocalUserConfiguration(t),{keys:N,overrides:$}}compareAndUpdateRemoteUserConfiguration(t){const{added:r,updated:o,removed:u,overrides:$}=l(this.remoteUserConfiguration,t),N=[...r,...o,...u];return N.length&&this.updateRemoteUserConfiguration(t),{keys:N,overrides:$}}compareAndUpdateWorkspaceConfiguration(t){const{added:r,updated:o,removed:u,overrides:$}=l(this.workspaceConfiguration,t),N=[...r,...o,...u];return N.length&&this.updateWorkspaceConfiguration(t),{keys:N,overrides:$}}compareAndUpdateFolderConfiguration(t,r){const o=this.folderConfigurations.get(t),{added:u,updated:$,removed:N,overrides:L}=l(o,r),A=[...u,...$,...N];return(A.length||!o)&&this.updateFolderConfiguration(t,r),{keys:A,overrides:L}}compareAndDeleteFolderConfiguration(t){const r=this.folderConfigurations.get(t);if(!r)throw new Error("Unknown folder");this.deleteFolderConfiguration(t);const{added:o,updated:u,removed:$,overrides:N}=l(r,void 0);return{keys:[...o,...u,...$],overrides:N}}get defaults(){return this.j}get applicationConfiguration(){return this.m}get userConfiguration(){return this.v||(this.v=this.p.isEmpty()?this.n:this.n.merge(this.p)),this.v}get localUserConfiguration(){return this.n}get remoteUserConfiguration(){return this.p}get workspaceConfiguration(){return this.q}get folderConfigurations(){return this.r}w(t,r,o){let u=this.x(r,o);return r.overrideIdentifier&&(u=u.override(r.overrideIdentifier)),!this.l.isEmpty()&&this.l.getValue(t)!==void 0&&(u=u.merge(this.l)),u}x({resource:t},r){let o=this.y();if(r&&t){const u=r.getFolder(t);u&&(o=this.z(u.uri)||o);const $=this.t.get(t);$&&(o=o.merge($))}return o}y(){return this.h||(this.h=this.j.merge(this.applicationConfiguration,this.userConfiguration,this.q,this.s)),this.h}z(t){let r=this.i.get(t);if(!r){const o=this.y(),u=this.r.get(t);u?(r=o.merge(u),this.i.set(t,r)):r=o}return r}A(t,r){if(r&&t){const o=r.getFolder(t);if(o)return this.r.get(o.uri)}}toData(){return{defaults:{contents:this.j.contents,overrides:this.j.overrides,keys:this.j.keys},policy:{contents:this.l.contents,overrides:this.l.overrides,keys:this.l.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this.q.contents,overrides:this.q.overrides,keys:this.q.keys},folders:[...this.r.keys()].reduce((t,r)=>{const{contents:o,overrides:u,keys:$}=this.r.get(r);return t.push([r,{contents:o,overrides:u,keys:$}]),t},[])}}allKeys(){const t=new Set;return this.j.keys.forEach(r=>t.add(r)),this.userConfiguration.keys.forEach(r=>t.add(r)),this.q.keys.forEach(r=>t.add(r)),this.r.forEach(r=>r.keys.forEach(o=>t.add(o))),[...t.values()]}B(){const t=new Set;return this.j.getAllOverrideIdentifiers().forEach(r=>t.add(r)),this.userConfiguration.getAllOverrideIdentifiers().forEach(r=>t.add(r)),this.q.getAllOverrideIdentifiers().forEach(r=>t.add(r)),this.r.forEach(r=>r.getAllOverrideIdentifiers().forEach(o=>t.add(o))),[...t.values()]}D(t){const r=new Set;return this.j.getKeysForOverrideIdentifier(t).forEach(o=>r.add(o)),this.userConfiguration.getKeysForOverrideIdentifier(t).forEach(o=>r.add(o)),this.q.getKeysForOverrideIdentifier(t).forEach(o=>r.add(o)),this.r.forEach(o=>o.getKeysForOverrideIdentifier(t).forEach(u=>r.add(u))),[...r.values()]}static parse(t,r){const o=this.E(t.defaults,r),u=this.E(t.policy,r),$=this.E(t.application,r),N=this.E(t.user,r),L=this.E(t.workspace,r),A=t.folders.reduce((D,U)=>(D.set(a.URI.revive(U[0]),this.E(U[1],r)),D),new C.$Ac);return new O(o,u,$,N,I.createEmptyModel(r),L,A,I.createEmptyModel(r),new C.$Ac,r)}static E(t,r){return new I(t.contents,t.keys,t.overrides,void 0,r)}}e.$Ro=O;function y(...s){if(s.length===0)return{keys:[],overrides:[]};if(s.length===1)return s[0];const t=new Set,r=new Map;for(const u of s)u.keys.forEach($=>t.add($)),u.overrides.forEach(([$,N])=>{const L=(0,C.$xc)(r,$,new Set);N.forEach(A=>L.add(A))});const o=[];return r.forEach((u,$)=>o.push([$,[...u.values()]])),{keys:[...t.values()],overrides:o}}class i{constructor(t,r,o,u,$){this.change=t,this.f=r,this.g=o,this.h=u,this.i=$,this.a=`
`,this.b=this.a.charCodeAt(0),this.c=46,this.affectedKeys=new Set,this.j=void 0;for(const N of t.keys)this.affectedKeys.add(N);for(const[,N]of t.overrides)for(const L of N)this.affectedKeys.add(L);this.d=this.a;for(const N of this.affectedKeys)this.d+=N+this.a}get previousConfiguration(){return!this.j&&this.f&&(this.j=O.parse(this.f.data,this.i)),this.j}affectsConfiguration(t,r){const o=this.a+t,u=this.d.indexOf(o);if(u<0)return!1;const $=u+o.length;if($>=this.d.length)return!1;const N=this.d.charCodeAt($);if(N!==this.b&&N!==this.c)return!1;if(r){const L=this.previousConfiguration?this.previousConfiguration.getValue(t,r,this.f?.workspace):void 0,A=this.g.getValue(t,r,this.h);return!R.$io(L,A)}return!0}}e.$To=i;function l(s,t){const{added:r,removed:o,updated:u}=n(t?.rawConfiguration,s?.rawConfiguration),$=[],N=s?.getAllOverrideIdentifiers()||[],L=t?.getAllOverrideIdentifiers()||[];if(t){const A=L.filter(D=>!N.includes(D));for(const D of A)$.push([D,t.getKeysForOverrideIdentifier(D)])}if(s){const A=N.filter(D=>!L.includes(D));for(const D of A)$.push([D,s.getKeysForOverrideIdentifier(D)])}if(t&&s){for(const A of N)if(L.includes(A)){const D=n({contents:s.getOverrideValue(void 0,A)||{},keys:s.getKeysForOverrideIdentifier(A)},{contents:t.getOverrideValue(void 0,A)||{},keys:t.getKeysForOverrideIdentifier(A)});$.push([A,[...D.added,...D.removed,...D.updated]])}}return{added:r,removed:o,updated:u,overrides:$}}function n(s,t){const r=s?t?s.keys.filter($=>t.keys.indexOf($)===-1):[...s.keys]:[],o=t?s?t.keys.filter($=>s.keys.indexOf($)===-1):[...t.keys]:[],u=[];if(s&&t){for(const $ of t.keys)if(s.keys.indexOf($)!==-1){const N=(0,f.$hj)(t.contents,$),L=(0,f.$hj)(s.contents,$);R.$io(N,L)||u.push($)}}return{added:r,removed:o,updated:u}}}),define(ue[116],he([0,1,19,4,2,27,3,66,40,6,39,37]),function(Q,e,S,P,v,k,C,R,w,a,f,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Wo=e.$Vo=e.$Uo=void 0;class m extends v.$Uc{get configurationModel(){return this.b}constructor(b){super(),this.c=b,this.a=this.B(new P.$le),this.onDidChangeConfiguration=this.a.event,this.b=R.$Oo.createEmptyModel(this.c)}async initialize(){return this.h(),this.B(c.$ro.as(w.$wo.Configuration).onDidUpdateConfiguration(({properties:b,defaultsOverrides:h})=>this.f(Array.from(b),h))),this.configurationModel}reload(){return this.h(),this.configurationModel}f(b,h){this.j(b,c.$ro.as(w.$wo.Configuration).getConfigurationProperties()),this.a.fire({defaults:this.configurationModel,properties:b})}g(){return{}}h(){this.b=R.$Oo.createEmptyModel(this.c);const b=c.$ro.as(w.$wo.Configuration).getConfigurationProperties();this.j(Object.keys(b),b)}j(b,h){const g=this.g();for(const O of b){const y=g[O],i=h[O];y!==void 0?this.b.setValue(O,y):i?this.b.setValue(O,i.default):this.b.removeValue(O)}}}e.$Uo=m;class d{constructor(){this.onDidChangeConfiguration=P.Event.None,this.configurationModel=R.$Oo.createEmptyModel(new a.$nk)}async initialize(){return this.configurationModel}}e.$Vo=d;let p=class extends v.$Uc{get configurationModel(){return this.b}constructor(b,h,g){super(),this.c=b,this.f=h,this.g=g,this.a=this.B(new P.$le),this.onDidChangeConfiguration=this.a.event,this.b=R.$Oo.createEmptyModel(this.g)}async initialize(){return this.g.trace("PolicyConfiguration#initialize"),this.m(await this.h(this.c.configurationModel.keys),!1),this.B(this.f.onDidChange(b=>this.j(b))),this.B(this.c.onDidChangeConfiguration(async({properties:b})=>this.m(await this.h(b),!0))),this.b}async h(b){this.g.trace("PolicyConfiguration#updatePolicyDefinitions",b);const h={},g=[],O=c.$ro.as(w.$wo.Configuration).getConfigurationProperties();for(const y of b){const i=O[y];if(!i){g.push(y);continue}if(i.policy){if(i.type!=="string"&&i.type!=="number"){this.g.warn(`Policy ${i.policy.name} has unsupported type ${i.type}`);continue}g.push(y),h[i.policy.name]={type:i.type}}}return(0,C.$rg)(h)||await this.f.updatePolicyDefinitions(h),g}j(b){this.g.trace("PolicyConfiguration#onDidChangePolicies",b);const h=c.$ro.as(w.$wo.Configuration).getPolicyConfigurations(),g=(0,S.$Gb)(b.map(O=>h.get(O)));this.m(g,!0)}m(b,h){this.g.trace("PolicyConfiguration#update",b);const g=c.$ro.as(w.$wo.Configuration).getConfigurationProperties(),O=[],y=this.b.isEmpty();for(const i of b){const l=g[i]?.policy?.name;if(l){const n=this.f.getPolicyValue(l);(y?n!==void 0:!(0,k.$io)(this.b.getValue(i),n))&&O.push([i,n])}else this.b.getValue(i)!==void 0&&O.push([i,void 0])}if(O.length){this.g.trace("PolicyConfiguration#changed",O);const i=this.b;this.b=R.$Oo.createEmptyModel(this.g);for(const l of i.keys)this.b.setValue(l,i.getValue(l));for(const[l,n]of O)n===void 0?this.b.removeValue(l):this.b.setValue(l,n);h&&this.a.fire(this.b)}}};e.$Wo=p,e.$Wo=p=be([re(1,f.$to),re(2,a.$ak)],p)}),define(ue[117],he([0,1,19,8,13,4,34,77,2,25,27,12,16,30,66,40,116,9,39]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m,d,p,I,b,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Xo=void 0;class O extends w.$Uc{constructor(l,n,s,t){super(),this.m=l,this.n=t,this.h=this.B(new k.$le),this.onDidChangeConfiguration=this.h.event,this.b=this.B(new b.$Uo(t)),this.c=s instanceof g.$vo?new b.$Vo:this.B(new b.$Wo(this.b,s,t)),this.f=this.B(new p.$Qo(this.m,{},m.$0g,n,t)),this.a=new p.$Ro(this.b.configurationModel,this.c.configurationModel,p.$Oo.createEmptyModel(t),p.$Oo.createEmptyModel(t),p.$Oo.createEmptyModel(t),p.$Oo.createEmptyModel(t),new a.$Ac,p.$Oo.createEmptyModel(t),new a.$Ac,t),this.j=new y(l,n,this),this.g=this.B(new P.$Rh(()=>this.reloadConfiguration(),50)),this.B(this.b.onDidChangeConfiguration(({defaults:r,properties:o})=>this.s(r,o))),this.B(this.c.onDidChangeConfiguration(r=>this.t(r))),this.B(this.f.onDidChange(()=>this.g.schedule()))}async initialize(){const[l,n,s]=await Promise.all([this.b.initialize(),this.c.initialize(),this.f.loadConfiguration()]);this.a=new p.$Ro(l,n,p.$Oo.createEmptyModel(this.n),s,p.$Oo.createEmptyModel(this.n),p.$Oo.createEmptyModel(this.n),new a.$Ac,p.$Oo.createEmptyModel(this.n),new a.$Ac,this.n)}getConfigurationData(){return this.a.toData()}getValue(l,n){const s=typeof l=="string"?l:void 0,t=(0,d.$aj)(l)?l:(0,d.$aj)(n)?n:{};return this.a.getValue(s,t,void 0)}async updateValue(l,n,s,t,r){const o=(0,d.$bj)(s)?s:(0,d.$aj)(s)?{resource:s.resource,overrideIdentifiers:s.overrideIdentifier?[s.overrideIdentifier]:void 0}:void 0,u=o?t:s;if(u!==void 0&&u!==d.ConfigurationTarget.USER_LOCAL&&u!==d.ConfigurationTarget.USER)throw new Error(`Unable to write ${l} to target ${u}.`);o?.overrideIdentifiers&&(o.overrideIdentifiers=(0,S.$Lb)(o.overrideIdentifiers),o.overrideIdentifiers=o.overrideIdentifiers.length?o.overrideIdentifiers:void 0);const $=this.inspect(l,{resource:o?.resource,overrideIdentifier:o?.overrideIdentifiers?o.overrideIdentifiers[0]:void 0});if($.policyValue!==void 0)throw new Error(`Unable to write ${l} because it is configured in system policy.`);if((0,f.$io)(n,$.defaultValue)&&(n=void 0),o?.overrideIdentifiers?.length&&o.overrideIdentifiers.length>1){const L=o.overrideIdentifiers.sort(),A=this.a.localUserConfiguration.overrides.find(D=>(0,S.$tb)([...D.identifiers].sort(),L));A&&(o.overrideIdentifiers=A.identifiers)}const N=o?.overrideIdentifiers?.length?[(0,I.$Io)(o.overrideIdentifiers),l]:[l];await this.j.write(N,n),await this.reloadConfiguration()}inspect(l,n={}){return this.a.inspect(l,n,void 0)}keys(){return this.a.keys(void 0)}async reloadConfiguration(){const l=await this.f.loadConfiguration();this.r(l)}r(l){const n=this.a.toData(),s=this.a.compareAndUpdateLocalUserConfiguration(l);this.u(s,n,d.ConfigurationTarget.USER)}s(l,n){const s=this.a.toData(),t=this.a.compareAndUpdateDefaultConfiguration(l,n);this.u(t,s,d.ConfigurationTarget.DEFAULT)}t(l){const n=this.a.toData(),s=this.a.compareAndUpdatePolicyConfiguration(l);this.u(s,n,d.ConfigurationTarget.DEFAULT)}u(l,n,s){const t=new p.$To(l,{data:n},this.a,void 0,this.n);t.source=s,this.h.fire(t)}}e.$Xo=O;class y{constructor(l,n,s){this.b=l,this.c=n,this.d=s,this.a=new P.$Mh}write(l,n){return this.a.queue(()=>this.e(l,n))}async e(l,n){let s;try{s=(await this.c.readFile(this.b)).value.toString()}catch(o){if(o.fileOperationResult===h.FileOperationResult.FILE_NOT_FOUND)s="{}";else throw o}const t=[];if((0,C.$Yn)(s,t,{allowTrailingComma:!0,allowEmptyContent:!0}),t.length>0)throw new Error("Unable to write into the settings file. Please open the file to correct errors/warnings in the file and try again.");const r=this.f(s,l,n);s=(0,R.$do)(s,r),await this.c.writeFile(this.b,v.$Ne.fromString(s))}f(l,n,s){const{tabSize:t,insertSpaces:r,eol:o}=this.h;if(!n.length){const u=JSON.stringify(s,null,r?" ".repeat(t):"	");return[{content:u,length:u.length,offset:0}]}return(0,R.$ao)(l,n,s,{tabSize:t,insertSpaces:r,eol:o})}get h(){if(!this.g){let l=c.OS===c.OperatingSystem.Linux||c.OS===c.OperatingSystem.Macintosh?`
`:`\r
`;const n=this.d.getValue("files.eol",{overrideIdentifier:"jsonc"});n&&typeof n=="string"&&n!=="auto"&&(l=n),this.g={eol:l,insertSpaces:!!this.d.getValue("editor.insertSpaces",{overrideIdentifier:"jsonc"}),tabSize:this.d.getValue("editor.tabSize",{overrideIdentifier:"jsonc"})}}return this.g}}}),define(ue[67],he([0,1,14]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$hn=P,e.$in=v,e.$jn=k,e.$kn=C;function P(w){return w.scheme===S.Schemas.vscodeRemote?w.authority:void 0}function v(w){if(!w)return;const a=w.indexOf("+");return a<0?w:w.substr(0,a)}function k(w){const{host:a,port:f}=R(w);if(typeof f>"u")throw new Error(`Invalid remote authority: ${w}. It must either be a remote of form <remoteName>+<arg> or a remote host of form <host>:<port>.`);return{host:a,port:f}}function C(w,a){let{host:f,port:c}=R(w);return typeof c>"u"&&(c=a),{host:f,port:c}}function R(w){const a=w.match(/^(\[[0-9a-z:]+\]):(\d+)$/);if(a)return{host:a[1],port:parseInt(a[2],10)};const f=w.match(/^(\[[0-9a-z:]+\])$/);if(f)return{host:f[1],port:void 0};const c=w.match(/(.*):(\d+)$/);return c?{host:c[1],port:parseInt(c[2],10)}:{host:w,port:void 0}}}),define(ue[22],he([0,1,31,10,67]),function(Q,e,S,P,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$An=e.$tn=e.$sn=e.$rn=e.TargetPlatform=e.ExtensionType=e.$qn=e.$on=e.$nn=e.$mn=e.$ln=void 0,e.$pn=k,e.$un=c,e.$vn=m,e.$wn=d,e.$xn=p,e.$yn=I,e.$zn=b,S=ye(S),e.$ln="extensions.user.cache",e.$mn="extensions.builtin.cache",e.$nn="undefined_publisher",e.$on=["ui","workspace","web"];function k(h){if(typeof h=="object"&&h!==null&&h.supported!==!0)return h.description}e.$qn=["AI","Azure","Chat","Data Science","Debuggers","Extension Packs","Education","Formatters","Keymaps","Language Packs","Linters","Machine Learning","Notebooks","Programming Languages","SCM Providers","Snippets","Testing","Themes","Visualization","Other"];var C;(function(h){h[h.System=0]="System",h[h.User=1]="User"})(C||(e.ExtensionType=C={}));var R;(function(h){h.WIN32_X64="win32-x64",h.WIN32_ARM64="win32-arm64",h.LINUX_X64="linux-x64",h.LINUX_ARM64="linux-arm64",h.LINUX_ARMHF="linux-armhf",h.ALPINE_X64="alpine-x64",h.ALPINE_ARM64="alpine-arm64",h.DARWIN_X64="darwin-x64",h.DARWIN_ARM64="darwin-arm64",h.WEB="web",h.UNIVERSAL="universal",h.UNKNOWN="unknown",h.UNDEFINED="undefined"})(R||(e.TargetPlatform=R={}));class w{constructor(g){this.value=g,this._lower=g.toLowerCase()}static equals(g,O){if(typeof g>"u"||g===null)return typeof O>"u"||O===null;if(typeof O>"u"||O===null)return!1;if(typeof g=="string"||typeof O=="string"){const y=typeof g=="string"?g:g.value,i=typeof O=="string"?O:O.value;return S.$Ff(y,i)}return g._lower===O._lower}static toKey(g){return typeof g=="string"?g.toLowerCase():g._lower}}e.$rn=w;class a{get size(){return this.c.size}constructor(g){if(this.c=new Set,g)for(const O of g)this.add(O)}add(g){this.c.add(w.toKey(g))}delete(g){return this.c.delete(w.toKey(g))}has(g){return this.c.has(w.toKey(g))}}e.$sn=a;class f{constructor(){this.c=new Map}clear(){this.c.clear()}delete(g){this.c.delete(w.toKey(g))}get(g){return this.c.get(w.toKey(g))}has(g){return this.c.has(w.toKey(g))}set(g,O){this.c.set(w.toKey(g),O)}values(){return this.c.values()}forEach(g){this.c.forEach(g)}[Symbol.iterator](){return this.c[Symbol.iterator]()}}e.$tn=f;function c(h){return m(h)}function m(h){return h.contributes&&h.contributes.localizations?h.contributes.localizations.length>0:!1}function d(h){return h.contributes&&h.contributes.authentication?h.contributes.authentication.length>0:!1}function p(h,g){if(g){const O=`onResolveRemoteAuthority:${(0,v.$in)(g)}`;return!!h.activationEvents?.includes(O)}return!1}function I(h){return h.map(g=>{const[O,y]=g.split("@");return{proposalName:O,version:y?parseInt(y):void 0}})}function b(h){return h.map(g=>g.split("@")[0])}e.$An=(0,P.$Fi)("IBuiltinExtensionsScannerService")}),define(ue[20],he([0,1,12,5,22,10]),function(Q,e,S,P,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$up=e.$tp=e.$sp=e.$rp=e.$qp=e.$pp=e.$op=e.$np=e.ExtensionManagementErrorCode=e.$mp=e.ExtensionGalleryErrorCode=e.$lp=e.InstallOperation=e.StatisticType=e.SortOrder=e.SortBy=e.ExtensionInstallSource=e.$ep=e.$dp=e.$cp=e.$bp=e.$ap=e.$_o=e.$$o=void 0,e.$fp=R,e.$gp=w,e.$hp=a,e.$ip=f,e.$jp=c,e.$kp=m,e.$$o="^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$",e.$_o=new RegExp(e.$$o),e.$ap="__web_extension",e.$bp="skipWalkthrough",e.$cp="extensionInstallSource",e.$dp="dependecyOrPackExtensionInstall",e.$ep="clientTargetPlatform";var C;(function(i){i.COMMAND="command",i.SETTINGS_SYNC="settingsSync"})(C||(e.ExtensionInstallSource=C={}));function R(i){switch(i){case v.TargetPlatform.WIN32_X64:return"Windows 64 bit";case v.TargetPlatform.WIN32_ARM64:return"Windows ARM";case v.TargetPlatform.LINUX_X64:return"Linux 64 bit";case v.TargetPlatform.LINUX_ARM64:return"Linux ARM 64";case v.TargetPlatform.LINUX_ARMHF:return"Linux ARM";case v.TargetPlatform.ALPINE_X64:return"Alpine Linux 64 bit";case v.TargetPlatform.ALPINE_ARM64:return"Alpine ARM 64";case v.TargetPlatform.DARWIN_X64:return"Mac";case v.TargetPlatform.DARWIN_ARM64:return"Mac Silicon";case v.TargetPlatform.WEB:return"Web";case v.TargetPlatform.UNIVERSAL:return v.TargetPlatform.UNIVERSAL;case v.TargetPlatform.UNKNOWN:return v.TargetPlatform.UNKNOWN;case v.TargetPlatform.UNDEFINED:return v.TargetPlatform.UNDEFINED}}function w(i){switch(i){case v.TargetPlatform.WIN32_X64:return v.TargetPlatform.WIN32_X64;case v.TargetPlatform.WIN32_ARM64:return v.TargetPlatform.WIN32_ARM64;case v.TargetPlatform.LINUX_X64:return v.TargetPlatform.LINUX_X64;case v.TargetPlatform.LINUX_ARM64:return v.TargetPlatform.LINUX_ARM64;case v.TargetPlatform.LINUX_ARMHF:return v.TargetPlatform.LINUX_ARMHF;case v.TargetPlatform.ALPINE_X64:return v.TargetPlatform.ALPINE_X64;case v.TargetPlatform.ALPINE_ARM64:return v.TargetPlatform.ALPINE_ARM64;case v.TargetPlatform.DARWIN_X64:return v.TargetPlatform.DARWIN_X64;case v.TargetPlatform.DARWIN_ARM64:return v.TargetPlatform.DARWIN_ARM64;case v.TargetPlatform.WEB:return v.TargetPlatform.WEB;case v.TargetPlatform.UNIVERSAL:return v.TargetPlatform.UNIVERSAL;default:return v.TargetPlatform.UNKNOWN}}function a(i,l){switch(i){case S.Platform.Windows:return l==="x64"?v.TargetPlatform.WIN32_X64:l==="arm64"?v.TargetPlatform.WIN32_ARM64:v.TargetPlatform.UNKNOWN;case S.Platform.Linux:return l==="x64"?v.TargetPlatform.LINUX_X64:l==="arm64"?v.TargetPlatform.LINUX_ARM64:l==="arm"?v.TargetPlatform.LINUX_ARMHF:v.TargetPlatform.UNKNOWN;case"alpine":return l==="x64"?v.TargetPlatform.ALPINE_X64:l==="arm64"?v.TargetPlatform.ALPINE_ARM64:v.TargetPlatform.UNKNOWN;case S.Platform.Mac:return l==="x64"?v.TargetPlatform.DARWIN_X64:l==="arm64"?v.TargetPlatform.DARWIN_ARM64:v.TargetPlatform.UNKNOWN;case S.Platform.Web:return v.TargetPlatform.WEB}}function f(i,l){return l===v.TargetPlatform.WEB&&!i.includes(v.TargetPlatform.WEB)}function c(i,l,n){return f(l,n)?!1:i===v.TargetPlatform.UNDEFINED||i===v.TargetPlatform.UNIVERSAL?!0:i===v.TargetPlatform.UNKNOWN?!1:i===n}function m(i){return i&&typeof i=="object"&&typeof i.id=="string"&&(!i.uuid||typeof i.uuid=="string")}var d;(function(i){i[i.NoneOrRelevance=0]="NoneOrRelevance",i[i.LastUpdatedDate=1]="LastUpdatedDate",i[i.Title=2]="Title",i[i.PublisherName=3]="PublisherName",i[i.InstallCount=4]="InstallCount",i[i.PublishedDate=10]="PublishedDate",i[i.AverageRating=6]="AverageRating",i[i.WeightedRating=12]="WeightedRating"})(d||(e.SortBy=d={}));var p;(function(i){i[i.Default=0]="Default",i[i.Ascending=1]="Ascending",i[i.Descending=2]="Descending"})(p||(e.SortOrder=p={}));var I;(function(i){i.Install="install",i.Uninstall="uninstall"})(I||(e.StatisticType=I={}));var b;(function(i){i[i.None=1]="None",i[i.Install=2]="Install",i[i.Update=3]="Update",i[i.Migrate=4]="Migrate"})(b||(e.InstallOperation=b={})),e.$lp=(0,k.$Fi)("extensionGalleryService");var h;(function(i){i.Timeout="Timeout",i.Cancelled="Cancelled",i.Failed="Failed",i.DownloadFailedWriting="DownloadFailedWriting"})(h||(e.ExtensionGalleryErrorCode=h={}));class g extends Error{constructor(l,n){super(l),this.code=n,this.name=n}}e.$mp=g;var O;(function(i){i.Unsupported="Unsupported",i.Deprecated="Deprecated",i.Malicious="Malicious",i.Incompatible="Incompatible",i.IncompatibleApi="IncompatibleApi",i.IncompatibleTargetPlatform="IncompatibleTargetPlatform",i.ReleaseVersionNotFound="ReleaseVersionNotFound",i.Invalid="Invalid",i.Download="Download",i.DownloadSignature="DownloadSignature",i.DownloadFailedWriting="DownloadFailedWriting",i.UpdateMetadata="UpdateMetadata",i.Extract="Extract",i.Scanning="Scanning",i.ScanningExtension="ScanningExtension",i.ReadUninstalled="ReadUninstalled",i.UnsetUninstalled="UnsetUninstalled",i.Delete="Delete",i.Rename="Rename",i.IntializeDefaultProfile="IntializeDefaultProfile",i.AddToProfile="AddToProfile",i.InstalledExtensionNotFound="InstalledExtensionNotFound",i.PostInstall="PostInstall",i.CorruptZip="CorruptZip",i.IncompleteZip="IncompleteZip",i.Signature="Signature",i.NotAllowed="NotAllowed",i.Gallery="Gallery",i.Cancelled="Cancelled",i.Unknown="Unknown",i.Internal="Internal"})(O||(e.ExtensionManagementErrorCode=O={}));class y extends Error{constructor(l,n){super(l),this.code=n,this.name=n}}e.$np=y,e.$op=(0,k.$Fi)("extensionManagementService"),e.$pp="extensionsIdentifiers/disabled",e.$qp="extensionsIdentifiers/enabled",e.$rp=(0,k.$Fi)("IGlobalExtensionEnablementService"),e.$sp=(0,k.$Fi)("IExtensionTipsService"),e.$tp=(0,P.localize2)(11501,"Extensions"),e.$up=(0,P.localize2)(11502,"Preferences")}),define(ue[118],he([0,1,2,22,9]),function(Q,e,S,P,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Wq=void 0;class k extends S.$Uc{constructor(R,w,a,f,c){super(),this.a=R,this.b=w,this.c=a,this.f=c,this.B(f.onDidInstallExtensions(m=>this.g(m))),this.B(f.onDidUninstallExtension(m=>this.h(m)))}g(R){for(const w of R)w.local&&this.invalidate(w.profileLocation)}h(R){R.error||this.invalidate(R.profileLocation)}async invalidate(R){if(R)for(const w of this.a.profiles)this.c.extUri.isEqual(w.extensionsResource,R)&&await this.j(w);else await this.j(this.a.defaultProfile)}async j(R){try{await this.b.del(this.c.extUri.joinPath(R.cacheHome,P.$ln))}catch(w){(0,v.$rl)(w)!==v.FileOperationResult.FILE_NOT_FOUND&&this.f.error(w)}}}e.$Wq=k});var qe=this&&this.__importDefault||function(Q){return Q&&Q.__esModule?Q:{default:Q}};define(ue[44],he([0,1,16,57,5,45,22,97]),function(Q,e,S,P,v,k,C,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Zp=f,e.$1p=c,e.$2p=m,e.$3p=d,e.$4p=p,e.$5p=I,e.$6p=b,e.$7p=h,P=qe(P),v=ye(v),k=ye(k);const w=/^(\^|>=)?((\d+)|x)\.((\d+)|x)\.((\d+)|x)(\-.*)?$/,a=/^-(\d{4})(\d{2})(\d{2})$/;function f(y){return y=y.trim(),y==="*"||w.test(y)}function c(y){if(!f(y))return null;if(y=y.trim(),y==="*")return{hasCaret:!1,hasGreaterEquals:!1,majorBase:0,majorMustEqual:!1,minorBase:0,minorMustEqual:!1,patchBase:0,patchMustEqual:!1,preRelease:null};const i=y.match(w);return i?{hasCaret:i[1]==="^",hasGreaterEquals:i[1]===">=",majorBase:i[2]==="x"?0:parseInt(i[2],10),majorMustEqual:i[2]!=="x",minorBase:i[4]==="x"?0:parseInt(i[4],10),minorMustEqual:i[4]!=="x",patchBase:i[6]==="x"?0:parseInt(i[6],10),patchMustEqual:i[6]!=="x",preRelease:i[8]||null}:null}function m(y){if(!y)return null;const i=y.majorBase,l=y.majorMustEqual,n=y.minorBase;let s=y.minorMustEqual;const t=y.patchBase;let r=y.patchMustEqual;y.hasCaret&&(i===0||(s=!1),r=!1);let o=0;if(y.preRelease){const u=a.exec(y.preRelease);if(u){const[,$,N,L]=u;o=Date.UTC(Number($),Number(N)-1,Number(L))}}return{majorBase:i,majorMustEqual:l,minorBase:n,minorMustEqual:s,patchBase:t,patchMustEqual:r,isMinimum:y.hasGreaterEquals,notBefore:o}}function d(y,i,l){let n;typeof y=="string"?n=m(c(y)):n=y;let s;i instanceof Date?s=i.getTime():typeof i=="string"&&(s=new Date(i).getTime());let t;if(typeof l=="string"?t=m(c(l)):t=l,!n||!t)return!1;const r=n.majorBase,o=n.minorBase,u=n.patchBase;let $=t.majorBase,N=t.minorBase,L=t.patchBase;const A=t.notBefore;let D=t.majorMustEqual,U=t.minorMustEqual,G=t.patchMustEqual;return t.isMinimum?r>$?!0:r<$?!1:o>N?!0:o<N||s&&s<A?!1:u>=L:(r===1&&$===0&&(!D||!U||!G)&&($=1,N=0,L=0,D=!0,U=!1,G=!1),r<$?!1:r>$?!D:o<N?!1:o>N?!U:u<L?!1:u>L?!G:!(s&&s<A))}function p(y,i,l,n,s,t){const r=[];if(typeof n.publisher<"u"&&typeof n.publisher!="string")return r.push([P.default.Error,v.localize(11432,null)]),r;if(typeof n.name!="string")return r.push([P.default.Error,v.localize(11433,null,"name")]),r;if(typeof n.version!="string")return r.push([P.default.Error,v.localize(11434,null,"version")]),r;if(!n.engines)return r.push([P.default.Error,v.localize(11435,null,"engines")]),r;if(typeof n.engines.vscode!="string")return r.push([P.default.Error,v.localize(11436,null,"engines.vscode")]),r;if(typeof n.extensionDependencies<"u"&&!O(n.extensionDependencies))return r.push([P.default.Error,v.localize(11437,null,"extensionDependencies")]),r;if(typeof n.activationEvents<"u"){if(!O(n.activationEvents))return r.push([P.default.Error,v.localize(11438,null,"activationEvents")]),r;if(typeof n.main>"u"&&typeof n.browser>"u")return r.push([P.default.Error,v.localize(11439,null,"activationEvents","main","browser")]),r}if(typeof n.extensionKind<"u"&&typeof n.main>"u"&&r.push([P.default.Warning,v.localize(11440,null,"extensionKind")]),typeof n.main<"u"){if(typeof n.main!="string")return r.push([P.default.Error,v.localize(11441,null,"main")]),r;{const $=(0,S.$gh)(l,n.main);(0,S.$ah)($,l)||r.push([P.default.Warning,v.localize(11442,null,$.path,l.path)])}}if(typeof n.browser<"u"){if(typeof n.browser!="string")return r.push([P.default.Error,v.localize(11443,null,"browser")]),r;{const $=(0,S.$gh)(l,n.browser);(0,S.$ah)($,l)||r.push([P.default.Warning,v.localize(11444,null,$.path,l.path)])}}if(!k.valid(n.version))return r.push([P.default.Error,v.localize(11445,null)]),r;const o=[];if(!I(y,i,n,s,o))for(const $ of o)r.push([P.default.Error,$]);if(t&&n.enabledApiProposals?.length){const $=[];if(!h([...n.enabledApiProposals],$))for(const N of $)r.push([P.default.Error,N])}return r}function I(y,i,l,n,s){return n||typeof l.main>"u"&&typeof l.browser>"u"?!0:g(y,i,l.engines.vscode,s)}function b(y,i,l){return y==="*"||g(i,l,y)}function h(y,i){if(y.length===0)return!0;const l=Array.isArray(i)?i:void 0,n=(l?void 0:i)??R.allApiProposals,s=[],t=(0,C.$yn)(y);for(const{proposalName:r,version:o}of t){const u=n[r];u&&o&&u.version!==o&&s.push(v.localize(11446,null,r))}return l?.push(...s),s.length===0}function g(y,i,l,n=[]){const s=m(c(l));if(!s)return n.push(v.localize(11447,null,l)),!1;if(s.majorBase===0){if(!s.majorMustEqual||!s.minorMustEqual)return n.push(v.localize(11448,null,l)),!1}else if(!s.majorMustEqual)return n.push(v.localize(11449,null,l)),!1;return d(y,i,s)?!0:(n.push(v.localize(11450,null,y,l)),!1)}function O(y){if(!Array.isArray(y))return!1;for(let i=0,l=y.length;i<l;i++)if(typeof y[i]!="string")return!1;return!0}}),define(ue[68],he([0,1,21,2,12,5,20,10]),function(Q,e,S,P,v,k,C,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$as=e.$_r=void 0,e.$$r=w;function w(f){return f.tags.find(c=>c.startsWith("lp-"))?.split("lp-")[1]}e.$_r=(0,R.$Fi)("languagePackService");let a=class extends P.$Uc{constructor(c){super(),this.c=c}async getAvailableLanguages(){const c=new S.$we;setTimeout(()=>c.cancel(),1e3);let m;try{m=await this.c.query({text:'category:"language packs"',pageSize:20},c.token)}catch{return[]}const p=m.firstPage.filter(I=>I.properties.localizedLanguages?.length&&I.tags.some(b=>b.startsWith("lp-"))).map(I=>{const b=I.properties.localizedLanguages?.[0],h=w(I);return{...this.f(h,b,I),extensionId:I.identifier.id,galleryExtension:I}});return p.push(this.f("en","English")),p}f(c,m,d){const p=m??c;let I;if(p!==c&&(I=`(${c})`),c.toLowerCase()===v.$x.toLowerCase()&&(I??="",I+=(0,k.localize)(11354,null)),d?.installCount){I??="";const b=d.installCount;let h;b>1e6?h=`${Math.floor(b/1e5)/10}M`:b>1e3?h=`${Math.floor(b/1e3)}K`:h=String(b),I+=` $(cloud-download) ${h}`}return{id:c,label:p,description:I}}};e.$as=a,e.$as=a=be([re(0,C.$lp)],a)}),define(ue[46],he([0,1,13,7,2,5,40,10,6,37]),function(Q,e,S,P,v,k,C,R,w,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$9p=e.$8p=void 0,e.$0p=m,e.$$p=d,e.$_p=p,e.$aq=I,e.$bq=b,e.$cq=h,e.$8p=(0,R.$Fi)("requestService");class f{constructor(i){this.b=i}toJSON(){if(!this.a){const i=Object.create(null);for(const l in this.b)l.toLowerCase()==="authorization"||l.toLowerCase()==="proxy-authorization"?i[l]="*****":i[l]=this.b[l];this.a=i}return this.a}}class c extends v.$Uc{constructor(i){super(),this.b=0,this.a=i.createLogger("network",{name:(0,k.localize)(11219,null),when:w.$sk.isEqualTo((0,w.$pk)(w.LogLevel.Trace)).serialize()})}async c(i,l,n){const s=`${i} #${++this.b}: ${l.url}`;this.a.trace(`${s} - begin`,l.type,new f(l.headers??{}));try{const t=await n();return this.a.trace(`${s} - end`,l.type,t.res.statusCode,t.res.headers),t}catch(t){throw this.a.error(`${s} - error`,l.type,(0,P.$9)(t)),t}}}e.$9p=c;function m(y){return y.res.statusCode&&y.res.statusCode>=200&&y.res.statusCode<300||y.res.statusCode===1223}function d(y){return y.res.statusCode===204}async function p(y){return d(y)?null:(await(0,S.$Ze)(y.stream)).toString()}async function I(y){if(!m(y))throw new Error("Server returned "+y.res.statusCode);return p(y)}async function b(y){if(!m(y))throw new Error("Server returned "+y.res.statusCode);if(d(y))return null;const l=(await(0,S.$Ze)(y.stream)).toString();try{return JSON.parse(l)}catch(n){throw n.message+=`:
`+l,n}}function h(y){O(y)}let g;function O(y){const i=a.$ro.as(C.$wo.Configuration),l=g;g={id:"http",order:15,title:(0,k.localize)(11220,null),type:"object",scope:y,properties:{"http.proxy":{type:"string",pattern:"^(https?|socks|socks4a?|socks5h?)://([^:]*(:[^@]*)?@)?([^:]+|\\[[:0-9a-fA-F]+\\])(:\\d+)?/?$|^$",markdownDescription:(0,k.localize)(11221,null),restricted:!0},"http.proxyStrictSSL":{type:"boolean",default:!0,description:(0,k.localize)(11222,null),restricted:!0},"http.proxyKerberosServicePrincipal":{type:"string",markdownDescription:(0,k.localize)(11223,null),restricted:!0},"http.noProxy":{type:"array",items:{type:"string"},markdownDescription:(0,k.localize)(11224,null),restricted:!0},"http.proxyAuthorization":{type:["null","string"],default:null,markdownDescription:(0,k.localize)(11225,null),restricted:!0},"http.proxySupport":{type:"string",enum:["off","on","fallback","override"],enumDescriptions:[(0,k.localize)(11226,null),(0,k.localize)(11227,null),(0,k.localize)(11228,null),(0,k.localize)(11229,null)],default:"override",description:(0,k.localize)(11230,null),restricted:!0},"http.systemCertificates":{type:"boolean",default:!0,description:(0,k.localize)(11231,null),restricted:!0},"http.experimental.systemCertificatesV2":{type:"boolean",tags:["experimental"],default:!1,description:(0,k.localize)(11232,null),restricted:!0}}},i.updateConfigurations({add:[g],remove:l?[l]:[]})}O(C.ConfigurationScope.APPLICATION)}),define(ue[119],he([0,1,21,14,9,46]),function(Q,e,S,P,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ZR=void 0;let C=class{constructor(w,a){this.a=w,this.b=a}async download(w,a,f=S.CancellationToken.None){if(w.scheme===P.Schemas.file||w.scheme===P.Schemas.vscodeRemote){await this.b.copy(w,a);return}const c={type:"GET",url:w.toString(!0)},m=await this.a.request(c,f);if(m.res.statusCode===200)await this.b.writeFile(a,m.stream);else{const d=await(0,k.$aq)(m);throw new Error(`Expected 200, got back ${m.res.statusCode} instead.

${d}`)}}};e.$ZR=C,e.$ZR=C=be([re(0,k.$8p),re(1,v.$al)],C)}),define(ue[120],he([0,1,121,3]),function(Q,e,S,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$es=k;function v(C,R){return C.protocol==="http:"?R.HTTP_PROXY||R.http_proxy||null:C.protocol==="https:"&&(R.HTTPS_PROXY||R.https_proxy||R.HTTP_PROXY||R.http_proxy)||null}async function k(C,R,w={}){const a=(0,S.parse)(C),f=w.proxyUrl||v(a,R);if(!f)return null;const c=(0,S.parse)(f);if(!/^https?:$/.test(c.protocol||""))return null;const m={host:c.hostname||"",port:(c.port?+c.port:0)||(c.protocol==="https"?443:80),auth:c.auth,rejectUnauthorized:(0,P.$kg)(w.strictSSL)?w.strictSSL:!0};if(a.protocol==="http:"){const d=await new Promise((p,I)=>{Q(["http-proxy-agent"],p,I)}).then(ye);return new d.HttpProxyAgent(f,m)}else{const d=await new Promise((p,I)=>{Q(["https-proxy-agent"],p,I)}).then(ye);return new d.HttpsProxyAgent(f,m)}}}),define(ue[122],he([0,1,60,15,5,21,38,7,12,28,86,152,8,79]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Rm=I;let p;async function I(h,g,O,y){return O["force-disable-user-env"]?(g.trace("resolveShellEnv(): skipped (--force-disable-user-env)"),{}):w.$j?(g.trace("resolveShellEnv(): skipped (Windows)"),{}):(0,c.$Km)(y)&&!O["force-user-env"]?(g.trace("resolveShellEnv(): skipped (VSCODE_CLI is set)"),{}):((0,c.$Km)(y)?g.trace("resolveShellEnv(): running (--force-user-env)"):g.trace("resolveShellEnv(): running (macOS/Linux)"),p||(p=m.Promises.withAsyncBody(async(i,l)=>{const n=new k.$we;let s=1e4;const t=h.getValue("application.shellEnvironmentResolutionTimeout");typeof t=="number"&&(s=(0,d.$Lm)(t,1,120)*1e3);const r=setTimeout(()=>{n.dispose(!0),l(new Error((0,v.localize)(11216,null)))},s);try{i(await b(g,n.token))}catch(o){!(0,R.$3)(o)&&!n.token.isCancellationRequested?l(new Error((0,v.localize)(11217,null,(0,C.$qj)(o)))):i({})}finally{clearTimeout(r),n.dispose()}})),p)}async function b(h,g){const O=process.env.ELECTRON_RUN_AS_NODE;h.trace("getUnixShellEnvironment#runAsNode",O);const y=process.env.ELECTRON_NO_ATTACH_CONSOLE;h.trace("getUnixShellEnvironment#noAttach",y);const i=(0,a.$2g)().replace(/-/g,"").substr(0,12),l=new RegExp(i+"({.*})"+i),n={...process.env,ELECTRON_RUN_AS_NODE:"1",ELECTRON_NO_ATTACH_CONSOLE:"1",VSCODE_RESOLVING_ENVIRONMENT:"1"};h.trace("getUnixShellEnvironment#env",n);const s=await(0,f.$Am)(w.OS,n);return h.trace("getUnixShellEnvironment#shell",s),new Promise((t,r)=>{if(g.isCancellationRequested)return r(new R.$4);const o=(0,P.$nc)(s);let u,$;const N="";/^pwsh(-preview)?$/.test(o)?(u=`& '${process.execPath}' ${N} -p '''${i}'' + JSON.stringify(process.env) + ''${i}'''`,$=["-Login","-Command"]):o==="nu"?(u=`^'${process.execPath}' ${N} -p '"${i}" + JSON.stringify(process.env) + "${i}"'`,$=["-i","-l","-c"]):o==="xonsh"?(u=`import os, json; print("${i}", json.dumps(dict(os.environ)), "${i}")`,$=["-i","-l","-c"]):(u=`'${process.execPath}' ${N} -p '"${i}" + JSON.stringify(process.env) + "${i}"'`,o==="tcsh"||o==="csh"?$=["-ic"]:$=["-i","-l","-c"]),h.trace("getUnixShellEnvironment#spawn",JSON.stringify($),u);const L=(0,S.spawn)(s,[...$,u],{detached:!0,stdio:["ignore","pipe","pipe"],env:n});g.onCancellationRequested(()=>(L.kill(),r(new R.$4))),L.on("error",U=>{h.error("getUnixShellEnvironment#errorChildProcess",(0,C.$qj)(U)),r(U)});const A=[];L.stdout.on("data",U=>A.push(U));const D=[];L.stderr.on("data",U=>D.push(U)),L.on("close",(U,G)=>{const Z=Buffer.concat(A).toString("utf8");h.trace("getUnixShellEnvironment#raw",Z);const te=Buffer.concat(D).toString("utf8");if(te.trim()&&h.trace("getUnixShellEnvironment#stderr",te),U||G)return r(new Error((0,v.localize)(11218,null,U,G)));const ae=l.exec(Z),le=ae?ae[1]:"{}";try{const de=JSON.parse(le);O?de.ELECTRON_RUN_AS_NODE=O:delete de.ELECTRON_RUN_AS_NODE,y?de.ELECTRON_NO_ATTACH_CONSOLE=y:delete de.ELECTRON_NO_ATTACH_CONSOLE,delete de.VSCODE_RESOLVING_ENVIRONMENT,delete de.XDG_RUNTIME_DIR,h.trace("getUnixShellEnvironment#result",de),t(de)}catch(de){h.error("getUnixShellEnvironment#errorCaught",(0,C.$qj)(de)),r(de)}})})}}),define(ue[123],he([0,1,10]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$CR=e.$BR=void 0,e.$BR=(0,S.$Fi)("stateReadService"),e.$CR=(0,S.$Fi)("stateService")}),define(ue[69],he([0,1,8,13,2,3,17,9,6]),function(Q,e,S,P,v,k,C,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$FR=e.$ER=e.$DR=e.SaveStrategy=void 0;var a;(function(d){d[d.IMMEDIATE=0]="IMMEDIATE",d[d.DELAYED=1]="DELAYED"})(a||(e.SaveStrategy=a={}));class f extends v.$Uc{constructor(p,I,b,h){super(),this.h=p,this.j=I,this.m=b,this.n=h,this.a=Object.create(null),this.b="",this.c=this.B(new S.$Dh(this.j===a.IMMEDIATE?0:100)),this.f=void 0,this.g=void 0}init(){return this.f||(this.f=this.r()),this.f}async r(){try{this.b=(await this.n.readFile(this.h)).value.toString(),this.a=JSON.parse(this.b)}catch(p){p.fileOperationResult!==R.FileOperationResult.FILE_NOT_FOUND&&this.m.error(p)}}getItem(p,I){const b=this.a[p];return(0,k.$ng)(b)?I:b}setItem(p,I){this.setItems([{key:p,data:I}])}setItems(p){let I=!1;for(const{key:b,data:h}of p)this.a[b]!==h&&((0,k.$ng)(h)?(0,k.$lg)(this.a[b])||(this.a[b]=void 0,I=!0):(this.a[b]=h,I=!0));I&&this.s()}removeItem(p){(0,k.$lg)(this.a[p])||(this.a[p]=void 0,this.s())}async s(){if(!this.g)return this.c.trigger(()=>this.t())}async t(){if(!this.f)return;await this.f;const p=JSON.stringify(this.a,null,4);if(p!==this.b)try{await this.n.writeFile(this.h,P.$Ne.fromString(p),{atomic:{postfix:".vsctmp"}}),this.b=p}catch(I){this.m.error(I)}}async close(){return this.g||(this.g=this.c.trigger(()=>this.t(),0)),this.g}}e.$DR=f;let c=class extends v.$Uc{constructor(p,I,b,h){super(),this.a=this.B(new f(I.stateResource,p,b,h))}async init(){await this.a.init()}getItem(p,I){return this.a.getItem(p,I)}};e.$ER=c,e.$ER=c=be([re(1,C.$Mi),re(2,w.$ak),re(3,R.$al)],c);class m extends c{setItem(p,I){this.a.setItem(p,I)}setItems(p){this.a.setItems(p)}removeItem(p){this.a.removeItem(p)}close(){return this.a.close()}}e.$FR=m}),define(ue[70],he([0,1,12,36,28]),function(Q,e,S,P,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$vp=C,e.$wp=R;function k(w){if(S.$v===S.Platform.Linux&&/^penguin(\.|$)/i.test(w))return"chromebook"}function C(w,a,f,c,m,d,p,I,b,h){const g=Object.create(null);g["common.machineId"]=d,g["common.sqmId"]=p,g["common.devDeviceId"]=I,g.sessionID=(0,v.$2g)()+Date.now(),g.commitHash=c,g.version=m,g["common.platformVersion"]=(w||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),g["common.platform"]=(0,S.$i)(S.$v),g["common.nodePlatform"]=P.$dc,g["common.nodeArch"]=f,g["common.product"]=h||"desktop",b&&(g["common.msftInternal"]=b);let O=0;const y=Date.now();Object.defineProperties(g,{timestamp:{get:()=>new Date,enumerable:!0},"common.timesincesessionstart":{get:()=>Date.now()-y,enumerable:!0},"common.sequence":{get:()=>O++,enumerable:!0}}),S.$m&&(g["common.snap"]="true");const i=k(a);return i&&(g["common.platformDetail"]=i),g}function R(w){const a=P.env.USERDNSDOMAIN;if(!a)return!1;const f=a.toLowerCase();return w.some(c=>f===c)}}),define(ue[18],he([0,1,10]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryConfiguration=e.TelemetryLevel=e.$km=e.$jm=e.$im=e.$hm=e.$gm=e.$fm=e.$em=e.$dm=e.$cm=e.$bm=e.$am=e.$_l=void 0,e.$_l=(0,S.$Fi)("telemetryService"),e.$am=(0,S.$Fi)("customEndpointTelemetryService"),e.$bm="telemetry.currentSessionDate",e.$cm="telemetry.firstSessionDate",e.$dm="telemetry.lastSessionDate",e.$em="telemetry.machineId",e.$fm="telemetry.sqmId",e.$gm="telemetry.devDeviceId",e.$hm="telemetry",e.$im="telemetry.telemetryLevel",e.$jm="telemetry.enableCrashReporter",e.$km="telemetry.enableTelemetry";var P;(function(k){k[k.NONE=0]="NONE",k[k.CRASH=1]="CRASH",k[k.ERROR=2]="ERROR",k[k.USAGE=3]="USAGE"})(P||(e.TelemetryLevel=P={}));var v;(function(k){k.OFF="off",k.CRASH="crash",k.ERROR="error",k.ON="all"})(v||(e.TelemetryConfiguration=v={}))}),define(ue[71],he([0,1,7,10,6,18]),function(Q,e,S,P,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$vq=e.$uq=e.ExtensionSignatureVerificationCode=e.$tq=void 0,e.$tq=(0,P.$Fi)("IExtensionSignatureVerificationService");var C;(function(a){a.Success="Success",a.RequiredArgumentMissing="RequiredArgumentMissing",a.InvalidArgument="InvalidArgument",a.PackageIsUnreadable="PackageIsUnreadable",a.UnhandledException="UnhandledException",a.SignatureManifestIsMissing="SignatureManifestIsMissing",a.SignatureManifestIsUnreadable="SignatureManifestIsUnreadable",a.SignatureIsMissing="SignatureIsMissing",a.SignatureIsUnreadable="SignatureIsUnreadable",a.CertificateIsUnreadable="CertificateIsUnreadable",a.SignatureArchiveIsUnreadable="SignatureArchiveIsUnreadable",a.FileAlreadyExists="FileAlreadyExists",a.SignatureArchiveIsInvalidZip="SignatureArchiveIsInvalidZip",a.SignatureArchiveHasSameSignatureFile="SignatureArchiveHasSameSignatureFile",a.PackageIntegrityCheckFailed="PackageIntegrityCheckFailed",a.SignatureIsInvalid="SignatureIsInvalid",a.SignatureManifestIsInvalid="SignatureManifestIsInvalid",a.SignatureIntegrityCheckFailed="SignatureIntegrityCheckFailed",a.EntryIsMissing="EntryIsMissing",a.EntryIsTampered="EntryIsTampered",a.Untrusted="Untrusted",a.CertificateRevoked="CertificateRevoked",a.SignatureIsNotValid="SignatureIsNotValid",a.UnknownError="UnknownError",a.PackageIsInvalidZip="PackageIsInvalidZip",a.SignatureArchiveHasTooManyEntries="SignatureArchiveHasTooManyEntries"})(C||(e.ExtensionSignatureVerificationCode=C={}));class R extends Error{constructor(f){super(f),this.code=f}}e.$uq=R;let w=class{constructor(f,c){this.b=f,this.c=c}d(){return this.a||(this.a=new Promise((f,c)=>Q(["@vscode/vsce-sign"],async m=>f(m),c))),this.a}async verify(f,c,m,d){let p;const I=f.identifier.id;try{p=await this.d()}catch(O){return this.b.error("Could not load vsce-sign module",(0,S.$9)(O)),this.b.info(`Extension signature verification is not done: ${I}`),!1}const b=new Date().getTime();let h;try{this.b.trace(`Verifying extension signature for ${I}...`),h=await p.verify(c,m,this.b.getLevel()===v.LogLevel.Trace)}catch(O){h={code:C.UnknownError,didExecute:!1,output:(0,S.$9)(O)}}const g=new Date().getTime()-b;if(this.b.info(`Extension signature verification result for ${I}: ${h.code}. Executed: ${h.didExecute}. Duration: ${g}ms.`),this.b.trace(`Extension signature verification output for ${I}:
${h.output}`),this.c.publicLog2("extensionsignature:verification",{extensionId:I,extensionVersion:f.version,code:h.code,internalCode:h.internalCode,duration:g,didExecute:h.didExecute,clientTargetPlatform:d}),h.code===C.Success)return!0;throw new R(h.code)}};e.$vq=w,e.$vq=w=be([re(0,v.$ak),re(1,k.$_l)],w)}),define(ue[41],he([0,1,27,3,67,70,18]),function(Q,e,S,P,v,k,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Dp=e.$Cp=e.$Bp=e.$Ap=e.$zp=e.$yp=e.$xp=void 0,e.$Ep=f,e.$Fp=c,e.$Gp=m,e.$Hp=d,e.$Ip=I,e.$Jp=h,e.$Kp=g,e.$Lp=i;class R{constructor(n){this.value=n,this.isTrustedTelemetryValue=!0}}e.$xp=R;class w{constructor(){this.telemetryLevel=C.TelemetryLevel.NONE,this.sessionId="someValue.sessionId",this.machineId="someValue.machineId",this.sqmId="someValue.sqmId",this.devDeviceId="someValue.devDeviceId",this.firstSessionDate="someValue.firstSessionDate",this.sendErrorTelemetry=!1}publicLog(){}publicLog2(){}publicLogError(){}publicLogError2(){}setExperimentProperty(){}}e.$yp=w,e.$zp=new w;class a{async publicLog(n,s,t){}async publicLogError(n,s,t){}}e.$Ap=a,e.$Bp="telemetry",e.$Cp="extensionTelemetryLog",e.$Dp={log:()=>null,flush:()=>Promise.resolve(null)};function f(l,n){return!n.isBuilt&&!n.disableTelemetry?!0:!(n.disableTelemetry||!l.enableTelemetry)}function c(l,n){return n.extensionTestsLocationURI?!0:!(n.isBuilt||n.disableTelemetry||l.enableTelemetry&&l.aiConfig?.ariaKey)}function m(l){const n=l.getValue(C.$im),s=l.getValue(C.$jm);if(l.getValue(C.$km)===!1||s===!1)return C.TelemetryLevel.NONE;switch(n??C.TelemetryConfiguration.ON){case C.TelemetryConfiguration.ON:return C.TelemetryLevel.USAGE;case C.TelemetryConfiguration.ERROR:return C.TelemetryLevel.ERROR;case C.TelemetryConfiguration.CRASH:return C.TelemetryLevel.CRASH;case C.TelemetryConfiguration.OFF:return C.TelemetryLevel.NONE}}function d(l){const n={},s={},t={};b(l,t);for(let r in t){r=r.length>150?r.substr(r.length-149):r;const o=t[r];typeof o=="number"?s[r]=o:typeof o=="boolean"?s[r]=o?1:0:typeof o=="string"?(o.length>8192&&console.warn(`Telemetry property: ${r} has been trimmed to 8192, the original length is ${o.length}`),n[r]=o.substring(0,8191)):typeof o<"u"&&o!==null&&(n[r]=o)}return{properties:n,measurements:s}}const p=new Set(["ssh-remote","dev-container","attached-container","wsl","tunnel","codespaces","amlext"]);function I(l){if(!l)return"none";const n=(0,v.$in)(l);return p.has(n)?n:"other"}function b(l,n,s=0,t){if(l)for(const r of Object.getOwnPropertyNames(l)){const o=l[r],u=t?t+r:r;Array.isArray(o)?n[u]=(0,S.$jo)(o):o instanceof Date?n[u]=o.toISOString():(0,P.$gg)(o)?s<2?b(o,n,s+1,u+"."):n[u]=(0,S.$jo)(o):n[u]=o}}function h(l,n){const s=l.msftInternalDomains||[],t=n.getValue("telemetry.internalTesting");return(0,k.$wp)(s)||t}function g(l){return[l.appRoot,l.extensionsPath,l.userHome.fsPath,l.tmpDir.fsPath,l.userDataPath]}function O(l,n){if(!l||!l.includes("/")&&!l.includes("\\"))return l;let s=l;const t=[];for(const $ of n)for(;;){const N=$.exec(l);if(!N)break;t.push([N.index,$.lastIndex])}const r=/^[\\\/]?(node_modules|node_modules\.asar)[\\\/]/,o=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-\._]+(\\\\|\\|\/))+[\w-\._]*/g;let u=0;for(s="";;){const $=o.exec(l);if(!$)break;const N=t.some(([L,A])=>$.index<A&&L<o.lastIndex);!r.test($[0])&&!N&&(s+=l.substring(u,$.index)+"<REDACTED: user-file-path>",u=o.lastIndex)}return u<l.length&&(s+=l.substr(u)),s}function y(l){if(!l)return l;const n=[{label:"Google API Key",regex:/AIza[A-Za-z0-9_\\\-]{35}/},{label:"Slack Token",regex:/xox[pbar]\-[A-Za-z0-9]/},{label:"GitHub Token",regex:/(gh[psuro]_[a-zA-Z0-9]{36}|github_pat_[a-zA-Z0-9]{22}_[a-zA-Z0-9]{59})/},{label:"Generic Secret",regex:/(key|token|sig|secret|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/i},{label:"CLI Credentials",regex:/((login|psexec|(certutil|psexec)\.exe).{1,50}(\s-u(ser(name)?)?\s+.{3,100})?\s-(admin|user|vm|root)?p(ass(word)?)?\s+["']?[^$\-\/\s]|(^|[\s\r\n\\])net(\.exe)?.{1,5}(user\s+|share\s+\/user:| user -? secrets ? set) \s + [^ $\s \/])/},{label:"Email",regex:/@[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+/}];for(const s of n)if(s.regex.test(l))return`<REDACTED: ${s.label}>`;return l}function i(l,n){return(0,S.$go)(l,s=>{if(s instanceof R||Object.hasOwnProperty.call(s,"isTrustedTelemetryValue"))return s.value;if(typeof s=="string"){let t=s.replaceAll("%20"," ");t=O(t,n);for(const r of n)t=t.replace(r,"");return t=y(t),t}})}}),define(ue[26],he([0,1,31,20,22,12,11,7,36,41]),function(Q,e,S,P,v,k,C,R,w,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Vp=e.$Np=void 0,e.$Mp=f,e.$Op=p,e.$Pp=I,e.$Qp=b,e.$Rp=h,e.$Sp=g,e.$Tp=O,e.$Up=y,e.$Wp=i,e.$Xp=n;function f(s,t){return s.uuid&&t.uuid?s.uuid===t.uuid:s.id===t.id?!0:(0,S.$Af)(s.id,t.id)===0}const c=/^([^.]+\..+)-(\d+\.\d+\.\d+)(-(.+))?$/;class m{static create(t){const r=t.manifest?t.manifest.version:t.version,o=t.manifest?t.targetPlatform:t.properties.targetPlatform;return new m(t.identifier,r,o)}static parse(t){const r=c.exec(t);return r&&r[1]&&r[2]?new m({id:r[1]},r[2],r[4]||void 0):null}constructor(t,r,o=v.TargetPlatform.UNDEFINED){this.identifier=t,this.version=r,this.targetPlatform=o,this.id=t.id}toString(){return`${this.id}-${this.version}${this.targetPlatform!==v.TargetPlatform.UNDEFINED?`-${this.targetPlatform}`:""}`}equals(t){return t instanceof m?f(this,t)&&this.version===t.version&&this.targetPlatform===t.targetPlatform:!1}}e.$Np=m;const d=/^([^.]+\..+)@((prerelease)|(\d+\.\d+\.\d+(-.*)?))$/;function p(s){const t=d.exec(s);return t&&t[1]?[b(t[1]),t[2]]:[b(s),void 0]}function I(s,t){return`${s}.${t}`}function b(s){return s.toLowerCase()}function h(s,t){return b(I(s??v.$nn,t))}function g(s,t){const r=[],o=u=>{for(const $ of r)if($.some(N=>f(t(N),t(u))))return $;return null};for(const u of s){const $=o(u);$?$.push(u):r.push([u])}return r}function O(s){return{id:s.identifier.id,name:s.manifest.name,galleryId:null,publisherId:s.publisherId,publisherName:s.manifest.publisher,publisherDisplayName:s.publisherDisplayName,dependencies:s.manifest.extensionDependencies&&s.manifest.extensionDependencies.length>0}}function y(s){return{id:new a.$xp(s.identifier.id),name:new a.$xp(s.name),version:s.version,galleryId:s.identifier.uuid,publisherId:s.publisherId,publisherName:s.publisher,publisherDisplayName:s.publisherDisplayName,isPreReleaseVersion:s.properties.isPreReleaseVersion,dependencies:!!(s.properties.dependencies&&s.properties.dependencies.length>0),isSigned:s.isSigned,...s.telemetryData}}e.$Vp=new v.$rn("pprice.better-merge");function i(s,t){const r=[],o=t.manifest.extensionDependencies?.slice(0)??[];for(;o.length;){const u=o.shift();if(u&&r.every($=>!f($.identifier,{id:u}))){const $=s.filter(N=>f(N.identifier,{id:u}));$.length===1&&(r.push($[0]),o.push(...$[0].manifest.extensionDependencies?.slice(0)??[]))}}return r}async function l(s,t){if(!k.$l)return!1;let r;try{r=(await s.readFile(C.URI.file("/etc/os-release"))).value.toString()}catch{try{r=(await s.readFile(C.URI.file("/usr/lib/os-release"))).value.toString()}catch(u){t.debug("Error while getting the os-release file.",(0,R.$9)(u))}}return!!r&&(r.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]==="alpine"}async function n(s,t){const r=await l(s,t),o=(0,P.$hp)(r?"alpine":k.$v,w.$ec);return t.debug("ComputeTargetPlatform:",o),o}}),define(ue[124],he([0,1,21,7,14,16,45,11,5,20,26,22]),function(Q,e,S,P,v,k,C,R,w,a,f,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$wq=void 0;const m=I=>(0,w.localize)(11469,null,I),d=(0,w.localize)(11470,null,"ms-dotnettools.csharp");let p=class{constructor(b,h,g){this.a=b,this.b=h,this.d=g}get f(){}async listExtensions(b,h,g){let O=await this.b.getInstalled(c.ExtensionType.User,g);const y=c.$qn.map(l=>l.toLowerCase());if(h&&h!==""){if(y.indexOf(h.toLowerCase())<0){this.a.info("Invalid category please enter a valid category. To list valid categories run --category without a category specified");return}O=O.filter(l=>l.manifest.categories?l.manifest.categories.map(s=>s.toLowerCase()).indexOf(h.toLowerCase())>-1:!1)}else if(h===""){this.a.info("Possible Categories: "),y.forEach(l=>{this.a.info(l)});return}this.f&&this.a.info((0,w.localize)(11471,null,this.f)),O=O.sort((l,n)=>l.identifier.id.localeCompare(n.identifier.id));let i;for(const l of O)i!==l.identifier.id&&(i=l.identifier.id,this.a.info(b?`${i}@${l.manifest.version}`:i))}async installExtensions(b,h,g,O){const y=[];try{b.length&&this.a.info(this.f?(0,w.localize)(11472,null,this.f):(0,w.localize)(11473,null));const i=[],l=[],n=(t,r,o)=>{l.push({id:t,version:r!=="prerelease"?r:void 0,installOptions:{...g,isBuiltin:o,installPreReleaseVersion:r==="prerelease"||g.installPreReleaseVersion}})};for(const t of b)if(t instanceof R.URI)i.push({vsix:t,installOptions:g});else{const[r,o]=(0,f.$Op)(t);n(r,o,!1)}for(const t of h)if(t instanceof R.URI)i.push({vsix:t,installOptions:{...g,isBuiltin:!0,donotIncludePackAndDependencies:!0}});else{const[r,o]=(0,f.$Op)(t);n(r,o,!0)}const s=await this.b.getInstalled(void 0,g.profileLocation);if(i.length&&await Promise.all(i.map(async({vsix:t,installOptions:r})=>{try{await this.h(t,r,O,s)}catch(o){this.a.error(o),y.push(t.toString())}})),l.length){const t=await this.g(l,s,O);y.push(...t)}}catch(i){throw this.a.error((0,w.localize)(11474,null,(0,P.$9)(i))),i}if(y.length)throw new Error((0,w.localize)(11475,null,y.join(", ")))}async updateExtensions(b){const h=await this.b.getInstalled(c.ExtensionType.User,b),g=[];for(const l of h)l.identifier.uuid&&g.push({...l.identifier,preRelease:l.preRelease});this.a.trace((0,w.localize)(11476,null,g.length));const O=await this.d.getExtensions(g,{compatible:!0},S.CancellationToken.None),y=[];for(const l of O)for(const n of h)(0,f.$Mp)(n.identifier,l.identifier)&&(0,C.gt)(l.version,n.manifest.version)&&y.push({extension:l,options:{operation:a.InstallOperation.Update,installPreReleaseVersion:n.preRelease,profileLocation:b,isApplicationScoped:n.isApplicationScoped}});if(!y.length){this.a.info((0,w.localize)(11477,null));return}this.a.info((0,w.localize)(11478,null,y.map(l=>l.extension.identifier.id).join(", ")));const i=await this.b.installGalleryExtensions(y);for(const l of i)l.error?this.a.error((0,w.localize)(11479,null,l.identifier.id,(0,P.$9)(l.error))):this.a.info((0,w.localize)(11480,null,l.identifier.id,l.local?.manifest.version))}async g(b,h,g){if(b=b.filter(({id:l,version:n})=>{const s=h.find(t=>(0,f.$Mp)(t.identifier,{id:l}));if(s){if(!g&&(!n||n==="prerelease"&&s.preRelease))return this.a.info((0,w.localize)(11481,null,l,s.manifest.version,l)),!1;if(n&&s.manifest.version===n)return this.a.info((0,w.localize)(11482,null,`${l}@${n}`)),!1}return!0}),!b.length)return[];const O=[],y=[],i=await this.j(b);if(await Promise.all(b.map(async({id:l,version:n,installOptions:s})=>{const t=i.get(l.toLowerCase());if(!t){this.a.error(`${m(n?`${l}@${n}`:l)}
${d}`),O.push(l);return}try{const o=await this.d.getManifest(t,S.CancellationToken.None);if(o&&!this.k(o))return}catch(o){this.a.error(o.message||o.stack||o),O.push(l);return}const r=h.find(o=>(0,f.$Mp)(o.identifier,t.identifier));if(r){if(t.version===r.manifest.version){this.a.info((0,w.localize)(11483,null,n?`${l}@${n}`:l));return}this.a.info((0,w.localize)(11484,null,l,t.version))}s.isBuiltin?this.a.info(n?(0,w.localize)(11485,null,l,n):(0,w.localize)(11486,null,l)):this.a.info(n?(0,w.localize)(11487,null,l,n):(0,w.localize)(11488,null,l)),y.push({extension:t,options:{...s,installGivenVersion:!!n,isApplicationScoped:s.isApplicationScoped||r?.isApplicationScoped}})})),y.length){const l=await this.b.installGalleryExtensions(y);for(const n of l)n.error?(this.a.error((0,w.localize)(11489,null,n.identifier.id,(0,P.$9)(n.error))),O.push(n.identifier.id)):this.a.info((0,w.localize)(11490,null,n.identifier.id,n.local?.manifest.version))}return O}async h(b,h,g,O){const y=await this.b.getManifest(b);if(!y)throw new Error("Invalid vsix");if(await this.l(y,g,h.profileLocation,O))try{await this.b.install(b,{...h,installGivenVersion:!0}),this.a.info((0,w.localize)(11491,null,(0,k.$dh)(b)))}catch(l){if((0,P.$3)(l))this.a.info((0,w.localize)(11492,null,(0,k.$dh)(b)));else throw l}}async j(b){const h=new Map,g=b.some(i=>i.installOptions.installPreReleaseVersion),O=await this.b.getTargetPlatform(),y=[];for(const i of b)a.$_o.test(i.id)&&y.push({...i,preRelease:g});if(y.length){const i=await this.d.getExtensions(y,{targetPlatform:O},S.CancellationToken.None);for(const l of i)h.set(l.identifier.id.toLowerCase(),l)}return h}k(b){return!0}async l(b,h,g,O){if(!h){const y={id:(0,f.$Rp)(b.publisher,b.name)},i=O.find(l=>(0,f.$Mp)(y,l.identifier)&&(0,C.gt)(l.manifest.version,b.version));if(i)return this.a.info((0,w.localize)(11493,null,i.identifier.id,i.manifest.version,b.version)),!1}return this.k(b)}async uninstallExtensions(b,h,g){const O=async i=>{if(i instanceof R.URI){const l=await this.b.getManifest(i);return(0,f.$Pp)(l.publisher,l.name)}return i},y=[];for(const i of b){const l=await O(i),s=(await this.b.getInstalled(void 0,g)).filter(t=>(0,f.$Mp)(t.identifier,{id:l}));if(!s.length)throw new Error(`${this.m(l)}
${d}`);if(s.some(t=>t.type===c.ExtensionType.System)){this.a.info((0,w.localize)(11494,null,l));return}if(!h&&s.some(t=>t.isBuiltin)){this.a.info((0,w.localize)(11495,null,l));return}this.a.info((0,w.localize)(11496,null,l));for(const t of s)await this.b.uninstall(t,{profileLocation:g}),y.push(t);this.f?this.a.info((0,w.localize)(11497,null,l,this.f)):this.a.info((0,w.localize)(11498,null,l))}}async locateExtension(b){const h=await this.b.getInstalled();b.forEach(g=>{h.forEach(O=>{if(O.identifier.id===g&&O.location.scheme===v.Schemas.file){this.a.info(O.location.fsPath);return}})})}m(b){return this.f?(0,w.localize)(11499,null,b,this.f):(0,w.localize)(11500,null,b)}};e.$wq=p,e.$wq=p=be([re(1,a.$op),re(2,a.$lp)],p)}),define(ue[125],he([0,1,7,4,2,25,26,22,9]),function(Q,e,S,P,v,k,C,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Xq=void 0;class a extends v.$Uc{constructor(c,m,d,p,I,b,h){super(),this.f=c,this.g=m,this.h=d,this.j=p,this.m=I,this.n=b,this.r=h,this.a=this.B(new P.$le),this.onDidChangeExtensionsByAnotherSource=this.a.event,this.b=new Map,this.c=this.B(new v.$4c),this.s().then(null,g=>h.error("Error while initializing Extensions Watcher",(0,S.$9)(g)))}async s(){await this.g.initializeDefaultProfileExtensions(),await this.u(this.h.profiles),this.t(),await this.H()}t(){this.B(this.h.onDidChangeProfiles(c=>this.u(c.added))),this.B(this.j.onAddExtensions(c=>this.w(c))),this.B(this.j.onDidAddExtensions(c=>this.y(c))),this.B(this.j.onRemoveExtensions(c=>this.z(c))),this.B(this.j.onDidRemoveExtensions(c=>this.C(c))),this.B(this.n.onDidFilesChange(c=>this.D(c)))}async u(c){try{c.length&&await Promise.all(c.map(m=>(this.c.set(m.id,(0,v.$Rc)(this.n.watch(this.m.extUri.dirname(m.extensionsResource)),this.n.watch(m.extensionsResource))),this.G(m.extensionsResource))))}catch(m){throw this.r.error(m),m}}async w(c){for(const m of c.extensions)this.I(this.L(m.identifier,m.version),c.profileLocation)}async y(c){for(const m of c.extensions){const d=this.L(m.identifier,m.version);c.error?this.J(d,c.profileLocation):this.I(d,c.profileLocation)}}async z(c){for(const m of c.extensions)this.J(this.L(m.identifier,m.version),c.profileLocation)}async C(c){const m=[],d=[];for(const p of c.extensions){const I=this.L(p.identifier,p.version);c.error?this.I(I,c.profileLocation):(this.J(I,c.profileLocation),this.b.has(I)||(this.r.debug("Extension is removed from all profiles",p.identifier.id,p.version),d.push(this.f.scanInstalledExtensionAtLocation(p.location).then(b=>{b?m.push(b):this.r.info("Extension not found at the location",p.location.toString())},b=>this.r.error(b)))))}try{await Promise.all(d),m.length&&await this.H(m)}catch(p){this.r.error(p)}}D(c){for(const m of this.h.profiles)c.contains(m.extensionsResource,w.FileChangeType.UPDATED,w.FileChangeType.ADDED)&&this.F(m.extensionsResource)}async F(c){const m=[],d=[],p=await this.j.scanProfileExtensions(c),I=new Set,b=new Set;for(const[h,g]of this.b)g.has(c)&&b.add(h);for(const h of p){const g=this.L(h.identifier,h.version);I.add(g),b.has(g)||(m.push(h.identifier),this.I(g,c))}for(const h of b)if(!I.has(h)){const g=this.M(h);g&&(d.push(g.identifier),this.J(h,c))}(m.length||d.length)&&this.a.fire({added:m.length?{extensions:m,profileLocation:c}:void 0,removed:d.length?{extensions:d,profileLocation:c}:void 0})}async G(c){const m=await this.j.scanProfileExtensions(c);for(const d of m)this.I(this.L(d.identifier,d.version),c)}async H(c){c||(c=(await this.f.scanAllUserInstalledExtensions()).filter(d=>!this.b.has(this.L(d.identifier,d.manifest.version)))),c.length&&await this.f.markAsUninstalled(...c)}I(c,m){let d=this.b.get(c);d||this.b.set(c,d=new k.$Bc(p=>this.m.extUri.getComparisonKey(p))),d.add(m)}J(c,m){const d=this.b.get(c);d&&d.delete(m),d?.size||this.b.delete(c)}L(c,m){return`${R.$rn.toKey(c.id)}@${m}`}M(c){const[m,d]=(0,C.$Op)(c);return d?{identifier:{id:m},version:d}:void 0}}e.$Xq=a}),define(ue[126],he([0,1,32,153,19,8,2,14,15,29,17,20,26,6,68,11]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m,d,p,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$bs=void 0,S=ye(S);let b=class extends p.$as{constructor(y,i,l,n){super(l),this.h=y,this.j=n,this.g=this.B(new h(i,n)),this.h.registerParticipant({postInstall:async s=>this.m(s),postUninstall:async s=>this.n(s)})}async getBuiltInExtensionTranslationsUri(y,i){const n=(await this.g.getLanguagePacks())[i];if(!n){this.j.warn(`No language pack found for ${i}`);return}const s=n.translations[y];return s?I.URI.file(s):void 0}async getInstalledLanguages(){const y=await this.g.getLanguagePacks(),i=Object.keys(y).map(l=>{const n=y[l];return{...this.f(l,n.label),extensionId:n.extensions[0].extensionIdentifier.id}});return i.push(this.f("en","English")),i.sort((l,n)=>l.label.localeCompare(n.label)),i}async m(y){y&&y.manifest&&y.manifest.contributes&&y.manifest.contributes.localizations&&y.manifest.contributes.localizations.length&&(this.j.info("Adding language packs from the extension",y.identifier.id),await this.update())}async n(y){const i=await this.g.getLanguagePacks();Object.keys(i).some(l=>i[l]&&i[l].extensions.some(n=>(0,m.$Mp)(n.extensionIdentifier,y.identifier)))&&(this.j.info("Removing language packs from the extension",y.identifier.id),await this.update())}async update(){const[y,i]=await Promise.all([this.g.getLanguagePacks(),this.h.getInstalled()]),l=await this.g.update(i);return!(0,v.$tb)(Object.keys(y),Object.keys(l))}};e.$bs=b,e.$bs=b=be([re(0,c.$op),re(1,f.$Ni),re(2,c.$lp),re(3,d.$ak)],b);let h=class extends C.$Uc{constructor(y,i){super(),this.j=i,this.c={},this.f=(0,w.$jc)(y.userDataPath,"languagepacks.json"),this.g=new k.$Mh}getLanguagePacks(){return this.g.size||!this.h?this.s().then(()=>this.c):Promise.resolve(this.c)}update(y){return this.s(i=>{Object.keys(i).forEach(l=>delete i[l]),this.m(i,...y)}).then(()=>this.c)}m(y,...i){for(const l of i)l&&l.manifest&&l.manifest.contributes&&l.manifest.contributes.localizations&&l.manifest.contributes.localizations.length&&this.n(y,l);Object.keys(y).forEach(l=>this.r(y[l]))}n(y,i){const l=i.identifier,n=i.manifest.contributes&&i.manifest.contributes.localizations?i.manifest.contributes.localizations:[];for(const s of n)if(i.location.scheme===R.Schemas.file&&g(s)){let t=y[s.languageId];t||(t={hash:"",extensions:[],translations:{},label:s.localizedLanguageName??s.languageName},y[s.languageId]=t);const r=t.extensions.filter(o=>(0,m.$Mp)(o.extensionIdentifier,l))[0];r?r.version=i.manifest.version:t.extensions.push({extensionIdentifier:l,version:i.manifest.version});for(const o of s.translations)t.translations[o.id]=(0,w.$jc)(i.location.fsPath,o.path)}}r(y){if(y){const i=(0,P.createHash)("md5");for(const l of y.extensions)i.update(l.extensionIdentifier.uuid||l.extensionIdentifier.id).update(l.version);y.hash=i.digest("hex")}}s(y=()=>null){return this.g.queue(()=>{let i=null;return S.promises.readFile(this.f,"utf8").then(void 0,l=>l.code==="ENOENT"?Promise.resolve("{}"):Promise.reject(l)).then(l=>{try{return JSON.parse(l)}catch{return{}}}).then(l=>(i=y(l),l)).then(l=>{for(const s of Object.keys(l))l[s]||delete l[s];this.c=l,this.h=!0;const n=JSON.stringify(this.c);return this.j.debug("Writing language packs",n),a.Promises.writeFile(this.f,n)}).then(()=>i,l=>this.j.error(l))})}};h=be([re(0,f.$Ni),re(1,d.$ak)],h);function g(O){if(typeof O.languageId!="string"||!Array.isArray(O.translations)||O.translations.length===0)return!1;for(const y of O.translations)if(typeof y.id!="string"||typeof y.path!="string")return!1;return!(O.languageName&&typeof O.languageName!="string"||O.localizedLanguageName&&typeof O.localizedLanguageName!="string")}}),define(ue[127],he([0,1,82,7,27,41]),function(Q,e,S,P,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$xR=void 0;const C="https://mobile.events.data.microsoft.com/OneCollector/1.0",R="https://mobile.events.data.microsoft.com/ping";async function w(f,c,m){const d=await(0,S.$CE)("@microsoft/1ds-core-js","dist/ms.core.js"),p=await(0,S.$CE)("@microsoft/1ds-post-js","dist/ms.post.js"),I=new d.AppInsightsCore,b=new p.PostChannel,h={instrumentationKey:f,endpointUrl:C,loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[b]]};if(m){h.extensionConfig={};const g={alwaysUseXhrOverride:!0,ignoreMc1Ms0CookieProcessing:!0,httpXHROverride:m};h.extensionConfig[b.identifier]=g}return I.initialize(h,[]),I.addTelemetryInitializer(g=>{g.ext=g.ext??{},g.ext.web=g.ext.web??{},g.ext.web.consentDetails='{"GPC_DataSharingOptIn":false}',c&&(g.ext.utc=g.ext.utc??{},g.ext.utc.flags=8462029)}),I}class a{constructor(c,m,d,p,I){this.e=c,this.f=m,this.g=d,this.h=I,this.c=C,this.d=R,this.g||(this.g={}),typeof p=="function"?this.a=p():this.a=p,this.b=null}i(c){if(this.a){if(typeof this.a!="string"){c(this.a);return}this.b||(this.b=w(this.a,this.e,this.h)),this.b.then(m=>{c(m)},m=>{(0,P.$Y)(m),console.error(m)})}}log(c,m){if(!this.a)return;m=(0,v.$ho)(m,this.g),m=(0,k.$Hp)(m);const d=this.f+"/"+c;try{this.i(p=>{p.pluginVersionString=m?.properties.version??"Unknown",p.track({name:d,baseData:{name:d,properties:m?.properties,measurements:m?.measurements}})})}catch{}}flush(){return this.a?new Promise(c=>{this.i(m=>{m.unload(!0,()=>{this.a=void 0,c(void 0)})})}):Promise.resolve(void 0)}}e.$xR=a});var qe=this&&this.__importDefault||function(Q){return Q&&Q.__esModule?Q:{default:Q}};define(ue[128],he([0,1,2,27,12,31,5,30,40,129,33,37,18,41]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$hs=void 0,a=qe(a);let p=class{static{this.IDLE_START_EVENT_NAME="UserIdleStart"}static{this.IDLE_STOP_EVENT_NAME="UserIdleStop"}constructor(h,g,O){this.k=g,this.l=O,this.d={},this.i=new S.$Tc,this.j=[],this.b=h.appenders,this.c=h.commonProperties??Object.create(null),this.sessionId=this.c.sessionID,this.machineId=this.c["common.machineId"],this.sqmId=this.c["common.sqmId"],this.devDeviceId=this.c["common.devDeviceId"],this.firstSessionDate=this.c["common.firstSessionDate"],this.msftInternal=this.c["common.msftInternal"],this.f=h.piiPaths||[],this.g=m.TelemetryLevel.USAGE,this.h=!!h.sendErrorTelemetry,this.j=[/(vscode-)?file:\/\/\/.*?\/resources\/app\//gi];for(const y of this.f)this.j.push(new RegExp((0,k.$hf)(y),"gi")),y.indexOf("\\")>=0&&this.j.push(new RegExp((0,k.$hf)(y.replace(/\\/g,"/")),"gi"));this.m(),this.i.add(this.k.onDidChangeConfiguration(y=>{(y.affectsConfiguration(m.$im)||y.affectsConfiguration(m.$km)||y.affectsConfiguration(m.$jm))&&this.m()}))}setExperimentProperty(h,g){this.d[h]=g}m(){let h=(0,d.$Gp)(this.k);const g=this.l.enabledTelemetryLevels;if(g){this.h=this.sendErrorTelemetry?g.error:!1;const O=g.usage?m.TelemetryLevel.USAGE:g.error?m.TelemetryLevel.ERROR:m.TelemetryLevel.NONE;h=Math.min(h,O)}this.g=h}get sendErrorTelemetry(){return this.h}get telemetryLevel(){return this.g}dispose(){this.i.dispose()}n(h,g,O){this.g<g||(O=(0,P.$ho)(O,this.d),O=(0,d.$Lp)(O,this.j),O=(0,P.$ho)(O,this.c),this.b.forEach(y=>y.log(h,O)))}publicLog(h,g){this.n(h,m.TelemetryLevel.USAGE,g)}publicLog2(h,g){this.publicLog(h,g)}publicLogError(h,g){this.h&&this.n(h,m.TelemetryLevel.ERROR,g)}publicLogError2(h,g){this.publicLogError(h,g)}};e.$hs=p,e.$hs=p=be([re(1,R.$_i),re(2,f.$tk)],p);function I(){const b=(0,C.localize)(11197,null,a.default.nameLong),h=a.default.privacyStatementUrl?(0,C.localize)(11199,null,"https://aka.ms/vscode-telemetry",a.default.privacyStatementUrl):(0,C.localize)(11198,null,"https://aka.ms/vscode-telemetry"),g=v.$p?"":(0,C.localize)(11200,null),O=(0,C.localize)(11201,null),y=(0,C.localize)(11202,null),i=(0,C.localize)(11203,null),l=(0,C.localize)(11204,null),n=`
|       | ${O} | ${y} | ${i} |
|:------|:---------------------:|:---------------:|:--------------:|
| all   |            \u2713          |        \u2713        |        \u2713       |
| error |            \u2713          |        \u2713        |        -       |
| crash |            \u2713          |        -        |        -       |
| off   |            -          |        -        |        -       |
`,s=(0,C.localize)(11205,null);return`
${b} ${h} ${g}

&nbsp;

${l}
${n}

&nbsp;

${s}
`}c.$ro.as(w.$wo.Configuration).registerConfiguration({id:m.$hm,order:1,type:"object",title:(0,C.localize)(11206,null),properties:{[m.$im]:{type:"string",enum:[m.TelemetryConfiguration.ON,m.TelemetryConfiguration.ERROR,m.TelemetryConfiguration.CRASH,m.TelemetryConfiguration.OFF],enumDescriptions:[(0,C.localize)(11207,null),(0,C.localize)(11208,null),(0,C.localize)(11209,null),(0,C.localize)(11210,null)],markdownDescription:I(),default:m.TelemetryConfiguration.ON,restricted:!0,scope:w.ConfigurationScope.APPLICATION,tags:["usesOnlineServices","telemetry"]}}}),c.$ro.as(w.$wo.Configuration).registerConfiguration({id:m.$hm,order:110,type:"object",title:(0,C.localize)(11211,null),properties:{[m.$km]:{type:"boolean",markdownDescription:a.default.privacyStatementUrl?(0,C.localize)(11213,null,a.default.nameLong,a.default.privacyStatementUrl):(0,C.localize)(11212,null,a.default.nameLong),default:!0,restricted:!0,markdownDeprecationMessage:(0,C.localize)(11214,null,`\`#${m.$im}#\``),scope:w.ConfigurationScope.APPLICATION,tags:["usesOnlineServices","telemetry"]}}})}),define(ue[130],he([0,1,13,21,154,127]),function(Q,e,S,P,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$yR=void 0,v=ye(v);async function C(f,c){const m=await c.request(f,P.CancellationToken.None),d=(await(0,S.$Ze)(m.stream)).toString(),p=m.res.statusCode??200;return{headers:m.res.headers,statusCode:p,responseData:d}}async function R(f){const c={method:f.type,headers:f.headers};return new Promise((d,p)=>{const I=v.request(f.url??"",c,b=>{b.on("data",function(h){d({headers:b.headers,statusCode:b.statusCode??200,responseData:h.toString()})}),b.on("error",function(h){p(h)})});I.write(f.data,b=>{b&&p(b)}),I.end()})}async function w(f,c,m){const d=typeof c.data=="string"?c.data:new TextDecoder().decode(c.data),p={type:"POST",headers:{...c.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(c.data).toString()},url:c.urlString,data:d};try{const I=f?await C(p,f):await R(p);m(I.statusCode,I.headers,I.responseData)}catch{m(0,{})}}class a extends k.$xR{constructor(c,m,d,p,I){const b={sendPOST:(h,g)=>{w(c,h,g)}};super(m,d,p,I,b)}}e.$yR=a}),define(ue[131],he([0,1,32,15,29]),function(Q,e,S,P,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$aic=k,S=ye(S);async function k(C,R){const w=Object.create(null),a=(c,m)=>{const d=JSON.parse(c);w[m]=d};if(R){const c=[],m=await v.Promises.readdir(R);for(const p of m)try{(await S.promises.stat((0,P.$jc)(R,p))).isDirectory()&&c.push(p)}catch{}const d=[];for(const p of c)(await v.Promises.readdir((0,P.$jc)(R,p))).filter(b=>b==="telemetry.json").length===1&&d.push(p);for(const p of d){const I=(await S.promises.readFile((0,P.$jc)(R,p,"telemetry.json"))).toString();a(I,p)}}let f=(await S.promises.readFile((0,P.$jc)(C,"telemetry-core.json"))).toString();return a(f,"vscode-core"),f=(await S.promises.readFile((0,P.$jc)(C,"telemetry-extensions.json"))).toString(),a(f,"vscode-extensions"),JSON.stringify(w,null,4)}}),define(ue[132],he([0,1,12,84,18]),function(Q,e,S,P,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$xhc=k,e.$yhc=C,e.$zhc=R;async function k(w,a){let f=w.getItem(v.$em);return(typeof f!="string"||S.$k&&f==="6c9d2bc8f91b89624add29c0abeae7fb42bf539fa1cdb2e3e57cd668fa9bcead")&&(f=await(0,P.$Tn)(a.error.bind(a))),f}async function C(w,a){let f=w.getItem(v.$fm);return typeof f!="string"&&(f=await(0,P.$Un)(a.error.bind(a))),f}async function R(w,a){let f=w.getItem(v.$gm);return typeof f!="string"&&(f=await(0,P.$Vn)(a.error.bind(a))),f}}),define(ue[23],he([0,1,10]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Kl=void 0,e.$Kl=(0,S.$Fi)("IUriIdentityService")}),define(ue[133],he([0,1,23,98,9,16,80,4,2]),function(Q,e,S,P,v,k,C,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Us=void 0;class a{static{this._clock=0}constructor(m){this.uri=m,this.time=a._clock++}touch(){return this.time=a._clock++,this}}let f=class{constructor(m){this.g=m,this.c=new w.$Tc,this.f=2**16;const d=new Map,p=I=>{let b=d.get(I.scheme);return b===void 0&&(b=m.hasProvider(I)&&!this.g.hasCapability(I,v.FileSystemProviderCapabilities.PathCaseSensitive),d.set(I.scheme,b)),b};this.c.add(R.Event.any(m.onDidChangeFileSystemProviderRegistrations,m.onDidChangeFileSystemProviderCapabilities)(I=>{d.delete(I.scheme)})),this.extUri=new k.$8g(p),this.d=new C.$Ts((I,b)=>this.extUri.compare(I,b,!0),this.f)}dispose(){this.c.dispose(),this.d.clear()}asCanonicalUri(m){this.g.hasProvider(m)&&(m=(0,k.$hh)(m));const d=this.d.get(m);return d?d.touch().uri.with({fragment:m.fragment}):(this.d.set(m,new a(m)),this.h(),m)}h(){if(this.d.size<this.f)return;const m=[...this.d.entries()].sort((p,I)=>p[1].time<I[1].time?1:p[1].time>I[1].time?-1:0);a._clock=0,this.d.clear();const d=this.f*.5;for(let p=0;p<d;p++)this.d.set(m[p][0],m[p][1].touch())}};e.$Us=f,e.$Us=f=be([re(0,v.$al)],f),(0,P.$Rs)(S.$Kl,f,P.InstantiationType.Delayed)}),define(ue[134],he([0,1,4,2,9,49,25]),function(Q,e,S,P,v,k,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Xhc=void 0;class R extends P.$Uc{constructor(a,f,c,m,d,p){super(),this.f=a,this.g=f,this.h=c,this.j=m,this.m=d,this.n=p,this.capabilities=this.g.capabilities,this.onDidChangeCapabilities=this.g.onDidChangeCapabilities,this.a=this.B(new S.$le),this.onDidChangeFile=this.a.event,this.b=k.$Li.forUris(()=>!(this.capabilities&v.FileSystemProviderCapabilities.PathCaseSensitive)),this.c=new C.$Bc(I=>this.m.extUri.getComparisonKey(this.t(I))),this.r(),this.B(m.onDidChangeProfiles(()=>this.r())),this.B(this.g.onDidChangeFile(I=>this.s(I)))}r(){this.c.clear();for(const a of this.j.profiles)this.c.add(a.settingsResource),this.c.add(a.keybindingsResource),this.c.add(a.tasksResource),this.c.add(a.extensionsResource)}open(a,f){return this.g.open(this.t(a),f)}close(a){return this.g.close(a)}read(a,f,c,m,d){return this.g.read(a,f,c,m,d)}write(a,f,c,m,d){return this.g.write(a,f,c,m,d)}watch(a,f){this.b.set(a,a);const c=this.g.watch(this.t(a),f);return(0,P.$Sc)(()=>{this.b.delete(a),c.dispose()})}stat(a){return this.g.stat(this.t(a))}mkdir(a){return this.g.mkdir(this.t(a))}rename(a,f,c){return this.g.rename(this.t(a),this.t(f),c)}readFile(a,f){return this.g.readFile(this.t(a),f)}readFileStream(a,f,c){return this.g.readFileStream(this.t(a),f,c)}readdir(a){return this.g.readdir(this.t(a))}enforceAtomicReadFile(a){return this.c.has(a)}writeFile(a,f,c){return this.g.writeFile(this.t(a),f,c)}enforceAtomicWriteFile(a){return this.c.has(a)?{postfix:".vsctmp"}:!1}delete(a,f){return this.g.delete(this.t(a),f)}copy(a,f,c){if((0,v.$el)(this.g))return this.g.copy(this.t(a),this.t(f),c);throw new Error("copy not supported")}cloneFile(a,f){if((0,v.$fl)(this.g))return this.g.cloneFile(this.t(a),this.t(f));throw new Error("clone not supported")}s(a){const f=[];for(const c of a){if(c.resource.scheme!==this.f)continue;const m=this.u(c.resource);this.b.findSubstr(m)&&f.push({resource:m,type:c.type,cId:c.cId})}f.length&&(this.n.debug("User data changed"),this.a.fire(f))}t(a){return a.with({scheme:this.f})}u(a){return a.with({scheme:this.h})}}e.$Xhc=R}),define(ue[135],he([0,1,5,15,49,16,11,10,14]),function(Q,e,S,P,v,k,C,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$8i=e.$5i=e.$4i=e.$3i=e.$2i=e.$Zi=e.$Yi=e.WorkbenchState=e.$Si=e.$Ri=e.$Oi=void 0,e.$Pi=a,e.$Qi=f,e.$Ti=c,e.$Ui=m,e.$Vi=d,e.$Wi=I,e.$Xi=b,e.$1i=O,e.$6i=y,e.$7i=i,e.$9i=l,e.$0i=n,e.$$i=s,e.$Oi=(0,R.$Fi)("contextService");function a(t){const r=t;return typeof r?.id=="string"&&C.URI.isUri(r.uri)}function f(t){return typeof t?.id=="string"&&!a(t)&&!m(t)}e.$Ri={id:"ext-dev"},e.$Si={id:"empty-window"};function c(t,r){if(typeof t=="string"||typeof t>"u")return typeof t=="string"?{id:(0,P.$nc)(t)}:r?e.$Ri:e.$Si;const o=t;return o.configuration?{id:o.id,configPath:o.configuration}:o.folders.length===1?{id:o.id,uri:o.folders[0].uri}:{id:o.id}}function m(t){const r=t;return typeof r?.id=="string"&&C.URI.isUri(r.configPath)}function d(t){const r=t;if(r?.uri)return{id:r.id,uri:C.URI.revive(r.uri)};const o=t;if(o?.configPath)return{id:o.id,configPath:C.URI.revive(o.configPath)};if(t?.id)return{id:t.id}}var p;(function(t){t[t.EMPTY=1]="EMPTY",t[t.FOLDER=2]="FOLDER",t[t.WORKSPACE=3]="WORKSPACE"})(p||(e.WorkbenchState=p={}));function I(t){const r=t;return!!(r&&typeof r=="object"&&typeof r.id=="string"&&Array.isArray(r.folders))}function b(t){const r=t;return!!(r&&typeof r=="object"&&C.URI.isUri(r.uri)&&typeof r.name=="string"&&typeof r.toResource=="function")}class h{constructor(r,o,u,$,N){this.h=r,this.j=u,this.k=$,this.l=N,this.c=v.$Li.forUris(this.l,()=>!0),this.folders=o}update(r){this.h=r.id,this.k=r.configuration,this.j=r.transient,this.l=r.l,this.folders=r.folders}get folders(){return this.g}set folders(r){this.g=r,this.n()}get id(){return this.h}get transient(){return this.j}get configuration(){return this.k}set configuration(r){this.k=r}getFolder(r){return r&&this.c.findSubstr(r)||null}n(){this.c=v.$Li.forUris(this.l,()=>!0);for(const r of this.folders)this.c.set(r.uri,r)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.$Yi=h;class g{constructor(r,o){this.raw=o,this.uri=r.uri,this.index=r.index,this.name=r.name}toResource(r){return(0,k.$gh)(this.uri,r)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.$Zi=g;function O(t){return new g({uri:t,index:0,name:(0,k.$ch)(t)},{uri:t.toString()})}e.$2i="code-workspace",e.$3i=`.${e.$2i}`,e.$4i=[{name:(0,S.localize)(11030,null),extensions:[e.$2i]}],e.$5i="workspace.json";function y(t,r){return k.$0g.isEqualOrParent(t,r.untitledWorkspacesHome)}function i(t){let r;return C.URI.isUri(t)?r=t:r=t.configuration,r?.scheme===w.Schemas.tmp}e.$8i="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function l(t){return t.id===e.$8i}function n(t,r){return!y(t,r)&&!i(t)}function s(t){return(typeof t=="string"?(0,P.$oc)(t):(0,k.$eh)(t))===e.$3i}}),define(ue[24],he([0,1,43,4,2,16,11,5,17,9,10,6,135,25,23,8,28,31,3]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m,d,p,I,b,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ql=e.$Pl=e.$Ml=e.ProfileResourceType=void 0,e.$Ll=y,e.$Nl=i,e.$Ol=l;var O;(function(t){t.Settings="settings",t.Keybindings="keybindings",t.Snippets="snippets",t.Tasks="tasks",t.Extensions="extensions",t.GlobalState="globalState"})(O||(e.ProfileResourceType=O={}));function y(t){const r=t;return!!(r&&typeof r=="object"&&typeof r.id=="string"&&typeof r.isDefault=="boolean"&&typeof r.name=="string"&&C.URI.isUri(r.location)&&C.URI.isUri(r.globalStorageHome)&&C.URI.isUri(r.settingsResource)&&C.URI.isUri(r.keybindingsResource)&&C.URI.isUri(r.tasksResource)&&C.URI.isUri(r.snippetsHome)&&C.URI.isUri(r.extensionsResource))}e.$Ml=(0,f.$Fi)("IUserDataProfilesService");function i(t,r){return{id:t.id,isDefault:t.isDefault,name:t.name,shortName:t.shortName,icon:t.icon,location:C.URI.revive(t.location).with({scheme:r}),globalStorageHome:C.URI.revive(t.globalStorageHome).with({scheme:r}),settingsResource:C.URI.revive(t.settingsResource).with({scheme:r}),keybindingsResource:C.URI.revive(t.keybindingsResource).with({scheme:r}),tasksResource:C.URI.revive(t.tasksResource).with({scheme:r}),snippetsHome:C.URI.revive(t.snippetsHome).with({scheme:r}),extensionsResource:C.URI.revive(t.extensionsResource).with({scheme:r}),cacheHome:C.URI.revive(t.cacheHome).with({scheme:r}),useDefaultFlags:t.useDefaultFlags,isTransient:t.isTransient}}function l(t,r,o,u,$,N){return{id:t,name:r,location:o,isDefault:!1,shortName:$?.shortName,icon:$?.icon,globalStorageHome:N&&$?.useDefaultFlags?.globalState?N.globalStorageHome:(0,k.$gh)(o,"globalStorage"),settingsResource:N&&$?.useDefaultFlags?.settings?N.settingsResource:(0,k.$gh)(o,"settings.json"),keybindingsResource:N&&$?.useDefaultFlags?.keybindings?N.keybindingsResource:(0,k.$gh)(o,"keybindings.json"),tasksResource:N&&$?.useDefaultFlags?.tasks?N.tasksResource:(0,k.$gh)(o,"tasks.json"),snippetsHome:N&&$?.useDefaultFlags?.snippets?N.snippetsHome:(0,k.$gh)(o,"snippets"),extensionsResource:N&&$?.useDefaultFlags?.extensions?N.extensionsResource:(0,k.$gh)(o,"extensions.json"),cacheHome:(0,k.$gh)(u,t),useDefaultFlags:$?.useDefaultFlags,isTransient:$?.transient}}let n=class extends v.$Uc{static{this.b="userDataProfiles"}static{this.c="profileAssociations"}get defaultProfile(){return this.profiles[0]}get profiles(){return[...this.C.profiles,...this.s.profiles]}constructor(r,o,u,$){super(),this.t=r,this.u=o,this.w=u,this.y=$,this.f=!0,this.h=this.B(new P.$le),this.onDidChangeProfiles=this.h.event,this.j=this.B(new P.$le),this.onWillCreateProfile=this.j.event,this.m=this.B(new P.$le),this.onWillRemoveProfile=this.m.event,this.n=this.B(new P.$le),this.onDidResetWorkspaces=this.n.event,this.r=new Map,this.s={profiles:[],folders:new d.$Ac,workspaces:new d.$Ac,emptyWindows:new Map},this.profilesHome=(0,k.$gh)(this.t.userRoamingDataHome,"profiles"),this.g=(0,k.$gh)(this.t.cacheHome,"CachedProfilesData")}init(){this.z=void 0}setEnablement(r){this.f!==r&&(this.z=void 0,this.f=r)}isEnabled(){return this.f}get C(){if(!this.z){const r=this.D(),o=[r];if(this.f)try{for(const N of this.O()){if(!N.name||!(0,g.$eg)(N.name)||!N.location){this.y.warn("Skipping the invalid stored profile",N.location||N.name);continue}o.push(l((0,k.$dh)(N.location),N.name,N.location,this.g,{shortName:N.shortName,icon:N.icon,useDefaultFlags:N.useDefaultFlags},r))}}catch(N){this.y.error(N)}const u=new d.$Ac,$=new Map;if(o.length)try{const N=this.Q();if(N.workspaces)for(const[L,A]of Object.entries(N.workspaces)){const D=C.URI.parse(L),U=o.find(G=>G.id===A);U&&u.set(D,U)}if(N.emptyWindows)for(const[L,A]of Object.entries(N.emptyWindows)){const D=o.find(U=>U.id===A);D&&$.set(L,D)}}catch(N){this.y.error(N)}this.z={profiles:o,workspaces:u,emptyWindows:$}}return this.z}D(){const r=l("__default__profile__",(0,R.localize)(11077,null),this.t.userRoamingDataHome,this.g);return{...r,extensionsResource:this.S()??r.extensionsResource,isDefault:!0}}async createTransientProfile(r){const o="Temp",u=new RegExp(`${(0,h.$hf)(o)}\\s(\\d+)`);let $=0;for(const L of this.profiles){const A=u.exec(L.name),D=A?parseInt(A[1]):0;$=D>$?D:$}const N=`${o} ${$+1}`;return this.createProfile((0,S.$tj)((0,b.$2g)()).toString(16),N,{transient:!0},r)}async createNamedProfile(r,o,u){return this.createProfile((0,S.$tj)((0,b.$2g)()).toString(16),r,o,u)}async createProfile(r,o,u,$){if(!this.f)throw new Error("Profiles are disabled in the current environment.");const N=await this.F(r,o,u);return $&&await this.setProfileForWorkspace($,N),N}async F(r,o,u){if(!(0,g.$eg)(o)||!o)throw new Error("Name of the profile is mandatory and must be of type `string`");let $=this.r.get(o);return $||($=(async()=>{try{if(this.profiles.find(D=>D.name===o||D.id===r))throw new Error(`Profile with ${o} name already exists`);const L=l(r,o,(0,k.$gh)(this.profilesHome,r),this.g,u,this.defaultProfile);await this.u.createFolder(L.location);const A=[];return this.j.fire({profile:L,join(D){A.push(D)}}),await I.Promises.settled(A),this.I([L],[],[]),L}finally{this.r.delete(o)}})(),this.r.set(o,$)),$}async updateProfile(r,o){if(!this.f)throw new Error("Profiles are disabled in the current environment.");let u=this.profiles.find($=>$.id===r.id);if(!u)throw new Error(`Profile '${r.name}' does not exist`);return u=l(u.id,o.name??u.name,u.location,this.g,{shortName:o.shortName??u.shortName,icon:o.icon===null?void 0:o.icon??u.icon,transient:o.transient??u.isTransient,useDefaultFlags:o.useDefaultFlags??u.useDefaultFlags},this.defaultProfile),this.I([],[],[u]),u}async removeProfile(r){if(!this.f)throw new Error("Profiles are disabled in the current environment.");if(r.isDefault)throw new Error("Cannot remove default profile");const o=this.profiles.find($=>$.id===r.id);if(!o)throw new Error(`Profile '${r.name}' does not exist`);const u=[];this.m.fire({profile:o,join($){u.push($)}});try{await Promise.allSettled(u)}catch($){this.y.error($)}for(const $ of[...this.C.emptyWindows.keys()])o.id===this.C.emptyWindows.get($)?.id&&this.C.emptyWindows.delete($);for(const $ of[...this.C.workspaces.keys()])o.id===this.C.workspaces.get($)?.id&&this.C.workspaces.delete($);this.M(),this.I([],[o],[]);try{await this.u.del(o.cacheHome,{recursive:!0})}catch($){(0,a.$rl)($)!==a.FileOperationResult.FILE_NOT_FOUND&&this.y.error($)}}async setProfileForWorkspace(r,o){if(!this.f)throw new Error("Profiles are disabled in the current environment.");const u=this.profiles.find($=>$.id===o.id);if(!u)throw new Error(`Profile '${o.name}' does not exist`);this.L(r,u)}unsetWorkspace(r,o){if(!this.f)throw new Error("Profiles are disabled in the current environment.");this.L(r,void 0,o)}async resetWorkspaces(){this.s.folders.clear(),this.s.workspaces.clear(),this.s.emptyWindows.clear(),this.C.workspaces.clear(),this.C.emptyWindows.clear(),this.M(),this.n.fire()}async cleanUp(){if(this.f&&await this.u.exists(this.profilesHome)){const r=await this.u.resolve(this.profilesHome);await Promise.all((r.children||[]).filter(o=>o.isDirectory&&this.profiles.every(u=>!this.w.extUri.isEqual(u.location,o.resource))).map(o=>this.u.del(o.resource,{recursive:!0})))}}async cleanUpTransientProfiles(){if(!this.f)return;const r=this.s.profiles.filter(o=>!this.H(o));await Promise.allSettled(r.map(o=>this.removeProfile(o)))}getProfileForWorkspace(r){const o=this.G(r),u=C.URI.isUri(o)?this.C.workspaces.get(o):this.C.emptyWindows.get(o);return u||((0,m.$Pi)(r)?this.s.folders.get(r.uri):(0,m.$Ui)(r)?this.s.workspaces.get(r.configPath):this.s.emptyWindows.get(r.id))}G(r){return(0,m.$Pi)(r)?r.uri:(0,m.$Ui)(r)?r.configPath:r.id}H(r){return!!([...this.C.emptyWindows.values()].some(o=>this.w.extUri.isEqual(o.location,r.location))||[...this.C.workspaces.values()].some(o=>this.w.extUri.isEqual(o.location,r.location))||[...this.s.emptyWindows.values()].some(o=>this.w.extUri.isEqual(o.location,r.location))||[...this.s.workspaces.values()].some(o=>this.w.extUri.isEqual(o.location,r.location))||[...this.s.folders.values()].some(o=>this.w.extUri.isEqual(o.location,r.location)))}I(r,o,u){const $=[...this.profiles,...r],N=[],L=this.s.profiles;this.s.profiles=[];for(let A of $){if(A.isDefault||o.some(U=>A.id===U.id))continue;A=u.find(U=>A.id===U.id)??A;const D=L.find(U=>A.id===U.id);if(A.isTransient)this.s.profiles.push(A);else{if(D){for(const[U,G]of this.s.emptyWindows.entries())if(A.id===G.id){this.L({id:U},A);break}for(const[U,G]of this.s.workspaces.entries())if(A.id===G.id){this.L({id:"",configPath:U},A);break}for(const[U,G]of this.s.folders.entries())if(A.id===G.id){this.L({id:"",uri:U},A);break}}N.push({location:A.location,name:A.name,shortName:A.shortName,icon:A.icon,useDefaultFlags:A.useDefaultFlags})}}this.P(N),this.z=void 0,this.J(r,o,u)}J(r,o,u){this.h.fire({added:r,removed:o,updated:u,all:this.profiles})}L(r,o,u){if(u=o?.isTransient?!0:u,u)(0,m.$Pi)(r)?(this.s.folders.delete(r.uri),o&&this.s.folders.set(r.uri,o)):(0,m.$Ui)(r)?(this.s.workspaces.delete(r.configPath),o&&this.s.workspaces.set(r.configPath,o)):(this.s.emptyWindows.delete(r.id),o&&this.s.emptyWindows.set(r.id,o));else{this.L(r,void 0,!0);const $=this.G(r);C.URI.isUri($)?(this.C.workspaces.delete($),o&&this.C.workspaces.set($,o)):(this.C.emptyWindows.delete($),o&&this.C.emptyWindows.set($,o)),this.M()}}M(){const r={};for(const[u,$]of this.C.workspaces.entries())r[u.toString()]=$.id;const o={};for(const[u,$]of this.C.emptyWindows.entries())o[u.toString()]=$.id;this.R({workspaces:r,emptyWindows:o}),this.z=void 0}N(r){const o={},u=this.D();if(r.workspaces)for(const[N,L]of Object.entries(r.workspaces)){const A=C.URI.parse(L);o[N]=this.w.extUri.isEqual(A,u.location)?u.id:this.w.extUri.basename(A)}const $={};if(r.emptyWindows)for(const[N,L]of Object.entries(r.emptyWindows)){const A=C.URI.parse(L);$[N]=this.w.extUri.isEqual(A,u.location)?u.id:this.w.extUri.basename(A)}return{workspaces:o,emptyWindows:$}}O(){return[]}P(r){throw new Error("not implemented")}Q(){return{}}R(r){throw new Error("not implemented")}S(){}};e.$Pl=n,e.$Pl=n=be([re(0,w.$Mi),re(1,a.$al),re(2,p.$Kl),re(3,c.$ak)],n);class s extends n{constructor(){super(...arguments),this.a=[],this.X={}}O(){return this.a}P(r){this.a=r}Q(){return this.X}R(r){this.X=r}}e.$Ql=s}),define(ue[53],he([0,1,19,8,21,7,4,2,25,12,3,11,5,20,26,22,44,6,33,18,23,24]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m,d,p,I,b,h,g,O,y,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Hq=e.$Fq=void 0,e.$Gq=n,m=ye(m);let l=class extends R.$Uc{get onInstallExtension(){return this.n.event}get onDidInstallExtensions(){return this.s.event}get onUninstallExtension(){return this.t.event}get onDidUninstallExtension(){return this.u.event}get onDidUpdateExtensionMetadata(){return this.w.event}constructor(o,u,$,N,L,A){super(),this.z=o,this.C=u,this.D=$,this.F=N,this.G=L,this.H=A,this.h=0,this.j=new Map,this.m=new Map,this.n=this.B(new C.$le),this.s=this.B(new C.$le),this.t=this.B(new C.$le),this.u=this.B(new C.$le),this.w=this.B(new C.$le),this.y=[],this.B((0,R.$Sc)(()=>{this.j.forEach(({task:D})=>D.cancel()),this.m.forEach(D=>D.cancel()),this.j.clear(),this.m.clear()}))}async canInstall(o){const u=await this.getTargetPlatform();return o.allTargetPlatforms.some($=>(0,d.$jp)($,o.allTargetPlatforms,u))}async installFromGallery(o,u={}){try{const N=(await this.installGalleryExtensions([{extension:o,options:u}])).find(({identifier:L})=>(0,p.$Mp)(L,o.identifier));if(N?.local)return N?.local;throw N?.error?N.error:new d.$np(`Unknown error while installing extension ${o.identifier.id}`,d.ExtensionManagementErrorCode.Unknown)}catch($){throw n($)}}async installGalleryExtensions(o){if(!this.z.isEnabled())throw new d.$np(m.localize(11503,null),d.ExtensionManagementErrorCode.NotAllowed);const u=[],$=[];return await Promise.allSettled(o.map(async({extension:N,options:L})=>{try{const A=await this.N(N,!!L?.installGivenVersion,!!L?.installPreReleaseVersion,L.productVersion??{version:this.G.version,date:this.G.date});$.push({...A,options:L})}catch(A){u.push({identifier:N.identifier,operation:d.InstallOperation.Install,source:N,error:A,profileLocation:L.profileLocation??this.W()})}})),$.length&&u.push(...await this.I($)),u}async uninstall(o,u){return this.F.trace("ExtensionManagementService#uninstall",o.identifier.id),this.uninstallExtensions([{extension:o,options:u}])}async toggleAppliationScope(o,u){if((0,I.$un)(o.manifest)||o.isBuiltin)return o;if(o.isApplicationScoped){let $=await this.updateMetadata(o,{isApplicationScoped:!1},this.H.defaultProfile.extensionsResource);this.D.extUri.isEqual(u,this.H.defaultProfile.extensionsResource)||($=await this.Z(o,this.H.defaultProfile.extensionsResource,u));for(const N of this.H.profiles){const L=(await this.getInstalled(I.ExtensionType.User,N.extensionsResource)).find(A=>(0,p.$Mp)(A.identifier,o.identifier));L?this.w.fire({local:L,profileLocation:N.extensionsResource}):this.u.fire({identifier:o.identifier,profileLocation:N.extensionsResource})}return $}else{const $=this.D.extUri.isEqual(u,this.H.defaultProfile.extensionsResource)?await this.updateMetadata(o,{isApplicationScoped:!0},this.H.defaultProfile.extensionsResource):await this.Z(o,u,this.H.defaultProfile.extensionsResource,{isApplicationScoped:!0});return this.s.fire([{identifier:$.identifier,operation:d.InstallOperation.Install,local:$,profileLocation:this.H.defaultProfile.extensionsResource,applicationScoped:!0}]),$}}getExtensionsControlManifest(){const o=new Date().getTime();return(!this.g||o-this.h>1e3*60*5)&&(this.g=this.U(),this.h=o),this.g}registerParticipant(o){this.y.push(o)}async resetPinnedStateForAllUserExtensions(o){try{await this.L(this.H.profiles.map(async u=>{const $=await this.getInstalled(I.ExtensionType.User,u.extensionsResource);await this.L($.map(async N=>{N.pinned!==o&&await this.updateMetadata(N,{pinned:o},u.extensionsResource)}))}))}catch(u){throw this.F.error("Error while resetting pinned state for all user extensions",(0,k.$9)(u)),u}}async I(o){const u=new Map,$=new Map,N=[],L=(D,U)=>`${p.$Np.create(D).toString()}-${U.toString()}`,A=(D,U,G,Z)=>{const te=this.X(D,U,G),ae=`${(0,p.$Rp)(D.publisher,D.name)}-${G.profileLocation.toString()}`;$.set(ae,{task:te,root:Z}),this.n.fire({identifier:te.identifier,source:U,profileLocation:G.profileLocation}),this.F.info("Installing extension:",te.identifier.id,G),c.URI.isUri(U)||this.j.set(L(U,G.profileLocation),{task:te,waitingTasks:[]})};try{for(const{manifest:D,extension:U,options:G}of o){const Z=G.isApplicationScoped||G.isBuiltin||(0,I.$un)(D),te={...G,installOnlyNewlyAddedFromExtensionPack:G.installOnlyNewlyAddedFromExtensionPack??!c.URI.isUri(U),isApplicationScoped:Z,profileLocation:Z?this.H.defaultProfile.extensionsResource:G.profileLocation??this.W(),productVersion:G.productVersion??{version:this.G.version,date:this.G.date}},ae=c.URI.isUri(U)?void 0:this.j.get(L(U,te.profileLocation));ae?(this.F.info("Extension is already requested to install",ae.task.identifier.id,te.profileLocation.toString()),N.push(ae.task.waitUntilTaskIsFinished())):A(D,U,te,void 0)}return await Promise.all([...$.values()].map(async({task:D})=>{if(D.options.donotIncludePackAndDependencies)this.F.info("Installing the extension without checking dependencies and pack",D.identifier.id);else try{const U=await this.M(D.identifier,D.manifest,!!D.options.installOnlyNewlyAddedFromExtensionPack,!!D.options.installPreReleaseVersion,D.options.profileLocation,D.options.productVersion),G=await this.getInstalled(void 0,D.options.profileLocation,D.options.productVersion),Z={...D.options,context:{...D.options.context,[d.$dp]:!0}};for(const{gallery:te,manifest:ae}of(0,S.$Lb)(U,({gallery:le})=>le.identifier.id)){if($.has(`${te.identifier.id.toLowerCase()}-${Z.profileLocation.toString()}`))continue;const le=this.j.get(L(te,Z.profileLocation));if(le){if(this.J(D,le.task)){const de=le.task.identifier;this.F.info("Waiting for already requested installing extension",de.id,D.identifier.id,Z.profileLocation.toString()),le.waitingTasks.push(D),N.push(C.Event.toPromise(C.Event.filter(this.onDidInstallExtensions,H=>H.some(Y=>(0,p.$Mp)(Y.identifier,de)))).then(H=>{if(this.F.info("Finished waiting for already requested installing extension",de.id,D.identifier.id,Z.profileLocation.toString()),!H.find(B=>(0,p.$Mp)(B.identifier,de))?.local)throw new Error(`Extension ${de.id} is not installed`)}))}}else G.some(({identifier:de})=>(0,p.$Mp)(de,te.identifier))||A(ae,te,Z,D)}}catch(U){if(c.URI.isUri(D.source))(0,S.$Kb)(D.manifest.extensionDependencies)&&this.F.warn("Cannot install dependencies of extension:",D.identifier.id,U.message),(0,S.$Kb)(D.manifest.extensionPack)&&this.F.warn("Cannot install packed extensions of extension:",D.identifier.id,U.message);else throw this.F.error("Error while preparing to install dependencies and extension packs of the extension:",D.identifier.id),U}})),await this.L([...$.entries()].map(async([D,{task:U}])=>{const G=new Date().getTime();let Z;try{Z=await U.run(),await this.L(this.y.map(te=>te.postInstall(Z,U.source,U.options,v.CancellationToken.None)),d.ExtensionManagementErrorCode.PostInstall)}catch(te){const ae=n(te);throw c.URI.isUri(U.source)||s(this.C,U.operation===d.InstallOperation.Update?"extensionGallery:update":"extensionGallery:install",{extensionData:(0,p.$Up)(U.source),error:ae,source:U.options.context?.[d.$cp]}),u.set(D,{error:ae,identifier:U.identifier,operation:U.operation,source:U.source,context:U.options.context,profileLocation:U.options.profileLocation,applicationScoped:U.options.isApplicationScoped}),this.F.error("Error while installing the extension",U.identifier.id,(0,k.$9)(ae),U.options.profileLocation.toString()),ae}if(!c.URI.isUri(U.source)){const te=U.operation===d.InstallOperation.Update,ae=te?void 0:(new Date().getTime()-U.source.lastUpdated)/1e3;if(s(this.C,te?"extensionGallery:update":"extensionGallery:install",{extensionData:(0,p.$Up)(U.source),verificationStatus:U.verificationStatus,duration:new Date().getTime()-G,durationSinceUpdate:ae,source:U.options.context?.[d.$cp]}),a.$p&&U.operation!==d.InstallOperation.Update)try{await this.z.reportStatistic(Z.manifest.publisher,Z.manifest.name,Z.manifest.version,d.StatisticType.Install)}catch{}}u.set(D,{local:Z,identifier:U.identifier,operation:U.operation,source:U.source,context:U.options.context,profileLocation:U.options.profileLocation,applicationScoped:Z.isApplicationScoped})})),N.length&&await this.L(N),[...u.values()]}catch(D){const U=(te,ae,le)=>{const de=[];te.manifest.extensionDependencies?.length&&de.push(...te.manifest.extensionDependencies),te.manifest.extensionPack?.length&&de.push(...te.manifest.extensionPack);for(const H of de){if(le.includes(H.toLowerCase()))continue;le.push(H.toLowerCase());const Y=u.get(`${H.toLowerCase()}-${ae.toString()}`);Y?.local&&(le=U(Y.local,ae,le))}return le},G=te=>({identifier:te.identifier,operation:d.InstallOperation.Install,source:te.source,context:te.options.context,profileLocation:te.options.profileLocation,error:D}),Z=[];for(const[te,{task:ae,root:le}]of $){const de=u.get(te);de?de.local&&le&&!u.get(`${le.identifier.id.toLowerCase()}-${ae.options.profileLocation.toString()}`)?.local&&(Z.push(this.Y(de.local,{versionOnly:!0,profileLocation:ae.options.profileLocation})),u.set(te,G(ae))):(ae.cancel(),u.set(te,G(ae)))}for(const[te,{task:ae}]of $){const le=u.get(te);if(!le?.local||ae.options.donotIncludePackAndDependencies)continue;U(le.local,ae.options.profileLocation,[le.local.identifier.id.toLowerCase()]).slice(1).some(H=>$.has(`${H.toLowerCase()}-${ae.options.profileLocation.toString()}`)&&!u.get(`${H.toLowerCase()}-${ae.options.profileLocation.toString()}`)?.local)&&(Z.push(this.Y(le.local,{versionOnly:!0,profileLocation:ae.options.profileLocation})),u.set(te,G(ae)))}throw Z.length&&await Promise.allSettled(Z.map(async te=>{try{await te.run(),this.F.info("Rollback: Uninstalled extension",te.extension.identifier.id)}catch(ae){this.F.warn("Rollback: Error while uninstalling extension",te.extension.identifier.id,(0,k.$9)(ae))}})),D}finally{for(const{task:D}of $.values())D.source&&!c.URI.isUri(D.source)&&this.j.delete(L(D.source,D.options.profileLocation));if(u.size){const D=[...u.values()];for(const U of D)U.local&&this.F.info("Extension installed successfully:",U.identifier.id,U.profileLocation.toString());this.s.fire(D)}}}J(o,u){for(const[,{task:$,waitingTasks:N}]of this.j.entries())if($===o&&(N.includes(u)||N.some(L=>this.J(L,u)))||$===u&&N[0]&&!this.J(o,N[0]))return!1;return!0}async L(o,u){const $=[],N=[],L=await Promise.allSettled(o);for(const D of L)D.status==="fulfilled"?$.push(D.value):N.push(n(D.reason,u));if(!N.length)return $;if(N.length===1)throw N[0];let A=new d.$np("",d.ExtensionManagementErrorCode.Unknown);for(const D of N)A=new d.$np(A.message?`${A.message}, ${D.message}`:D.message,D.code!==d.ExtensionManagementErrorCode.Unknown&&D.code!==d.ExtensionManagementErrorCode.Internal?D.code:A.code);throw A}async M(o,u,$,N,L,A){if(!this.z.isEnabled())return[];const D=await this.getInstalled(void 0,L,A),U=[],G=[],Z=async(te,ae)=>{U.push(te);const le=ae.extensionDependencies||[],de=[...le];if(ae.extensionPack){const H=$?D.find(Y=>(0,p.$Mp)(Y.identifier,te)):void 0;for(const Y of ae.extensionPack)H&&H.manifest.extensionPack&&H.manifest.extensionPack.some(B=>(0,p.$Mp)({id:B},{id:Y}))||de.every(B=>!(0,p.$Mp)({id:B},{id:Y}))&&de.push(Y)}if(de.length){const H=de.filter(Y=>U.every(B=>!(0,p.$Mp)(B,{id:Y})));if(H.length){const Y=await this.z.getExtensions(H.map(B=>({id:B,preRelease:N})),v.CancellationToken.None);for(const B of Y){if(U.find(J=>(0,p.$Mp)(J,B.identifier)))continue;const q=le.some(J=>(0,p.$Mp)({id:J},B.identifier));let K;try{K=await this.N(B,!1,N,A)}catch(J){if(q)throw J;this.F.info("Skipping the packed extension as it cannot be installed",B.identifier.id,(0,k.$9)(J));continue}G.push({gallery:K.extension,manifest:K.manifest}),await Z(K.extension.identifier,K.manifest)}}}};return await Z(o,u),G}async N(o,u,$,N){let L;const A=await this.getExtensionsControlManifest();if(A.malicious.some(G=>(0,p.$Mp)(o.identifier,G)))throw new d.$np(m.localize(11504,null,o.identifier.id),d.ExtensionManagementErrorCode.Malicious);const D=A.deprecated[o.identifier.id.toLowerCase()];if(D?.extension?.autoMigrate){if(this.F.info(`The '${o.identifier.id}' extension is deprecated, fetching the compatible '${D.extension.id}' extension instead.`),L=(await this.z.getExtensions([{id:D.extension.id,preRelease:D.extension.preRelease}],{targetPlatform:await this.getTargetPlatform(),compatible:!0,productVersion:N},v.CancellationToken.None))[0],!L)throw new d.$np(m.localize(11505,null,o.identifier.id,D.extension.id),d.ExtensionManagementErrorCode.Deprecated)}else{if(!await this.canInstall(o)){const G=await this.getTargetPlatform();throw new d.$np(m.localize(11506,null,o.identifier.id,this.G.nameLong,(0,d.$fp)(G)),d.ExtensionManagementErrorCode.IncompatibleTargetPlatform)}if(L=await this.O(o,u,$,N),!L){const G=[];throw(0,b.$7p)(o.properties.enabledApiProposals??[],G)?!$&&o.properties.isPreReleaseVersion&&(await this.z.getExtensions([o.identifier],v.CancellationToken.None))[0]?new d.$np(m.localize(11508,null,o.displayName??o.identifier.id),d.ExtensionManagementErrorCode.ReleaseVersionNotFound):new d.$np(m.localize(11509,null,o.identifier.id,this.G.nameLong,this.G.version),d.ExtensionManagementErrorCode.Incompatible):new d.$np(m.localize(11507,null,o.displayName??o.identifier.id,G[0]),d.ExtensionManagementErrorCode.IncompatibleApi)}}this.F.info("Getting Manifest...",L.identifier.id);const U=await this.z.getManifest(L,v.CancellationToken.None);if(U===null)throw new d.$np(`Missing manifest for extension ${L.identifier.id}`,d.ExtensionManagementErrorCode.Invalid);if(U.version!==L.version)throw new d.$np(`Cannot install '${L.identifier.id}' extension because of version mismatch in Marketplace`,d.ExtensionManagementErrorCode.Invalid);return{extension:L,manifest:U}}async O(o,u,$,N){const L=await this.getTargetPlatform();let A=null;return!u&&o.hasPreReleaseVersion&&o.properties.isPreReleaseVersion!==$&&(A=(await this.z.getExtensions([{...o.identifier,preRelease:$}],{targetPlatform:L,compatible:!0,productVersion:N},v.CancellationToken.None))[0]||null),!A&&await this.z.isExtensionCompatible(o,$,L,N)&&(A=o),A||(u?A=(await this.z.getExtensions([{...o.identifier,version:o.version}],{targetPlatform:L,compatible:!0,productVersion:N},v.CancellationToken.None))[0]||null:A=await this.z.getCompatibleExtension(o,$,L,N)),A}async uninstallExtensions(o){const u=(G,Z)=>`${G.identifier.id.toLowerCase()}${Z.versionOnly?`-${G.manifest.version}`:""}@${Z.profileLocation.toString()}`,$=(G,Z)=>{const te=this.Y(G,Z);return this.m.set(u(te.extension,Z),te),this.F.info("Uninstalling extension from the profile:",`${G.identifier.id}@${G.manifest.version}`,Z.profileLocation.toString()),this.t.fire({identifier:G.identifier,profileLocation:Z.profileLocation,applicationScoped:G.isApplicationScoped}),te},N=(G,Z,te)=>{te?this.F.error("Failed to uninstall extension from the profile:",`${G.identifier.id}@${G.manifest.version}`,Z.profileLocation.toString(),te.message):this.F.info("Successfully uninstalled extension from the profile",`${G.identifier.id}@${G.manifest.version}`,Z.profileLocation.toString()),s(this.C,"extensionGallery:uninstall",{extensionData:(0,p.$Tp)(G),error:te}),this.u.fire({identifier:G.identifier,error:te?.code,profileLocation:Z.profileLocation,applicationScoped:G.isApplicationScoped})},L=[],A=[],D=[],U=new w.$Ac;for(const{extension:G,options:Z}of o){const te={...Z,profileLocation:G.isApplicationScoped?this.H.defaultProfile.extensionsResource:Z?.profileLocation??this.W()},ae=this.m.get(u(G,te));ae?(this.F.info("Extensions is already requested to uninstall",G.identifier.id),D.push(ae.waitUntilTaskIsFinished())):L.push($(G,te))}try{for(const G of L.slice(0)){let Z=U.get(G.options.profileLocation);if(Z||U.set(G.options.profileLocation,Z=await this.getInstalled(I.ExtensionType.User,G.options.profileLocation)),G.options.donotIncludePack)this.F.info("Uninstalling the extension without including packed extension",`${G.extension.identifier.id}@${G.extension.manifest.version}`);else{const te=this.R(G.extension,Z);for(const ae of te)this.m.has(u(ae,G.options))?this.F.info("Extensions is already requested to uninstall",ae.identifier.id):L.push($(ae,G.options))}G.options.donotCheckDependents?this.F.info("Uninstalling the extension without checking dependents",`${G.extension.identifier.id}@${G.extension.manifest.version}`):this.P(L.map(te=>te.extension),Z,G.extension)}await this.L(L.map(async G=>{try{if(await G.run(),await this.L(this.y.map(Z=>Z.postUninstall(G.extension,G.options,v.CancellationToken.None))),G.extension.identifier.uuid)try{await this.z.reportStatistic(G.extension.manifest.publisher,G.extension.manifest.name,G.extension.manifest.version,d.StatisticType.Uninstall)}catch{}}catch(Z){const te=n(Z);throw N(G.extension,G.options,te),te}finally{A.push(G)}})),D.length&&await this.L(D);for(const G of L)N(G.extension,G.options)}catch(G){const Z=n(G);for(const te of L){try{te.cancel()}catch{}A.includes(te)||N(te.extension,te.options,Z)}throw Z}finally{for(const G of L)this.m.delete(u(G.extension,G.options))||this.F.warn("Uninstallation task is not found in the cache",G.extension.identifier.id)}}P(o,u,$){for(const N of o){const L=this.S(N,u);if(L.length){const A=L.filter(D=>!o.some(U=>(0,p.$Mp)(U.identifier,D.identifier)));if(A.length)throw new Error(this.Q(N,A,$))}}}Q(o,u,$){return $===o?u.length===1?m.localize(11510,null,$.manifest.displayName||$.manifest.name,u[0].manifest.displayName||u[0].manifest.name):u.length===2?m.localize(11511,null,$.manifest.displayName||$.manifest.name,u[0].manifest.displayName||u[0].manifest.name,u[1].manifest.displayName||u[1].manifest.name):m.localize(11512,null,$.manifest.displayName||$.manifest.name,u[0].manifest.displayName||u[0].manifest.name,u[1].manifest.displayName||u[1].manifest.name):u.length===1?m.localize(11513,null,$.manifest.displayName||$.manifest.name,o.manifest.displayName||o.manifest.name,u[0].manifest.displayName||u[0].manifest.name):u.length===2?m.localize(11514,null,$.manifest.displayName||$.manifest.name,o.manifest.displayName||o.manifest.name,u[0].manifest.displayName||u[0].manifest.name,u[1].manifest.displayName||u[1].manifest.name):m.localize(11515,null,$.manifest.displayName||$.manifest.name,o.manifest.displayName||o.manifest.name,u[0].manifest.displayName||u[0].manifest.name,u[1].manifest.displayName||u[1].manifest.name)}R(o,u,$=[]){if($.indexOf(o)!==-1)return[];$.push(o);const N=o.manifest.extensionPack?o.manifest.extensionPack:[];if(N.length){const L=u.filter(D=>!D.isBuiltin&&N.some(U=>(0,p.$Mp)({id:U},D.identifier))),A=[];for(const D of L)A.push(...this.R(D,u,$));return[...L,...A]}return[]}S(o,u){return u.filter($=>$.manifest.extensionDependencies&&$.manifest.extensionDependencies.some(N=>(0,p.$Mp)({id:N},o.identifier)))}async U(){try{return this.F.trace("ExtensionManagementService.updateControlCache"),await this.z.getExtensionsControlManifest()}catch(o){return this.F.trace("ExtensionManagementService.refreshControlCache - failed to get extension control manifest",(0,k.$9)(o)),{malicious:[],deprecated:{},search:[]}}}};e.$Fq=l,e.$Fq=l=be([re(0,d.$lp),re(1,O.$_l),re(2,y.$Kl),re(3,h.$ak),re(4,g.$tk),re(5,i.$Ml)],l);function n(r,o){if(r instanceof d.$np)return r;let u;return r instanceof d.$mp?u=new d.$np(r.message,r.code===d.ExtensionGalleryErrorCode.DownloadFailedWriting?d.ExtensionManagementErrorCode.DownloadFailedWriting:d.ExtensionManagementErrorCode.Gallery):u=new d.$np(r.message,(0,k.$3)(r)?d.ExtensionManagementErrorCode.Cancelled:o??d.ExtensionManagementErrorCode.Internal),u.stack=r.stack,u}function s(r,o,{extensionData:u,verificationStatus:$,duration:N,error:L,source:A,durationSinceUpdate:D}){let U,G;(0,f.$mg)($)&&($===!0?$="Verified":($===!1||(U=d.ExtensionManagementErrorCode.Signature,G=$),$="Unverified")),L&&(U=L.code,L.code===d.ExtensionManagementErrorCode.Signature&&(G=L.message)),r.publicLog(o,{...u,verificationStatus:$,success:!L,duration:N,errorcode:U,errorcodeDetail:G,durationSinceUpdate:D,source:A})}class t{constructor(){this.d=new P.$Eh}async waitUntilTaskIsFinished(){return await this.d.wait(),this.g}run(){return this.g||(this.g=(0,P.$sh)(o=>this.h(o))),this.d.open(),this.g}cancel(){this.g||(this.g=(0,P.$sh)(o=>new Promise((u,$)=>{const N=o.onCancellationRequested(()=>{N.dispose(),$(new k.$4)})})),this.d.open()),this.g.cancel()}}e.$Hq=t}),define(ue[42],he([0,1,8,13,2,4,25,11,20,26,9,10,6,24,23,3,7,18]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m,d,p,I,b,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Kq=e.$Jq=e.$Iq=e.ExtensionsProfileScanningErrorCode=void 0;var g;(function(n){n.ERROR_PROFILE_NOT_FOUND="ERROR_PROFILE_NOT_FOUND",n.ERROR_INVALID_CONTENT="ERROR_INVALID_CONTENT"})(g||(e.ExtensionsProfileScanningErrorCode=g={}));class O extends Error{constructor(s,t){super(s),this.code=t}}e.$Iq=O,e.$Jq=(0,c.$Fi)("IExtensionsProfileScannerService");let y=class extends v.$Uc{constructor(s,t,r,o,u,$){super(),this.j=s,this.m=t,this.n=r,this.r=o,this.s=u,this.t=$,this.b=this.B(new k.$le),this.onAddExtensions=this.b.event,this.c=this.B(new k.$le),this.onDidAddExtensions=this.c.event,this.f=this.B(new k.$le),this.onRemoveExtensions=this.f.event,this.g=this.B(new k.$le),this.onDidRemoveExtensions=this.g.event,this.h=new C.$Ac}scanProfileExtensions(s,t){return this.u(s,void 0,t)}async addExtensionsToProfile(s,t,r){const o=[],u=[];try{return await this.u(t,$=>{const N=[];if(r)N.push(...$);else for(const L of $)s.some(([A])=>(0,a.$Mp)(A.identifier,L.identifier)&&A.manifest.version!==L.version)?o.push(L):N.push(L);for(const[L,A]of s){const D=N.findIndex(G=>(0,a.$Mp)(G.identifier,L.identifier)&&G.version===L.manifest.version),U={identifier:L.identifier,version:L.manifest.version,location:L.location,metadata:A};D===-1?(u.push(U),N.push(U)):N.splice(D,1,U)}return u.length&&this.b.fire({extensions:u,profileLocation:t}),o.length&&this.f.fire({extensions:o,profileLocation:t}),N}),u.length&&this.c.fire({extensions:u,profileLocation:t}),o.length&&this.g.fire({extensions:o,profileLocation:t}),u}catch($){throw u.length&&this.c.fire({extensions:u,error:$,profileLocation:t}),o.length&&this.g.fire({extensions:o,error:$,profileLocation:t}),$}}async updateMetadata(s,t){const r=[];return await this.u(t,o=>{const u=[];for(const $ of o){const N=s.find(([L])=>(0,a.$Mp)(L.identifier,$.identifier)&&L.manifest.version===$.version);N&&($.metadata={...$.metadata,...N[1]},r.push($)),u.push($)}return u}),r}async removeExtensionFromProfile(s,t){const r=[];try{await this.u(t,o=>{const u=[];for(const $ of o)(0,a.$Mp)($.identifier,s.identifier)?r.push($):u.push($);return r.length&&this.f.fire({extensions:r,profileLocation:t}),u}),r.length&&this.g.fire({extensions:r,profileLocation:t})}catch(o){throw r.length&&this.g.fire({extensions:r,error:o,profileLocation:t}),o}}async u(s,t,r){return this.F(s).queue(async()=>{let o=[],u;try{const $=await this.m.readFile(s);u=JSON.parse($.value.toString().trim()||"[]")}catch($){if((0,f.$rl)($)!==f.FileOperationResult.FILE_NOT_FOUND)throw $;if(this.r.extUri.isEqual(s,this.n.defaultProfile.extensionsResource)&&(u=await this.D()),!u&&r?.bailOutWhenFileNotFound)throw new O((0,b.$9)($),g.ERROR_PROFILE_NOT_FOUND)}if(u){Array.isArray(u)||this.w(s);let $=!1;for(const N of u){i(N)||this.w(s);let L;if((0,I.$eg)(N.relativeLocation)&&N.relativeLocation)L=this.z(N.relativeLocation);else if((0,I.$eg)(N.location)){this.t.warn(`Extensions profile: Ignoring extension with invalid location: ${N.location}`);continue}else{L=R.URI.revive(N.location);const A=this.y(L);A&&($=!0,N.relativeLocation=A)}(0,I.$lg)(N.metadata?.hasPreReleaseVersion)&&N.metadata?.preRelease&&($=!0,N.metadata.hasPreReleaseVersion=!0),o.push({identifier:N.identifier,location:L,version:N.version,metadata:N.metadata})}$&&await this.m.writeFile(s,P.$Ne.fromString(JSON.stringify(u)))}if(t){o=t(o);const $=o.map(N=>({identifier:N.identifier,version:N.version,location:N.location.toJSON(),relativeLocation:this.y(N.location),metadata:N.metadata}));await this.m.writeFile(s,P.$Ne.fromString(JSON.stringify($)))}return o})}w(s){const t=new O(`Invalid extensions content in ${s.toString()}`,g.ERROR_INVALID_CONTENT);throw this.s.publicLogError2("extensionsProfileScanningError",{code:t.code}),t}y(s){return this.r.extUri.isEqual(this.r.extUri.dirname(s),this.j)?this.r.extUri.basename(s):void 0}z(s){return this.r.extUri.joinPath(this.j,s)}async D(){return this.C||(this.C=(async()=>{const s=this.r.extUri.joinPath(this.n.defaultProfile.location,"extensions.json"),t=this.r.extUri.joinPath(this.j,".init-default-profile-extensions");let r;try{r=(await this.m.readFile(s)).value.toString()}catch(u){if((0,f.$rl)(u)===f.FileOperationResult.FILE_NOT_FOUND)return;throw u}this.t.info("Migrating extensions from old default profile location",s.toString());let o;try{const u=JSON.parse(r);Array.isArray(u)&&u.every($=>i($))?o=u:this.t.warn("Skipping migrating from old default profile locaiton: Found invalid data",u)}catch(u){this.t.error(u)}if(o)try{await this.m.createFile(this.n.defaultProfile.extensionsResource,P.$Ne.fromString(JSON.stringify(o)),{overwrite:!1}),this.t.info("Migrated extensions from old default profile location to new location",s.toString(),this.n.defaultProfile.extensionsResource.toString())}catch(u){if((0,f.$rl)(u)===f.FileOperationResult.FILE_MODIFIED_SINCE)this.t.info("Migration from old default profile location to new location is done by another window",s.toString(),this.n.defaultProfile.extensionsResource.toString());else throw u}try{await this.m.del(s)}catch(u){(0,f.$rl)(u)!==f.FileOperationResult.FILE_NOT_FOUND&&this.t.error(u)}try{await this.m.del(t)}catch(u){(0,f.$rl)(u)!==f.FileOperationResult.FILE_NOT_FOUND&&this.t.error(u)}return o})()),this.C}F(s){let t=this.h.get(s);return t||(t=new S.$Mh,this.h.set(s,t)),t}};e.$Kq=y,e.$Kq=y=be([re(1,f.$al),re(2,d.$Ml),re(3,p.$Kl),re(4,h.$_l),re(5,m.$ak)],y);function i(n){return(0,I.$gg)(n)&&(0,w.$kp)(n.identifier)&&(l(n.location)||(0,I.$eg)(n.location)&&n.location)&&((0,I.$lg)(n.relativeLocation)||(0,I.$eg)(n.relativeLocation))&&n.version&&(0,I.$eg)(n.version)}function l(n){return n?(0,I.$eg)(n.path)&&(0,I.$eg)(n.scheme):!1}});var qe=this&&this.__importDefault||function(Q){return Q&&Q.__esModule?Q:{default:Q}};define(ue[54],he([0,1,19,8,27,13,7,34,90,2,14,15,12,16,45,57,3,11,5,17,26,22,44,9,10,6,33,4,48,42,24,23,96]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m,d,p,I,b,h,g,O,y,i,l,n,s,t,r,o,u,$,N,L,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Rq=e.$Pq=e.$Oq=e.$Nq=e.Translations=void 0,e.$Qq=ae,v=ye(v),c=ye(c),m=ye(m),p=ye(p),I=qe(I);var D;(function(de){function H(Y,B){if(Y===B)return!0;const q=Object.keys(Y),K=new Set;for(const J of Object.keys(B))K.add(J);if(q.length!==K.size)return!1;for(const J of q){if(Y[J]!==B[J])return!1;K.delete(J)}return K.size===0}de.equals=H})(D||(e.Translations=D={})),e.$Nq=(0,s.$Fi)("IExtensionsScannerService");let U=class extends a.$Uc{constructor(H,Y,B,q,K,J,ie,se,T,W,z,E){super(),this.systemExtensionsLocation=H,this.userExtensionsLocation=Y,this.r=B,this.s=q,this.t=K,this.u=J,this.w=ie,this.y=se,this.z=T,this.C=W,this.D=z,this.F=E,this.g=this.B(new o.$le),this.onDidChangeCache=this.g.event,this.h=(0,d.$gh)(this.userExtensionsLocation,".obsolete"),this.j=this.B(this.F.createInstance(te,this.s,this.h)),this.m=this.B(this.F.createInstance(te,this.s,this.h)),this.n=this.B(this.F.createInstance(Z,this.h)),this.H=void 0,this.B(this.j.onDidChangeCache(()=>this.g.fire(i.ExtensionType.System))),this.B(this.m.onDidChangeCache(()=>this.g.fire(i.ExtensionType.User)))}getTargetPlatform(){return this.G||(this.G=(0,y.$Xp)(this.w,this.y)),this.G}async scanAllExtensions(H,Y,B){const[q,K]=await Promise.all([this.scanSystemExtensions(H),this.scanUserExtensions(Y)]),J=B?await this.scanExtensionsUnderDevelopment(H,[...q,...K]):[];return this.L(q,K,J,await this.getTargetPlatform(),!0)}async scanSystemExtensions(H){const Y=[];Y.push(this.M(!!H.useCache,H.language)),Y.push(this.N(H.language,!!H.checkControlFile));const[B,q]=await Promise.all(Y);return this.J([...B,...q],i.ExtensionType.System,H,!1)}async scanUserExtensions(H){const Y=H.profileLocation??this.userExtensionsLocation;this.y.trace("Started scanning user extensions",Y);const B=this.D.extUri.isEqual(H.profileLocation,this.t.defaultProfile.extensionsResource)?{bailOutWhenFileNotFound:!0}:void 0,q=await this.P(Y,!!H.profileLocation,i.ExtensionType.User,!H.includeUninstalled,H.language,!0,B,H.productVersion??this.R()),K=H.useCache&&!q.devMode&&q.excludeObsolete?this.m:this.n;let J;try{J=await K.scanExtensions(q)}catch(ie){if(ie instanceof $.$Iq&&ie.code===$.ExtensionsProfileScanningErrorCode.ERROR_PROFILE_NOT_FOUND)await this.I(),J=await K.scanExtensions(q);else throw ie}return J=await this.J(J,i.ExtensionType.User,H,!0),this.y.trace("Scanned user extensions:",J.length),J}async scanExtensionsUnderDevelopment(H,Y){if(this.z.isExtensionDevelopment&&this.z.extensionDevelopmentLocationURI){const B=(await Promise.all(this.z.extensionDevelopmentLocationURI.filter(q=>q.scheme===f.Schemas.file).map(async q=>{const K=await this.P(q,!1,i.ExtensionType.User,!0,H.language,!1,void 0,H.productVersion??this.R());return(await this.n.scanOneOrMultipleExtensions(K)).map(ie=>(ie.type=Y.find(se=>(0,y.$Mp)(se.identifier,ie.identifier))?.type??ie.type,this.n.validate(ie,K)))}))).flat();return this.J(B,"development",H,!0)}return[]}async scanExistingExtension(H,Y,B){const q=await this.P(H,!1,Y,!0,B.language,!0,void 0,B.productVersion??this.R()),K=await this.n.scanExtension(q);return!K||!B.includeInvalid&&!K.isValid?null:K}async scanOneOrMultipleExtensions(H,Y,B){const q=await this.P(H,!1,Y,!0,B.language,!0,void 0,B.productVersion??this.R()),K=await this.n.scanOneOrMultipleExtensions(q);return this.J(K,Y,B,!0)}async scanMultipleExtensions(H,Y,B){const q=[];return await Promise.all(H.map(async K=>{const J=await this.scanOneOrMultipleExtensions(K,Y,B);q.push(...J)})),this.J(q,Y,B,!0)}async scanMetadata(H){const Y=(0,d.$gh)(H,"package.json"),B=(await this.w.readFile(Y)).value.toString();return JSON.parse(B).__metadata}async updateMetadata(H,Y){const B=(0,d.$gh)(H,"package.json"),q=(await this.w.readFile(B)).value.toString(),K=JSON.parse(q);Y.isMachineScoped===!1&&delete Y.isMachineScoped,Y.isBuiltin===!1&&delete Y.isBuiltin,K.__metadata={...K.__metadata,...Y},await this.w.writeFile((0,d.$gh)(H,"package.json"),k.$Ne.fromString(JSON.stringify(K,null,"	")))}async initializeDefaultProfileExtensions(){try{await this.u.scanProfileExtensions(this.t.defaultProfile.extensionsResource,{bailOutWhenFileNotFound:!0})}catch(H){if(H instanceof $.$Iq&&H.code===$.ExtensionsProfileScanningErrorCode.ERROR_PROFILE_NOT_FOUND)await this.I();else throw H}}async I(){return this.H||(this.H=(async()=>{try{this.y.info("Started initializing default profile extensions in extensions installation folder.",this.userExtensionsLocation.toString());const H=await this.scanUserExtensions({includeInvalid:!0});if(H.length)await this.u.addExtensionsToProfile(H.map(Y=>[Y,Y.metadata]),this.t.defaultProfile.extensionsResource);else try{await this.w.createFile(this.t.defaultProfile.extensionsResource,k.$Ne.fromString(JSON.stringify([])))}catch(Y){(0,n.$rl)(Y)!==n.FileOperationResult.FILE_NOT_FOUND&&this.y.warn("Failed to create default profile extensions manifest in extensions installation folder.",this.userExtensionsLocation.toString(),(0,C.$9)(Y))}this.y.info("Completed initializing default profile extensions in extensions installation folder.",this.userExtensionsLocation.toString())}catch(H){this.y.error(H)}finally{this.H=void 0}})()),this.H}async J(H,Y,B,q){return B.includeAllVersions||(H=this.L(Y===i.ExtensionType.System?H:void 0,Y===i.ExtensionType.User?H:void 0,Y==="development"?H:void 0,await this.getTargetPlatform(),q)),B.includeInvalid||(H=H.filter(K=>K.isValid)),H.sort((K,J)=>{const ie=c.$nc(K.location.fsPath),se=c.$nc(J.location.fsPath);return ie<se?-1:ie>se?1:0})}L(H,Y,B,q,K){const J=(se,T,W)=>{if(se.isValid&&!T.isValid)return!1;if(se.isValid===T.isValid){if(K&&p.gt(se.manifest.version,T.manifest.version))return this.y.debug(`Skipping extension ${T.location.path} with lower version ${T.manifest.version} in favour of ${se.location.path} with version ${se.manifest.version}`),!1;if(p.eq(se.manifest.version,T.manifest.version)){if(se.type===i.ExtensionType.System)return this.y.debug(`Skipping extension ${T.location.path} in favour of system extension ${se.location.path} with same version`),!1;if(se.targetPlatform===q)return this.y.debug(`Skipping extension ${T.location.path} from different target platform ${T.targetPlatform}`),!1}}return W?this.y.warn(`Overwriting user extension ${se.location.path} with ${T.location.path}.`):this.y.debug(`Overwriting user extension ${se.location.path} with ${T.location.path}.`),!0},ie=new i.$tn;return H?.forEach(se=>{const T=ie.get(se.identifier.id);(!T||J(T,se,!1))&&ie.set(se.identifier.id,se)}),Y?.forEach(se=>{const T=ie.get(se.identifier.id);if(!T&&H&&se.type===i.ExtensionType.System){this.y.debug(`Skipping obsolete system extension ${se.location.path}.`);return}(!T||J(T,se,!1))&&ie.set(se.identifier.id,se)}),B?.forEach(se=>{const T=ie.get(se.identifier.id);(!T||J(T,se,!0))&&ie.set(se.identifier.id,se),ie.set(se.identifier.id,se)}),[...ie.values()]}async M(H,Y){this.y.trace("Started scanning system extensions");const B=await this.P(this.systemExtensionsLocation,!1,i.ExtensionType.System,!0,Y,!0,void 0,this.R()),K=await(H&&!B.devMode?this.j:this.n).scanExtensions(B);return this.y.trace("Scanned system extensions:",K.length),K}async N(H,Y){const B=this.z.isBuilt?[]:this.C.builtInExtensions;if(!B?.length)return[];this.y.trace("Started scanning dev system extensions");const q=Y?await this.O():{},K=[],J=h.URI.file(c.$hc(c.$jc(f.$Zg.asFileUri("").fsPath,"..",".build","builtInExtensions")));for(const se of B){const T=q[se.name]||"marketplace";switch(T){case"disabled":break;case"marketplace":K.push((0,d.$gh)(J,se.name));break;default:K.push(h.URI.file(T));break}}const ie=await Promise.all(K.map(async se=>this.n.scanExtension(await this.P(se,!1,i.ExtensionType.System,!0,H,!0,void 0,this.R()))));return this.y.trace("Scanned dev system extensions:",ie.length),(0,S.$Gb)(ie)}async O(){try{const H=await this.w.readFile(this.r);return JSON.parse(H.value.toString())}catch{return{}}}async P(H,Y,B,q,K,J,ie,se){const T=await this.f(K??m.$x),W=await this.Q(H),z=Y&&!this.D.extUri.isEqual(H,this.t.defaultProfile.extensionsResource)?this.t.defaultProfile.extensionsResource:void 0,E=z?await this.Q(z):void 0;return new G(H,W,z,E,Y,ie,B,q,J,se.version,se.date,this.C.commit,!this.z.isBuilt,K,T)}async Q(H){try{const Y=await this.w.stat(H);if(typeof Y.mtime=="number")return Y.mtime}catch{}}R(){return{version:this.C.version,date:this.C.date}}};e.$Oq=U,e.$Oq=U=be([re(4,N.$Ml),re(5,$.$Jq),re(6,n.$al),re(7,t.$ak),re(8,O.$Mi),re(9,r.$tk),re(10,L.$Kl),re(11,s.$Ei)],U);class G{constructor(H,Y,B,q,K,J,ie,se,T,W,z,E,j,X,F){this.location=H,this.mtime=Y,this.applicationExtensionslocation=B,this.applicationExtensionslocationMtime=q,this.profile=K,this.profileScanOptions=J,this.type=ie,this.excludeObsolete=se,this.validate=T,this.productVersion=W,this.productDate=z,this.productCommit=E,this.devMode=j,this.language=X,this.translations=F}static createNlsConfiguration(H){return{language:H.language,pseudo:H.language==="pseudo",devMode:H.devMode,translations:H.translations}}static equals(H,Y){return(0,d.$_g)(H.location,Y.location)&&H.mtime===Y.mtime&&(0,d.$_g)(H.applicationExtensionslocation,Y.applicationExtensionslocation)&&H.applicationExtensionslocationMtime===Y.applicationExtensionslocationMtime&&H.profile===Y.profile&&v.$io(H.profileScanOptions,Y.profileScanOptions)&&H.type===Y.type&&H.excludeObsolete===Y.excludeObsolete&&H.validate===Y.validate&&H.productVersion===Y.productVersion&&H.productDate===Y.productDate&&H.productCommit===Y.productCommit&&H.devMode===Y.devMode&&H.language===Y.language&&D.equals(H.translations,Y.translations)}}e.$Pq=G;let Z=class extends a.$Uc{constructor(H,Y,B,q,K,J,ie){super(),this.g=H,this.h=Y,this.j=B,this.m=q,this.n=J,this.r=ie,this.f=K.extensionsEnabledWithApiProposalVersion?.map(se=>se.toLowerCase())??[]}async scanExtensions(H){const Y=H.profile?await this.t(H):await this.s(H);let B={};if(H.excludeObsolete&&H.type===i.ExtensionType.User)try{const q=(await this.m.readFile(this.g)).value.toString();B=JSON.parse(q)}catch{}return(0,b.$rg)(B)?Y:Y.filter(q=>!B[y.$Np.create(q).toString()])}async s(H){const Y=await this.m.resolve(H.location);if(!Y.children?.length)return[];const B=await Promise.all(Y.children.map(async q=>{if(!q.isDirectory||H.type===i.ExtensionType.User&&(0,d.$dh)(q.resource).indexOf(".")===0)return null;const K=new G(q.resource,H.mtime,H.applicationExtensionslocation,H.applicationExtensionslocationMtime,H.profile,H.profileScanOptions,H.type,H.excludeObsolete,H.validate,H.productVersion,H.productDate,H.productCommit,H.devMode,H.language,H.translations);return this.scanExtension(K)}));return(0,S.$Gb)(B).sort((q,K)=>q.location.path<K.location.path?-1:1)}async t(H){let Y=await this.u(H.location,()=>!0,H);if(H.applicationExtensionslocation&&!this.j.extUri.isEqual(H.location,H.applicationExtensionslocation)){Y=Y.filter(q=>!q.metadata?.isApplicationScoped);const B=await this.u(H.applicationExtensionslocation,q=>!!q.metadata?.isBuiltin||!!q.metadata?.isApplicationScoped,H);Y.push(...B)}return Y}async u(H,Y,B){const q=await this.h.scanProfileExtensions(H,B.profileScanOptions);if(!q.length)return[];const K=await Promise.all(q.map(async J=>{if(Y(J)){const ie=new G(J.location,B.mtime,B.applicationExtensionslocation,B.applicationExtensionslocationMtime,B.profile,B.profileScanOptions,B.type,B.excludeObsolete,B.validate,B.productVersion,B.productDate,B.productCommit,B.devMode,B.language,B.translations);return this.scanExtension(ie,J.metadata)}return null}));return(0,S.$Gb)(K)}async scanOneOrMultipleExtensions(H){try{if(await this.m.exists((0,d.$gh)(H.location,"package.json"))){const Y=await this.scanExtension(H);return Y?[Y]:[]}else return await this.scanExtensions(H)}catch(Y){return this.r.error(`Error scanning extensions at ${H.location.path}:`,(0,C.$9)(Y)),[]}}async scanExtension(H,Y){try{let B=await this.w(H.location);if(B){B.publisher||(B.publisher=i.$nn),Y=Y??B.__metadata,delete B.__metadata;const q=(0,y.$Rp)(B.publisher,B.name),K=Y?.id?{id:q,uuid:Y.id}:{id:q},J=Y?.isSystem?i.ExtensionType.System:H.type,ie=J===i.ExtensionType.System||!!Y?.isBuiltin;B=await this.y(H.location,B,G.createNlsConfiguration(H));let se={type:J,identifier:K,manifest:B,location:H.location,isBuiltin:ie,targetPlatform:Y?.targetPlatform??i.TargetPlatform.UNDEFINED,publisherDisplayName:Y?.publisherDisplayName,metadata:Y,isValid:!0,validations:[]};return H.validate&&(se=this.validate(se,H)),B.enabledApiProposals&&(!this.n.isBuilt||this.f.includes(q.toLowerCase()))&&(B.originalEnabledApiProposals=B.enabledApiProposals,B.enabledApiProposals=(0,i.$zn)([...B.enabledApiProposals])),se}}catch(B){H.type!==i.ExtensionType.System&&this.r.error(B)}return null}validate(H,Y){let B=!0;const q=this.n.isBuilt&&this.f.includes(H.identifier.id.toLowerCase()),K=(0,l.$4p)(Y.productVersion,Y.productDate,Y.location,H.manifest,H.isBuiltin,q);for(const[J,ie]of K)J===I.default.Error&&(B=!1,this.r.error(this.F(Y.location,ie)));return H.isValid=B,H.validations=K,H}async w(H){const Y=(0,d.$gh)(H,"package.json");let B;try{B=(await this.m.readFile(Y)).value.toString()}catch(K){return(0,n.$rl)(K)!==n.FileOperationResult.FILE_NOT_FOUND&&this.r.error(this.F(H,(0,g.localize)(11461,null,Y.path,K.message))),null}let q;try{q=JSON.parse(B)}catch{const J=[];(0,R.$Yn)(B,J);for(const ie of J)this.r.error(this.F(H,(0,g.localize)(11462,null,Y.path,ie.offset,ie.length,(0,w.$Lq)(ie.error))));return null}return(0,R.$7n)(q)!=="object"?(this.r.error(this.F(H,(0,g.localize)(11463,null,Y.path))),null):q}async y(H,Y,B){const q=await this.z(H,Y,B);if(q)try{const K=[],J=await this.C(q.default,K);if(K.length>0)return K.forEach(se=>{this.r.error(this.F(H,(0,g.localize)(11464,null,q.default?.path,(0,w.$Lq)(se.error))))}),Y;if((0,R.$7n)(q)!=="object")return this.r.error(this.F(H,(0,g.localize)(11465,null,q.default?.path))),Y;const ie=q.values||Object.create(null);return(0,A.$Mq)(this.r,Y,ie,J)}catch{}return Y}async z(H,Y,B){const q=(0,d.$gh)(H,"package.nls.json"),K=(T,W)=>{W.forEach(z=>{this.r.error(this.F(H,(0,g.localize)(11466,null,T?.path,(0,w.$Lq)(z.error))))})},J=T=>{this.r.error(this.F(H,(0,g.localize)(11467,null,T?.path)))},ie=`${Y.publisher}.${Y.name}`,se=B.translations[ie];if(se)try{const T=h.URI.file(se),W=(await this.m.readFile(T)).value.toString(),z=[],E=(0,R.$Yn)(W,z);return z.length>0?(K(T,z),{values:void 0,default:q}):(0,R.$7n)(E)!=="object"?(J(T),{values:void 0,default:q}):{values:E.contents?E.contents.package:void 0,default:q}}catch{return{values:void 0,default:q}}else{if(!await this.m.exists(q))return;let W;try{W=await this.D(H,B)}catch{return}if(!W.localized)return{values:void 0,default:W.original};try{const z=(await this.m.readFile(W.localized)).value.toString(),E=[],j=(0,R.$Yn)(z,E);return E.length>0?(K(W.localized,E),{values:void 0,default:W.original}):(0,R.$7n)(j)!=="object"?(J(W.localized),{values:void 0,default:W.original}):{values:j,default:W.original}}catch{return{values:void 0,default:W.original}}}}async C(H,Y){if(H)try{const B=(await this.m.readFile(H)).value.toString();return(0,R.$Yn)(B,Y)}catch{}}D(H,Y){return new Promise((B,q)=>{const K=J=>{const ie=(0,d.$gh)(H,`package.nls.${J}.json`);this.m.exists(ie).then(se=>{se&&B({localized:ie,original:(0,d.$gh)(H,"package.nls.json")});const T=J.lastIndexOf("-");T===-1?B({localized:(0,d.$gh)(H,"package.nls.json"),original:null}):(J=J.substring(0,T),K(J))})};if(Y.devMode||Y.pseudo||!Y.language)return B({localized:(0,d.$gh)(H,"package.nls.json"),original:null});K(Y.language)})}F(H,Y){return`[${H.path}]: ${Y}`}};Z=be([re(1,$.$Jq),re(2,L.$Kl),re(3,n.$al),re(4,r.$tk),re(5,O.$Mi),re(6,t.$ak)],Z);let te=class extends Z{constructor(H,Y,B,q,K,J,ie,se,T){super(Y,q,K,J,ie,se,T),this.J=H,this.L=B,this.H=this.B(new P.$Dh(3e3)),this.I=this.B(new o.$le),this.onDidChangeCache=this.I.event}async scanExtensions(H){const Y=this.P(H),B=await this.M(Y);if(this.G=H,B&&B.input&&G.equals(B.input,this.G))return this.r.debug("Using cached extensions scan result",H.type===i.ExtensionType.System?"system":"user",H.location.toString()),this.H.trigger(()=>this.O()),B.result.map(K=>(K.location=h.URI.revive(K.location),K));const q=await super.scanExtensions(H);return await this.N(Y,{input:H,result:q}),q}async M(H){try{const Y=await this.m.readFile(H),B=JSON.parse(Y.value.toString());return{result:B.result,input:(0,u.$ci)(B.input)}}catch(Y){this.r.debug("Error while reading the extension cache file:",H.path,(0,C.$9)(Y))}return null}async N(H,Y){try{await this.m.writeFile(H,k.$Ne.fromString(JSON.stringify(Y)))}catch(B){this.r.debug("Error while writing the extension cache file:",H.path,(0,C.$9)(B))}}async O(){if(!this.G)return;const H=this.P(this.G),Y=await this.M(H);if(!Y)return;const B=Y.result,q=JSON.parse(JSON.stringify(await super.scanExtensions(this.G)));if(!v.$io(q,B))try{this.r.info("Invalidating Cache",B,q),await this.m.del(H),this.I.fire()}catch(K){this.r.error(K)}}P(H){const Y=this.Q(H);return this.j.extUri.joinPath(Y.cacheHome,H.type===i.ExtensionType.System?i.$mn:i.$ln)}Q(H){return H.type===i.ExtensionType.System?this.L.defaultProfile:H.profile?this.j.extUri.isEqual(H.location,this.J.extensionsResource)?this.J:this.L.profiles.find(Y=>this.j.extUri.isEqual(H.location,Y.extensionsResource))??this.J:this.L.defaultProfile}};te=be([re(2,N.$Ml),re(3,$.$Jq),re(4,L.$Kl),re(5,n.$al),re(6,r.$tk),re(7,O.$Mi),re(8,t.$ak)],te);function ae(de,H){const Y=(0,y.$Pp)(de.manifest.publisher,de.manifest.name);return{id:Y,identifier:new i.$rn(Y),isBuiltin:de.type===i.ExtensionType.System,isUserBuiltin:de.type===i.ExtensionType.User&&de.isBuiltin,isUnderDevelopment:H,extensionLocation:de.location,uuid:de.identifier.uuid,targetPlatform:de.targetPlatform,publisherDisplayName:de.publisherDisplayName,...de.manifest}}class le extends U{constructor(H,Y,B,q,K,J,ie,se,T,W,z,E){super(H,Y,(0,d.$gh)(B,".vscode-oss-dev","extensions","control.json"),q,K,J,ie,se,T,W,z,E),this.S=(async()=>{if(m.$A)try{const j=await this.w.readFile(h.URI.file(m.$A));return JSON.parse(j.value.toString())}catch{}return Object.create(null)})()}f(H){return this.S}}e.$Rq=le}),define(ue[136],he([0,1,60,8,38,4,2,14,15,29,6,24]),function(Q,e,S,P,v,k,C,R,w,a,f,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Vq=void 0;let m=class extends C.$Uc{constructor(p,I){super(),this.b=p,this.f=I,this.a=new P.$Lh(5)}async postUninstall(p){const I=this.g(p,"uninstall");I&&(this.f.info(p.identifier.id,p.manifest.version,"Running post uninstall script"),await this.a.queue(async()=>{try{await this.h(I.script,"uninstall",I.args,!0,p),this.f.info("Finished running post uninstall script",p.identifier.id,p.manifest.version)}catch(b){this.f.error("Failed to run post uninstall script",p.identifier.id,p.manifest.version),this.f.error(b)}}));try{await a.Promises.rm(this.m(p))}catch(b){this.f.error("Error while removing extension storage path",p.identifier.id),this.f.error(b)}}g(p,I){const b=`vscode:${I}`;if(p.location.scheme===R.Schemas.file&&p.manifest&&p.manifest.scripts&&typeof p.manifest.scripts[b]=="string"){const h=p.manifest.scripts[b].split(" ");return h.length<2||h[0]!=="node"||!h[1]?(this.f.warn(p.identifier.id,p.manifest.version,`${b} should be a node script`),null):{script:(0,w.$jc)(p.location.fsPath,h[1]),args:h.slice(2)||[]}}return null}h(p,I,b,h,g){return new Promise((O,y)=>{const i=this.j(p,I,b,g);let l;const n=s=>{l&&(clearTimeout(l),l=null),s?y(s):O(void 0)};i.on("error",s=>{n((0,v.$qj)(s)||"Unknown")}),i.on("exit",(s,t)=>{n(s?`post-${I} process exited with code ${s}`:void 0)}),h&&(l=setTimeout(()=>{l=null,i.kill(),y("timed out")},5e3))})}j(p,I,b,h){const g={silent:!0,execArgv:void 0},O=(0,S.fork)(p,[`--type=extension-post-${I}`,...b],g);O.stdout.setEncoding("utf8"),O.stderr.setEncoding("utf8");const y=k.Event.fromNodeEventEmitter(O.stdout,"data"),i=k.Event.fromNodeEventEmitter(O.stderr,"data");this.B(y(s=>this.f.info(h.identifier.id,h.manifest.version,`post-${I}`,s))),this.B(i(s=>this.f.error(h.identifier.id,h.manifest.version,`post-${I}`,s)));const l=k.Event.any(k.Event.map(y,s=>({data:`%c${s}`,format:[""]}),this.q),k.Event.map(i,s=>({data:`%c${s}`,format:["color: red"]}),this.q));return k.Event.debounce(l,(s,t)=>s?{data:s.data+t.data,format:[...s.format,...t.format]}:{data:t.data,format:t.format},100,void 0,void 0,void 0,this.q)(s=>{console.group(h.identifier.id),console.log(s.data,...s.format),console.groupEnd()}),O}m(p){return(0,w.$jc)(this.b.defaultProfile.globalStorageHome.fsPath,p.identifier.id.toLowerCase())}};e.$Vq=m,e.$Vq=m=be([re(0,c.$Ml),re(1,f.$ak)],m)}),define(ue[72],he([0,1,50,5,53,20]),function(Q,e,S,P,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Sq=C,e.$Tq=R;function C(w){let a=k.ExtensionManagementErrorCode.Extract;return w instanceof S.$Bq&&(w.type==="CorruptZip"?a=k.ExtensionManagementErrorCode.CorruptZip:w.type==="Incomplete"&&(a=k.ExtensionManagementErrorCode.IncompleteZip)),(0,v.$Gq)(w,a)}async function R(w){let a;try{a=await(0,S.$Eq)(w,"extension/package.json")}catch(f){throw C(f)}try{return JSON.parse(a.toString("utf8"))}catch{throw new k.$np((0,P.localize)(11451,null),k.ExtensionManagementErrorCode.Invalid)}}}),define(ue[137],he([0,1,8,7,2,14,16,45,3,28,29,50,30,17,53,20,26,72,71,9,6,18]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m,d,p,I,b,h,g,O,y,i){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.$Uq=void 0,R=ye(R);let n=class extends v.$Uc{static{l=this}static{this.c=".sigzip"}constructor(t,r,o,u,$,N,L){super(),this.h=r,this.j=o,this.m=u,this.n=$,this.r=N,this.t=L,this.extensionsDownloadDir=t.extensionsDownloadLocation,this.f=20,this.g=this.F()}async download(t,r,o,u){await this.g;const $=await this.w(t,r);let N=!1;if(o&&this.u(t)){let L;try{L=await this.y(t)}catch(A){try{await this.delete($)}catch(D){this.t.error(D)}throw A}try{N=await this.n.verify(t,$.fsPath,L.fsPath,u)}catch(A){if(N=A.code,N===g.ExtensionSignatureVerificationCode.PackageIsInvalidZip||N===g.ExtensionSignatureVerificationCode.SignatureArchiveIsInvalidZip){try{await this.delete($)}catch(D){this.t.error(D)}throw new I.$np(c.$Aq,I.ExtensionManagementErrorCode.CorruptZip)}}finally{try{await this.delete(L)}catch(A){this.t.error(A)}}}return{location:$,verificationStatus:N}}u(t){if(!t.isSigned)return this.t.info(`Extension is not signed: ${t.identifier.id}`),!1;const r=this.m.getValue("extensions.verifySignature");return(0,w.$kg)(r)?r:!0}async w(t,r){try{const o=(0,C.$gh)(this.extensionsDownloadDir,this.G(t)),u=await this.C(t,"vsix",async()=>{await this.z(t,o,$=>this.j.download(t,$,r));try{await this.D(o.fsPath,"extension/package.json")}catch($){try{await this.h.del(o)}catch(N){this.t.warn(`Error while deleting: ${o.path}`,(0,P.$9)(N))}throw $}},2);return u>1&&this.r.publicLog2("extensiongallery:downloadvsix:retry",{extensionId:t.identifier.id,attempts:u}),o}catch(o){throw(0,p.$Gq)(o,I.ExtensionManagementErrorCode.Download)}}async y(t){try{const r=(0,C.$gh)(this.extensionsDownloadDir,`.${(0,a.$2g)()}`),o=await this.C(t,"sigzip",async()=>{await this.j.downloadSignatureArchive(t,r);try{await this.D(r.fsPath,".signature.p7s")}catch(u){try{await this.h.del(r)}catch($){this.t.warn(`Error while deleting: ${r.path}`,(0,P.$9)($))}throw u}},2);return o>1&&this.r.publicLog2("extensiongallery:downloadsigzip:retry",{extensionId:t.identifier.id,attempts:o}),r}catch(r){throw(0,p.$Gq)(r,I.ExtensionManagementErrorCode.DownloadSignature)}}async z(t,r,o){if(await this.h.exists(r))return;if(r.scheme!==k.Schemas.file){await o(r);return}const u=(0,C.$gh)(this.extensionsDownloadDir,`.${(0,a.$2g)()}`);try{await o(u)}catch($){try{await this.h.del(u)}catch{}throw $}try{await f.Promises.rename(u.fsPath,r.fsPath,2*60*1e3)}catch($){try{await this.h.del(u)}catch{}let N=!1;try{N=await this.h.exists(r)}catch{}if(N)this.t.info("Rename failed because the file was downloaded by another source. So ignoring renaming.",t.identifier.id,r.path);else throw this.t.info(`Rename failed because of ${(0,P.$9)($)}. Deleted the file from downloaded location`,u.path),$}}async C(t,r,o,u){let $=1;for(;;)try{return await o(),$}catch(N){if($++>u)throw N;this.t.warn(`Failed downloading ${r}. ${(0,P.$9)(N)}. Retry again...`,t.identifier.id)}}async D(t,r){try{await(0,c.$Eq)(t,r)}catch(o){throw(0,h.$Sq)(o)}}async delete(t){await this.g,await this.h.del(t)}async F(){try{if(!await this.h.exists(this.extensionsDownloadDir)){this.t.trace("Extension VSIX downloads cache dir does not exist");return}const t=await this.h.resolve(this.extensionsDownloadDir,{resolveMetadata:!0});if(t.children){const r=[],o=[],u=[];for(const L of t.children)if(L.name.endsWith(l.c))u.push(L.resource);else{const A=b.$Np.parse(L.name);A&&o.push([A,L])}const $=(0,b.$Sp)(o,([L])=>L),N=[];for(const L of $)L.sort((A,D)=>R.rcompare(A[0].version,D[0].version)),r.push(...L.slice(1).map(A=>A[1].resource)),N.push(L[0][1]);N.sort((L,A)=>L.mtime-A.mtime),r.push(...N.slice(0,Math.max(0,N.length-this.f)).map(L=>L.resource)),r.push(...u),await S.Promises.settled(r.map(L=>(this.t.trace("Deleting from cache",L.path),this.h.del(L))))}}catch(t){this.t.error(t)}}G(t){return this.f?b.$Np.create(t).toString().toLowerCase():(0,a.$2g)()}};e.$Uq=n,e.$Uq=n=l=be([re(0,d.$Ni),re(1,O.$al),re(2,I.$lp),re(3,m.$_i),re(4,g.$tq),re(5,i.$_l),re(6,y.$ak)],n)}),define(ue[138],he([0,1,32,8,13,21,38,7,4,43,2,25,14,15,16,45,3,11,28,29,50,5,61,17,53,20,26,42,54,137,136,72,118,125,22,44,9,10,6,33,18,23,24]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m,d,p,I,b,h,g,O,y,i,l,n,s,t,r,o,u,$,N,L,A,D,U,G,Z,te,ae,le,de,H,Y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$1q=e.$Zq=e.$Yq=void 0,S=ye(S),d=ye(d),I=ye(I),O=ye(O),i=ye(i),e.$Yq=(0,te.$Gi)(t.$op);const B=".vsctmp";let q=class extends s.$Fq{constructor(T,W,z,E,j,X,F,M,x,ne,oe,ce){super(T,W,oe,z,ne,ce),this.db=j,this.eb=X,this.fb=F,this.gb=M,this.hb=x,this.cb=new Map,this.sb=new c.$Bc;const ve=this.B(M.createInstance(N.$Vq));this.$=this.B(M.createInstance(K,$e=>ve.postUninstall($e))),this.ab=this.B(new A.$Wq(ce,x,oe,this,this.F)),this.bb=this.B(M.createInstance($.$Uq));const fe=this.B(new D.$Xq(this,this.db,ce,X,oe,x,z));this.B(fe.onDidChangeExtensionsByAnotherSource($e=>this.rb($e))),this.tb()}getTargetPlatform(){return this.ib||(this.ib=(0,r.$Xp)(this.hb,this.F)),this.ib}async zip(T){this.F.trace("ExtensionManagementService#zip",T.identifier.id);const W=await this.qb(T),z=await(0,y.zip)((0,p.$gh)(this.bb.extensionsDownloadDir,(0,g.$2g)()).fsPath,W);return h.URI.file(z)}async getManifest(T){const{location:W,cleanup:z}=await this.kb(T),E=d.$kc(W.fsPath);try{return await(0,L.$Tq)(E)}finally{await z()}}getInstalled(T,W=this.H.defaultProfile.extensionsResource,z={version:this.G.version,date:this.G.date}){return this.$.scanExtensions(T??null,W,z)}scanAllUserInstalledExtensions(){return this.$.scanAllUserExtensions(!1)}scanInstalledExtensionAtLocation(T){return this.$.scanUserExtensionAtLocation(T)}async install(T,W={}){this.F.trace("ExtensionManagementService#install",T.toString());const{location:z,cleanup:E}=await this.kb(T);try{const j=await(0,L.$Tq)(d.$kc(z.fsPath)),X=(0,r.$Rp)(j.publisher,j.name);if(j.engines&&j.engines.vscode&&!(0,G.$6p)(j.engines.vscode,this.G.version,this.G.date))throw new Error(i.localize(11452,null,X,this.G.version));const M=(await this.I([{manifest:j,extension:z,options:W}])).find(({identifier:x})=>(0,r.$Mp)(x,{id:X}));if(M?.local)return M.local;throw M?.error?M.error:(0,s.$Gq)(new Error(`Unknown error while installing extension ${X}`))}finally{await E()}}async installFromLocation(T,W){this.F.trace("ExtensionManagementService#installFromLocation",T.toString());const z=await this.$.scanUserExtensionAtLocation(T);if(!z||!z.manifest.name||!z.manifest.version)throw new Error(`Cannot find a valid extension from the location ${T.toString()}`);return await this.vb([[z,{source:"resource"}]],W),this.F.info("Successfully installed extension",z.identifier.id,W.toString()),z}async installExtensionsFromProfile(T,W,z){this.F.trace("ExtensionManagementService#installExtensionsFromProfile",T,W.toString(),z.toString());const E=(await this.getInstalled(U.ExtensionType.User,W)).filter(j=>T.some(X=>(0,r.$Mp)(X,j.identifier)));if(E.length){const j=await Promise.all(E.map(X=>this.$.scanMetadata(X,W)));await this.vb(E.map((X,F)=>[X,j[F]]),z),this.F.info("Successfully installed extensions",E.map(X=>X.identifier.id),z.toString())}return E}async updateMetadata(T,W,z){return this.F.trace("ExtensionManagementService#updateMetadata",T.identifier.id),W.isPreReleaseVersion&&(W.preRelease=!0,W.hasPreReleaseVersion=!0),W.isMachineScoped===!1&&(W.isMachineScoped=void 0),W.isBuiltin===!1&&(W.isBuiltin=void 0),W.pinned===!1&&(W.pinned=void 0),T=await this.$.updateMetadata(T,W,z),this.ab.invalidate(z),this.w.fire({local:T,profileLocation:z}),T}async reinstallFromGallery(T){if(this.F.trace("ExtensionManagementService#reinstallFromGallery",T.identifier.id),!this.z.isEnabled())throw new Error(i.localize(11453,null));const W=await this.getTargetPlatform(),[z]=await this.z.getExtensions([{...T.identifier,preRelease:T.preRelease}],{targetPlatform:W,compatible:!0},k.CancellationToken.None);if(!z)throw new Error(i.localize(11454,null));await this.$.setUninstalled(T);try{await this.$.removeUninstalledExtension(T)}catch(E){throw new Error(i.localize(11455,null,(0,C.$qj)(E)))}return this.installFromGallery(z)}Z(T,W,z,E){return this.$.copyExtension(T,W,z,E)}copyExtensions(T,W){return this.$.copyExtensions(T,W,{version:this.G.version,date:this.G.date})}markAsUninstalled(...T){return this.$.setUninstalled(...T)}async cleanUp(){this.F.trace("ExtensionManagementService#cleanUp");try{await this.$.cleanUp()}catch(T){this.F.error(T)}}async download(T,W,z){const{location:E}=await this.bb.download(T,W,!z);return E}async kb(T){if(T.scheme===m.Schemas.file)return{location:T,async cleanup(){}};this.F.trace("Downloading extension from",T.toString());const W=(0,p.$gh)(this.bb.extensionsDownloadDir,(0,g.$2g)());return await this.fb.download(T,W),this.F.info("Downloaded extension to",W.toString()),{location:W,cleanup:async()=>{try{await this.hb.del(W)}catch(E){this.F.error(E)}}}}W(){return this.H.defaultProfile.extensionsResource}X(T,W,z){const E=W instanceof h.URI?new r.$Np({id:(0,r.$Rp)(T.publisher,T.name)},T.version):r.$Np.create(W);return this.gb.createInstance(J,E,T,W,z,(j,X)=>{if(W instanceof h.URI)return this.pb(E,W,z,X);let F=this.cb.get(E.toString());return F||(this.cb.set(E.toString(),F=this.ob(E,W,j,z,X)),F.finally(()=>this.cb.delete(E.toString()))),F},this.$)}Y(T,W){return new ie(T,W,this.eb)}async ob(T,W,z,E,j){const{verificationStatus:X,location:F}=await this.bb.download(W,z,!E.donotVerifySignature,E.context?.[t.$ep]);try{if(j.isCancellationRequested)throw new R.$4;const M=await(0,L.$Tq)(F.fsPath);if(!new r.$Np(W.identifier,W.version).equals(new r.$Np({id:(0,r.$Rp)(M.publisher,M.name)},M.version)))throw new t.$np(i.localize(11456,null,W.identifier.id),t.ExtensionManagementErrorCode.Invalid);return{local:await this.$.extractUserExtension(T,F.fsPath,{id:W.identifier.uuid,publisherId:W.publisherId,publisherDisplayName:W.publisherDisplayName,targetPlatform:W.properties.targetPlatform,isApplicationScoped:E.isApplicationScoped,isMachineScoped:E.isMachineScoped,isBuiltin:E.isBuiltin,isPreReleaseVersion:W.properties.isPreReleaseVersion,hasPreReleaseVersion:W.properties.isPreReleaseVersion,installedTimestamp:Date.now(),pinned:E.installGivenVersion?!0:!!E.pinned,preRelease:(0,b.$kg)(E.preRelease)?E.preRelease:E.installPreReleaseVersion||W.properties.isPreReleaseVersion,source:"gallery"},!1,j),verificationStatus:X}}catch(M){try{await this.bb.delete(F)}catch(x){this.F.warn("Error while deleting the downloaded file",F.toString(),(0,R.$9)(x))}throw(0,s.$Gq)(M)}}async pb(T,W,z,E){return{local:await this.$.extractUserExtension(T,d.$kc(W.fsPath),{isApplicationScoped:z.isApplicationScoped,isMachineScoped:z.isMachineScoped,isBuiltin:z.isBuiltin,installedTimestamp:Date.now(),pinned:z.installGivenVersion?!0:!!z.pinned,source:"vsix"},z.keepExisting??!0,E)}}async qb(T){const W=async E=>{let j=await O.Promises.readdir(E);j=j.map(M=>d.$jc(E,M));const X=await Promise.all(j.map(M=>S.promises.stat(M)));let F=Promise.resolve([]);return X.forEach((M,x)=>{const ne=j[x];M.isFile()&&(F=F.then(oe=>[...oe,ne])),M.isDirectory()&&(F=F.then(oe=>W(ne).then(ce=>[...oe,...ce])))}),F};return(await W(T.location.fsPath)).map(E=>({path:`extension/${d.$lc(T.location.fsPath,E)}`,localPath:E}))}async rb({added:T,removed:W}){if(W){const z=T&&this.D.extUri.isEqual(W.profileLocation,T.profileLocation)?W.extensions.filter(E=>T.extensions.every(j=>!(0,r.$Mp)(j,E))):W.extensions;for(const E of z)this.F.info("Extensions removed from another source",E.id,W.profileLocation.toString()),this.u.fire({identifier:E,profileLocation:W.profileLocation})}if(T){const E=(await this.getInstalled(U.ExtensionType.User,T.profileLocation)).filter(j=>T.extensions.some(X=>(0,r.$Mp)(X,j.identifier)));this.s.fire(E.map(j=>(this.F.info("Extensions added from another source",j.identifier.id,T.profileLocation.toString()),{identifier:j.identifier,local:j,profileLocation:T.profileLocation,operation:t.InstallOperation.None})))}}async tb(){this.B(this.$.onExtract(W=>this.sb.add(W)));const T=await this.hb.resolve(this.db.userExtensionsLocation);for(const W of T.children??[])W.isDirectory&&this.sb.add(W.resource);this.B(this.hb.watch(this.db.userExtensionsLocation)),this.B(this.hb.onDidFilesChange(W=>this.ub(W)))}async ub(T){if(!T.affects(this.db.userExtensionsLocation,Z.FileChangeType.ADDED))return;const W=[];for(const z of T.rawAdded){if(this.sb.has(z)||!this.D.extUri.isEqual(this.D.extUri.dirname(z),this.db.userExtensionsLocation)||this.D.extUri.isEqual(z,this.D.extUri.joinPath(this.db.userExtensionsLocation,".obsolete"))||this.D.extUri.basename(z).startsWith(".")||!(await this.hb.stat(z)).isDirectory)continue;const E=await this.$.scanUserExtensionAtLocation(z);E&&E.installedTimestamp===void 0&&(this.sb.add(z),W.push(E))}W.length&&(await this.vb(W.map(z=>[z,void 0]),this.H.defaultProfile.extensionsResource),this.F.info("Added extensions to default profile from external source",W.map(z=>z.identifier.id)))}async vb(T,W){const z=T.map(E=>E[0]);await this.wb(z),await this.eb.addExtensionsToProfile(T,W),this.s.fire(z.map(E=>({local:E,identifier:E.identifier,operation:t.InstallOperation.None,profileLocation:W})))}async wb(T){const W=await this.$.getUninstalledExtensions();for(const z of T){const E=r.$Np.create(z);W[E.toString()]&&(this.F.trace("Removing the extension from uninstalled list:",E.id),await this.$.setInstalled(E),this.F.info("Removed the extension from uninstalled list:",E.id))}}};e.$Zq=q,e.$Zq=q=be([re(0,t.$lp),re(1,de.$_l),re(2,ae.$ak),re(3,n.$Ni),re(4,u.$Nq),re(5,o.$Jq),re(6,l.$2o),re(7,te.$Ei),re(8,Z.$al),re(9,le.$tk),re(10,H.$Kl),re(11,Y.$Ml)],q);let K=class extends f.$Uc{constructor(T,W,z,E,j,X,F){super(),this.n=T,this.s=W,this.t=z,this.u=E,this.w=j,this.y=X,this.z=F,this.h=this.B(new w.$le),this.onExtract=this.h.event,this.j=new c.$Ac,this.m=new c.$Ac,this.c=(0,p.$gh)(this.t.userExtensionsLocation,".obsolete"),this.g=new P.$Mh}async cleanUp(){await this.J(),await this.I()}async scanExtensions(T,W,z){try{const E={includeInvalid:!0,profileLocation:W,productVersion:z};let j=[];if(T===null||T===U.ExtensionType.System){let X=this.j.get(W);X||(X=this.t.scanAllExtensions({includeInvalid:!0,useCache:!0},E,!1).finally(()=>this.j.delete(W)),this.j.set(W,X)),j.push(...await X)}else if(T===U.ExtensionType.User){let X=this.m.get(W);X||(X=this.t.scanUserExtensions(E).finally(()=>this.m.delete(W)),this.m.set(W,X)),j.push(...await X)}return j=T!==null?j.filter(X=>X.type===T):j,await Promise.all(j.map(X=>this.H(X)))}catch(E){throw(0,s.$Gq)(E,t.ExtensionManagementErrorCode.Scanning)}}async scanAllUserExtensions(T){try{const W=await this.t.scanUserExtensions({includeAllVersions:!T,includeInvalid:!0});return await Promise.all(W.map(z=>this.H(z)))}catch(W){throw(0,s.$Gq)(W,t.ExtensionManagementErrorCode.Scanning)}}async scanUserExtensionAtLocation(T){try{const W=await this.t.scanExistingExtension(T,U.ExtensionType.User,{includeInvalid:!0});if(W)return await this.H(W)}catch(W){this.z.error(W)}return null}async extractUserExtension(T,W,z,E,j){const X=T.toString(),F=h.URI.file(d.$jc(this.t.userExtensionsLocation.fsPath,`.${(0,g.$2g)()}`)),M=h.URI.file(d.$jc(this.t.userExtensionsLocation.fsPath,X));if(await this.s.exists(M)){if(!E)try{return await this.scanLocalExtension(M,U.ExtensionType.User)}catch(x){this.z.warn(`Error while scanning the existing extension at ${M.path}. Deleting the existing extension and extracting it.`,(0,R.$9)(x))}try{await this.D(T.id,M,"removeExisting")}catch{throw new t.$np(i.localize(11457,null,M.fsPath,T.id),t.ExtensionManagementErrorCode.Delete)}}try{if(j.isCancellationRequested)throw new R.$4;try{this.z.trace(`Started extracting the extension from ${W} to ${M.fsPath}`),await(0,y.$Dq)(W,F.fsPath,{sourcePath:"extension",overwrite:!0},j),this.z.info(`Extracted extension to ${M}:`,T.id)}catch(x){throw(0,L.$Sq)(x)}try{await this.t.updateMetadata(F,z)}catch(x){throw this.y.publicLog2("extension:extract",{extensionId:T.id,code:`${(0,Z.$rl)(x)}`}),(0,s.$Gq)(x,t.ExtensionManagementErrorCode.UpdateMetadata)}if(j.isCancellationRequested)throw new R.$4;try{this.z.trace(`Started renaming the extension from ${F.fsPath} to ${M.fsPath}`),await this.G(F.fsPath,M.fsPath),this.z.info("Renamed to",M.fsPath)}catch(x){if(x.code==="ENOTEMPTY"){this.z.info("Rename failed because extension was installed by another source. So ignoring renaming.",T.id);try{await this.s.del(F,{recursive:!0})}catch{}}else throw this.z.info(`Rename failed because of ${(0,R.$9)(x)}. Deleted from extracted location`,F),x}this.h.fire(M)}catch(x){try{await this.s.del(F,{recursive:!0})}catch{}throw x}return this.scanLocalExtension(M,U.ExtensionType.User)}async scanMetadata(T,W){return W?(await this.C(T,W))?.metadata:this.t.scanMetadata(T.location)}async C(T,W){return(await this.u.scanProfileExtensions(W)).find(E=>(0,r.$Mp)(E.identifier,T.identifier))}async updateMetadata(T,W,z){try{z?await this.u.updateMetadata([[T,W]],z):await this.t.updateMetadata(T.location,W)}catch(E){throw this.y.publicLog2("extension:extract",{extensionId:T.identifier.id,code:`${(0,Z.$rl)(E)}`,isProfile:!!z}),(0,s.$Gq)(E,t.ExtensionManagementErrorCode.UpdateMetadata)}return this.scanLocalExtension(T.location,T.type,z)}async getUninstalledExtensions(){try{return await this.F()}catch(T){throw(0,s.$Gq)(T,t.ExtensionManagementErrorCode.ReadUninstalled)}}async setUninstalled(...T){const W=T.map(z=>r.$Np.create(z));await this.F(z=>W.forEach(E=>{z[E.toString()]=!0,this.z.info("Marked extension as uninstalled",E.toString())}))}async setInstalled(T){try{await this.F(W=>delete W[T.toString()])}catch(W){throw(0,s.$Gq)(W,t.ExtensionManagementErrorCode.UnsetUninstalled)}}async removeExtension(T,W){if(this.w.extUri.isEqualOrParent(T.location,this.t.userExtensionsLocation))return this.D(T.identifier.id,T.location,W)}async removeUninstalledExtension(T){await this.removeExtension(T,"uninstalled"),await this.F(W=>delete W[r.$Np.create(T).toString()])}async copyExtension(T,W,z,E){const j=await this.C(T,W),X=await this.C(T,z);if(E={...j?.metadata,...E},X)if(this.w.extUri.isEqual(X.location,T.location))await this.u.updateMetadata([[T,{...X.metadata,...E}]],z);else{const F=await this.scanLocalExtension(X.location,T.type,z);await this.u.removeExtensionFromProfile(F,z),await this.u.addExtensionsToProfile([[T,{...X.metadata,...E}]],z)}else await this.u.addExtensionsToProfile([[T,E]],z);return this.scanLocalExtension(T.location,T.type,z)}async copyExtensions(T,W,z){const E=await this.scanExtensions(U.ExtensionType.User,T,z),j=await Promise.all(E.filter(X=>!X.isApplicationScoped).map(async X=>[X,await this.scanMetadata(X,T)]));await this.u.addExtensionsToProfile(j,W)}async D(T,W,z){this.z.trace(`Deleting ${z} extension from disk`,T,W.fsPath);const E=this.w.extUri.joinPath(this.w.extUri.dirname(W),`${this.w.extUri.basename(W)}.${(0,a.$tj)((0,g.$2g)()).toString(16)}${B}`);await this.G(W.fsPath,E.fsPath),await this.s.del(E,{recursive:!0}),this.z.info(`Deleted ${z} extension from disk`,T,W.fsPath)}F(T){return this.g.queue(async()=>{let W;try{W=(await this.s.readFile(this.c,"utf8")).value.toString()}catch(E){if((0,Z.$rl)(E)!==Z.FileOperationResult.FILE_NOT_FOUND)throw E}let z={};if(W)try{z=JSON.parse(W)}catch{}return T&&(T(z),Object.keys(z).length?await this.s.writeFile(this.c,v.$Ne.fromString(JSON.stringify(z))):await this.s.del(this.c)),z})}async G(T,W){try{await O.Promises.rename(T,W,2*60*1e3)}catch(z){throw(0,s.$Gq)(z,t.ExtensionManagementErrorCode.Rename)}}async scanLocalExtension(T,W,z){try{if(z){const j=(await this.t.scanUserExtensions({profileLocation:z})).find(X=>this.w.extUri.isEqual(X.location,T));if(j)return await this.H(j)}else{const E=await this.t.scanExistingExtension(T,W,{includeInvalid:!0});if(E)return await this.H(E)}throw new t.$np(i.localize(11458,null,T.path),t.ExtensionManagementErrorCode.ScanningExtension)}catch(E){throw(0,s.$Gq)(E,t.ExtensionManagementErrorCode.ScanningExtension)}}async H(T){const W=await this.s.resolve(T.location);let z,E;return W.children&&(z=W.children.find(({name:j})=>/^readme(\.txt|\.md|)$/i.test(j))?.resource,E=W.children.find(({name:j})=>/^changelog(\.txt|\.md|)$/i.test(j))?.resource),{identifier:T.identifier,type:T.type,isBuiltin:T.isBuiltin||!!T.metadata?.isBuiltin,location:T.location,manifest:T.manifest,targetPlatform:T.targetPlatform,validations:T.validations,isValid:T.isValid,readmeUrl:z,changelogUrl:E,publisherDisplayName:T.metadata?.publisherDisplayName,publisherId:T.metadata?.publisherId||null,isApplicationScoped:!!T.metadata?.isApplicationScoped,isMachineScoped:!!T.metadata?.isMachineScoped,isPreReleaseVersion:!!T.metadata?.isPreReleaseVersion,hasPreReleaseVersion:!!T.metadata?.hasPreReleaseVersion,preRelease:!!T.metadata?.preRelease,installedTimestamp:T.metadata?.installedTimestamp,updated:!!T.metadata?.updated,pinned:!!T.metadata?.pinned,isWorkspaceScoped:!1,source:T.metadata?.source??(T.identifier.uuid?"gallery":"vsix")}}async I(){const T=await this.getUninstalledExtensions();if(Object.keys(T).length===0){this.z.debug("No uninstalled extensions found.");return}this.z.debug("Removing uninstalled extensions:",Object.keys(T));const W=await this.t.scanUserExtensions({includeAllVersions:!0,includeUninstalled:!0,includeInvalid:!0}),z=new Set;for(const j of W)T[r.$Np.create(j).toString()]||z.add(j.identifier.id.toLowerCase());try{const j=(0,r.$Sp)(W,X=>X.identifier);await P.Promises.settled(j.map(async X=>{const F=X.sort((M,x)=>I.rcompare(M.manifest.version,x.manifest.version))[0];z.has(F.identifier.id.toLowerCase())||await this.n(await this.H(F))}))}catch(j){this.z.error(j)}const E=W.filter(j=>j.metadata&&T[r.$Np.create(j).toString()]);await Promise.allSettled(E.map(j=>this.removeUninstalledExtension(j)))}async J(){this.z.trace("ExtensionManagementService#removeTempDeleteFolders");let T;try{T=await this.s.resolve(this.t.userExtensionsLocation)}catch(W){(0,Z.$rl)(W)!==Z.FileOperationResult.FILE_NOT_FOUND&&this.z.error(W);return}if(T?.children)try{await Promise.allSettled(T.children.map(async W=>{if(!(!W.isDirectory||!W.name.endsWith(B))){this.z.trace("Deleting the temporarily deleted folder",W.resource.toString());try{await this.s.del(W.resource,{recursive:!0}),this.z.trace("Deleted the temporarily deleted folder",W.resource.toString())}catch(z){(0,Z.$rl)(z)!==Z.FileOperationResult.FILE_NOT_FOUND&&this.z.error(z)}}}))}catch{}}};e.$1q=K,e.$1q=K=be([re(1,Z.$al),re(2,u.$Nq),re(3,o.$Jq),re(4,H.$Kl),re(5,de.$_l),re(6,ae.$ak)],K);let J=class extends s.$Hq{get operation(){return this.options.operation??this.j}get verificationStatus(){return this.k}constructor(T,W,z,E,j,X,F,M,x,ne,oe,ce){super(),this.l=T,this.manifest=W,this.source=z,this.options=E,this.m=j,this.n=X,this.o=F,this.p=M,this.q=x,this.s=ne,this.t=oe,this.u=ce,this.j=t.InstallOperation.Install,this.identifier=this.l.identifier}async h(T){const z=(await this.n.scanExtensions(U.ExtensionType.User,this.options.profileLocation,this.options.productVersion)).find(F=>(0,r.$Mp)(F.identifier,this.identifier));z&&(this.j=t.InstallOperation.Update);const E={isApplicationScoped:this.options.isApplicationScoped||z?.isApplicationScoped,isMachineScoped:this.options.isMachineScoped||z?.isMachineScoped,isBuiltin:this.options.isBuiltin||z?.isBuiltin,isSystem:z?.type===U.ExtensionType.System?!0:void 0,installedTimestamp:Date.now(),pinned:this.options.installGivenVersion?!0:this.options.pinned??z?.pinned,source:this.source instanceof h.URI?"vsix":"gallery"};let j;if(this.source instanceof h.URI){if(z&&this.l.equals(new r.$Np(z.identifier,z.manifest.version)))try{await this.n.removeExtension(z,"existing")}catch{throw new Error(i.localize(11459,null,this.manifest.displayName||this.manifest.name))}const F=await this.w(this.l);if(F)try{await this.n.removeExtension(F,"existing")}catch{throw new Error(i.localize(11460,null,this.manifest.displayName||this.manifest.name))}}else{if(E.id=this.source.identifier.uuid,E.publisherId=this.source.publisherId,E.publisherDisplayName=this.source.publisherDisplayName,E.targetPlatform=this.source.properties.targetPlatform,E.updated=!!z,E.isPreReleaseVersion=this.source.properties.isPreReleaseVersion,E.hasPreReleaseVersion=z?.hasPreReleaseVersion||this.source.properties.isPreReleaseVersion,E.preRelease=(0,b.$kg)(this.options.preRelease)?this.options.preRelease:this.options.installPreReleaseVersion||this.source.properties.isPreReleaseVersion||z?.preRelease,z&&z.type!==U.ExtensionType.System&&z.manifest.version===this.source.version)return this.n.updateMetadata(z,E,this.options.profileLocation);j=await this.w(this.l)}if(T.isCancellationRequested)throw(0,s.$Gq)(new R.$4);if(!j){const F=await this.m(this.operation,T);j=F.local,this.k=F.verificationStatus}if(this.o.extUri.isEqual(this.q.defaultProfile.extensionsResource,this.options.profileLocation))try{await this.s.initializeDefaultProfileExtensions()}catch(F){throw(0,s.$Gq)(F,t.ExtensionManagementErrorCode.IntializeDefaultProfile)}if(T.isCancellationRequested)throw(0,s.$Gq)(new R.$4);try{await this.t.addExtensionsToProfile([[j,E]],this.options.profileLocation,!j.isValid)}catch(F){throw(0,s.$Gq)(F,t.ExtensionManagementErrorCode.AddToProfile)}const X=await this.n.scanLocalExtension(j.location,U.ExtensionType.User,this.options.profileLocation);if(!X)throw new t.$np("Cannot find the installed extension",t.ExtensionManagementErrorCode.InstalledExtensionNotFound);return this.source instanceof h.URI&&this.x(j,T),X}async w(T){return(await this.n.getUninstalledExtensions())[T.toString()]?(this.u.trace("Removing the extension from uninstalled list:",T.id),await this.n.setInstalled(T),this.u.info("Removed the extension from uninstalled list:",T.id),(await this.n.scanAllUserExtensions(!0)).find(E=>r.$Np.create(E).equals(T))):void 0}async x(T,W){try{let[z]=await this.p.getExtensions([{id:T.identifier.id,version:T.manifest.version}],W);if(z||([z]=await this.p.getExtensions([{id:T.identifier.id}],W)),z){const E={id:z.identifier.uuid,publisherDisplayName:z.publisherDisplayName,publisherId:z.publisherId,isPreReleaseVersion:z.properties.isPreReleaseVersion,hasPreReleaseVersion:T.hasPreReleaseVersion||z.properties.isPreReleaseVersion,preRelease:z.properties.isPreReleaseVersion||this.options.installPreReleaseVersion};await this.n.updateMetadata(T,E,this.options.profileLocation)}}catch{}}};J=be([re(6,H.$Kl),re(7,t.$lp),re(8,Y.$Ml),re(9,u.$Nq),re(10,o.$Jq),re(11,ae.$ak)],J);class ie extends s.$Hq{constructor(T,W,z){super(),this.extension=T,this.options=W,this.j=z}async h(T){await this.j.removeExtensionFromProfile(this.extension,this.options.profileLocation)}}}),define(ue[139],he([0,1,6,24,23,18,42,9,17,11]),function(Q,e,S,P,v,k,C,R,w,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$JR=void 0;let f=class extends C.$Kq{constructor(m,d,p,I,b,h){super(a.URI.file(m.extensionsPath),d,p,I,b,h)}};e.$JR=f,e.$JR=f=be([re(0,w.$Ni),re(1,R.$al),re(2,P.$Ml),re(3,v.$Kl),re(4,k.$_l),re(5,S.$ak)],f)}),define(ue[140],he([0,1,11,17,42,54,9,10,6,33,23,24]),function(Q,e,S,P,v,k,C,R,w,a,f,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$uhc=void 0;let m=class extends k.$Rq{constructor(p,I,b,h,g,O,y,i){super(S.URI.file(g.builtinExtensionsPath),S.URI.file(g.extensionsPath),g.userHome,p.defaultProfile,p,I,b,h,g,O,y,i)}};e.$uhc=m,e.$uhc=m=be([re(0,c.$Ml),re(1,v.$Jq),re(2,C.$al),re(3,w.$ak),re(4,P.$Ni),re(5,a.$tk),re(6,f.$Kl),re(7,R.$Ei)],m)}),define(ue[73],he([0,1,8,4,2,108,3,88,10,24]),function(Q,e,S,P,v,k,C,R,w,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$mq=e.$kq=e.StorageTarget=e.StorageScope=e.WillSaveStateReason=e.$iq=e.$hq=e.$gq=void 0,e.$jq=d,e.$lq=I,e.$nq=h,e.$gq="__$__isNewStorageMarker",e.$hq="__$__targetStorageMarker",e.$iq=(0,w.$Fi)("storageService");var f;(function(g){g[g.NONE=0]="NONE",g[g.SHUTDOWN=1]="SHUTDOWN"})(f||(e.WillSaveStateReason=f={}));var c;(function(g){g[g.APPLICATION=-1]="APPLICATION",g[g.PROFILE=0]="PROFILE",g[g.WORKSPACE=1]="WORKSPACE"})(c||(e.StorageScope=c={}));var m;(function(g){g[g.USER=0]="USER",g[g.MACHINE=1]="MACHINE"})(m||(e.StorageTarget=m={}));function d(g){const O=g.get(e.$hq);if(O)try{return JSON.parse(O)}catch{}return Object.create(null)}class p extends v.$Uc{static{this.a=60*1e3}constructor(O={flushInterval:p.a}){super(),this.m=O,this.b=this.B(new P.$oe),this.c=this.B(new P.$oe),this.onDidChangeTarget=this.c.event,this.f=this.B(new P.$le),this.onWillSaveState=this.f.event,this.h=this.B(new S.$Rh(()=>this.n(),this.m.flushInterval)),this.j=this.B(new v.$Vc),this.C=void 0,this.F=void 0,this.H=void 0}onDidChangeValue(O,y,i){return P.Event.filter(this.b.event,l=>l.scope===O&&(y===void 0||l.key===y),i)}n(){this.j.value=(0,S.$Vh)(()=>{this.r()&&this.flush(),this.h.schedule()})}r(){return!0}t(){(0,v.$Pc)([this.j,this.h])}initialize(){return this.g||(this.g=(async()=>{(0,k.mark)("code/willInitStorage");try{await this.O()}finally{(0,k.mark)("code/didInitStorage")}this.h.schedule()})()),this.g}u(O,y){const{key:i,external:l}=y;if(i===e.$hq){switch(O){case c.APPLICATION:this.H=void 0;break;case c.PROFILE:this.F=void 0;break;case c.WORKSPACE:this.C=void 0;break}this.c.fire({scope:O})}else this.b.fire({scope:O,key:i,target:this.J(O)[i],external:l})}w(O){this.f.fire({reason:O})}get(O,y,i){return this.P(y)?.get(O,i)}getBoolean(O,y,i){return this.P(y)?.getBoolean(O,i)}getNumber(O,y,i){return this.P(y)?.getNumber(O,i)}getObject(O,y,i){return this.P(y)?.getObject(O,i)}storeAll(O,y){this.y(()=>{for(const i of O)this.store(i.key,i.value,i.scope,i.target,y)})}store(O,y,i,l,n=!1){if((0,C.$ng)(y)){this.remove(O,i,n);return}this.y(()=>{this.z(O,i,l),this.P(i)?.set(O,y,n)})}remove(O,y,i=!1){this.y(()=>{this.z(O,y,void 0),this.P(y)?.delete(O,i)})}y(O){this.b.pause(),this.c.pause();try{O()}finally{this.b.resume(),this.c.resume()}}keys(O,y){const i=[],l=this.J(O);for(const n of Object.keys(l))l[n]===y&&i.push(n);return i}z(O,y,i,l=!1){const n=this.J(y);typeof i=="number"?n[O]!==i&&(n[O]=i,this.P(y)?.set(e.$hq,JSON.stringify(n),l)):typeof n[O]=="number"&&(delete n[O],this.P(y)?.set(e.$hq,JSON.stringify(n),l))}get D(){return this.C||(this.C=this.L(c.WORKSPACE)),this.C}get G(){return this.F||(this.F=this.L(c.PROFILE)),this.F}get I(){return this.H||(this.H=this.L(c.APPLICATION)),this.H}J(O){switch(O){case c.APPLICATION:return this.I;case c.PROFILE:return this.G;default:return this.D}}L(O){const y=this.P(O);return y?d(y):Object.create(null)}isNew(O){return this.getBoolean(e.$gq,O)===!0}async flush(O=f.NONE){this.f.fire({reason:O});const y=this.P(c.APPLICATION),i=this.P(c.PROFILE),l=this.P(c.WORKSPACE);switch(O){case f.NONE:await S.Promises.settled([y?.whenFlushed()??Promise.resolve(),i?.whenFlushed()??Promise.resolve(),l?.whenFlushed()??Promise.resolve()]);break;case f.SHUTDOWN:await S.Promises.settled([y?.flush(0)??Promise.resolve(),i?.flush(0)??Promise.resolve(),l?.flush(0)??Promise.resolve()]);break}}async log(){const O=this.P(c.APPLICATION)?.items??new Map,y=this.P(c.PROFILE)?.items??new Map,i=this.P(c.WORKSPACE)?.items??new Map;return h(O,y,i,this.Q(c.APPLICATION)??"",this.Q(c.PROFILE)??"",this.Q(c.WORKSPACE)??"")}async optimize(O){return await this.flush(),this.P(O)?.optimize()}async switch(O,y){return this.w(f.NONE),(0,a.$Ll)(O)?this.R(O,y):this.S(O,y)}M(O,y){return!(O.id===y.id||I(y)&&I(O))}N(O,y,i){this.y(()=>{const l=new Set;for(const[n,s]of O)l.add(n),y.get(n)!==s&&this.u(i,{key:n,external:!0});for(const[n]of y.items)l.has(n)||this.u(i,{key:n,external:!0})})}}e.$kq=p;function I(g){return g.isDefault||!!g.useDefaultFlags?.globalState}class b extends p{constructor(){super(),this.U=this.B(new R.$eq(new R.$fq,{hint:R.StorageHint.STORAGE_IN_MEMORY})),this.W=this.B(new R.$eq(new R.$fq,{hint:R.StorageHint.STORAGE_IN_MEMORY})),this.X=this.B(new R.$eq(new R.$fq,{hint:R.StorageHint.STORAGE_IN_MEMORY})),this.B(this.X.onDidChangeStorage(O=>this.u(c.WORKSPACE,O))),this.B(this.W.onDidChangeStorage(O=>this.u(c.PROFILE,O))),this.B(this.U.onDidChangeStorage(O=>this.u(c.APPLICATION,O)))}P(O){switch(O){case c.APPLICATION:return this.U;case c.PROFILE:return this.W;default:return this.X}}Q(O){switch(O){case c.APPLICATION:return"inMemory (application)";case c.PROFILE:return"inMemory (profile)";default:return"inMemory (workspace)"}}async O(){}async R(){}async S(){}r(){return!1}hasScope(O){return!1}}e.$mq=b;async function h(g,O,y,i,l,n){const s=D=>{try{return JSON.parse(D)}catch{return D}},t=new Map,r=new Map;g.forEach((D,U)=>{t.set(U,D),r.set(U,s(D))});const o=new Map,u=new Map;O.forEach((D,U)=>{o.set(U,D),u.set(U,s(D))});const $=new Map,N=new Map;y.forEach((D,U)=>{$.set(U,D),N.set(U,s(D))}),console.group(i!==l?`Storage: Application (path: ${i})`:`Storage: Application & Profile (path: ${i}, default profile)`);const L=[];if(t.forEach((D,U)=>{L.push({key:U,value:D})}),console.table(L),console.groupEnd(),console.log(r),i!==l){console.group(`Storage: Profile (path: ${l}, profile specific)`);const D=[];o.forEach((U,G)=>{D.push({key:G,value:U})}),console.table(D),console.groupEnd(),console.log(u)}console.group(`Storage: Workspace (path: ${n})`);const A=[];$.forEach((D,U)=>{A.push({key:U,value:D})}),console.table(A),console.groupEnd(),console.log(N)}}),define(ue[141],he([0,1,13,28,73]),function(Q,e,S,P,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$oq=k;async function k(C,R,w){let a=w&&w.get("storage.serviceMachineId",v.StorageScope.APPLICATION)||null;if(a)return a;try{const c=(await R.readFile(C.serviceMachineIdResource)).value.toString();a=(0,P.$1g)(c)?c:null}catch{a=null}if(!a){a=(0,P.$2g)();try{await R.writeFile(C.serviceMachineIdResource,S.$Ne.fromString(a))}catch{}}return w?.store("storage.serviceMachineId",a,v.StorageScope.APPLICATION,v.StorageTarget.MACHINE),a}}),define(ue[142],he([0,1,141,18,41]),function(Q,e,S,P,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$pq=k;async function k(C,R,w,a,f,c,m){const d={"X-Market-Client-Id":`VSCode ${C}`,"User-Agent":`VSCode ${C} (${R.nameShort})`};if((0,v.$Ep)(R,w)&&(0,v.$Gp)(a)===P.TelemetryLevel.USAGE){const p=await(0,S.$oq)(w,f,c);d["X-Market-User-Id"]=p,d["VSCode-SessionId"]=m.machineId||p}return d}}),define(ue[143],he([0,1,19,21,7,12,36,3,11,30,17,20,26,22,44,9,6,33,46,142,73,18,155]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m,d,p,I,b,h,g,O,y,i,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$sq=e.$rq=void 0,e.$qq=T;const n=k.$p?d.TargetPlatform.WEB:(0,c.$hp)(k.$v,C.$ec),s="X-Market-Search-Activity-Id";var t;(function(F){F[F.None=0]="None",F[F.IncludeVersions=1]="IncludeVersions",F[F.IncludeFiles=2]="IncludeFiles",F[F.IncludeCategoryAndTags=4]="IncludeCategoryAndTags",F[F.IncludeSharedAccounts=8]="IncludeSharedAccounts",F[F.IncludeVersionProperties=16]="IncludeVersionProperties",F[F.ExcludeNonValidated=32]="ExcludeNonValidated",F[F.IncludeInstallationTargets=64]="IncludeInstallationTargets",F[F.IncludeAssetUri=128]="IncludeAssetUri",F[F.IncludeStatistics=256]="IncludeStatistics",F[F.IncludeLatestVersionOnly=512]="IncludeLatestVersionOnly",F[F.Unpublished=4096]="Unpublished",F[F.IncludeNameConflictInfo=32768]="IncludeNameConflictInfo"})(t||(t={}));function r(...F){return String(F.reduce((M,x)=>M|x,0))}var o;(function(F){F[F.Tag=1]="Tag",F[F.ExtensionId=4]="ExtensionId",F[F.Category=5]="Category",F[F.ExtensionName=7]="ExtensionName",F[F.Target=8]="Target",F[F.Featured=9]="Featured",F[F.SearchText=10]="SearchText",F[F.ExcludeWithFlags=12]="ExcludeWithFlags"})(o||(o={}));const u={Icon:"Microsoft.VisualStudio.Services.Icons.Default",Details:"Microsoft.VisualStudio.Services.Content.Details",Changelog:"Microsoft.VisualStudio.Services.Content.Changelog",Manifest:"Microsoft.VisualStudio.Code.Manifest",VSIX:"Microsoft.VisualStudio.Services.VSIXPackage",License:"Microsoft.VisualStudio.Services.Content.License",Repository:"Microsoft.VisualStudio.Services.Links.Source",Signature:"Microsoft.VisualStudio.Services.VsixSignature"},$={Dependency:"Microsoft.VisualStudio.Code.ExtensionDependencies",ExtensionPack:"Microsoft.VisualStudio.Code.ExtensionPack",Engine:"Microsoft.VisualStudio.Code.Engine",PreRelease:"Microsoft.VisualStudio.Code.PreRelease",EnabledApiProposals:"Microsoft.VisualStudio.Code.EnabledApiProposals",LocalizedLanguages:"Microsoft.VisualStudio.Code.LocalizedLanguages",WebExtension:"Microsoft.VisualStudio.Code.WebExtension",SponsorLink:"Microsoft.VisualStudio.Code.SponsorLink",SupportLink:"Microsoft.VisualStudio.Services.Links.Support",ExecutesCode:"Microsoft.VisualStudio.Code.ExecutesCode"},L={pageNumber:1,pageSize:10,sortBy:c.SortBy.NoneOrRelevance,sortOrder:c.SortOrder.Default,flags:t.None,criteria:[],assetTypes:[]};class A{constructor(M=L){this.d=M}get pageNumber(){return this.d.pageNumber}get pageSize(){return this.d.pageSize}get sortBy(){return this.d.sortBy}get sortOrder(){return this.d.sortOrder}get flags(){return this.d.flags}get criteria(){return this.d.criteria}withPage(M,x=this.d.pageSize){return new A({...this.d,pageNumber:M,pageSize:x})}withFilter(M,...x){const ne=[...this.d.criteria,...x.length?x.map(oe=>({filterType:M,value:oe})):[{filterType:M}]];return new A({...this.d,criteria:ne})}withSortBy(M){return new A({...this.d,sortBy:M})}withSortOrder(M){return new A({...this.d,sortOrder:M})}withFlags(...M){return new A({...this.d,flags:M.reduce((x,ne)=>x|ne,0)})}withAssetTypes(...M){return new A({...this.d,assetTypes:M})}withSource(M){return new A({...this.d,source:M})}get raw(){const{criteria:M,pageNumber:x,pageSize:ne,sortBy:oe,sortOrder:ce,flags:ve,assetTypes:fe}=this.d;return{filters:[{criteria:M,pageNumber:x,pageSize:ne,sortBy:oe,sortOrder:ce}],assetTypes:fe,flags:ve}}get searchText(){const M=this.d.criteria.filter(x=>x.filterType===o.SearchText)[0];return M&&M.value?M.value:""}get telemetryData(){return{filterTypes:this.d.criteria.map(M=>String(M.filterType)),flags:this.d.flags,sortBy:String(this.sortBy),sortOrder:String(this.sortOrder),pageNumber:String(this.pageNumber),source:this.d.source,searchTextLength:this.searchText.length}}}function D(F,M){const x=(F||[]).filter(ne=>ne.statisticName===M)[0];return x?x.value:0}function U(F){const M="Microsoft.VisualStudio.Code.Translation.";return F.files.filter(ne=>ne.assetType.indexOf(M)===0).reduce((ne,oe)=>{const ce=te(F,oe.assetType);return ce&&ne.push([oe.assetType.substring(M.length),ce]),ne},[])}function G(F){if(F.properties){const M=F.properties.filter(oe=>oe.key===u.Repository),x=new RegExp("((git|ssh|http(s)?)|(git@[\\w.]+))(:(//)?)([\\w.@:/\\-~]+)(.git)(/)?"),ne=M.filter(oe=>x.test(oe.value))[0];return ne?{uri:ne.value,fallbackUri:ne.value}:null}return te(F,u.Repository)}function Z(F){return{uri:`${F.fallbackAssetUri}/${u.VSIX}?redirect=true${F.targetPlatform?`&targetPlatform=${F.targetPlatform}`:""}`,fallbackUri:`${F.fallbackAssetUri}/${u.VSIX}${F.targetPlatform?`?targetPlatform=${F.targetPlatform}`:""}`}}function te(F,M){return F.files.filter(ne=>ne.assetType===M)[0]?{uri:`${F.assetUri}/${M}${F.targetPlatform?`?targetPlatform=${F.targetPlatform}`:""}`,fallbackUri:`${F.fallbackAssetUri}/${M}${F.targetPlatform?`?targetPlatform=${F.targetPlatform}`:""}`}:null}function ae(F,M){const x=F.properties?F.properties.filter(oe=>oe.key===M):[],ne=x.length>0&&x[0].value;return ne?ne.split(",").map(oe=>(0,m.$Qp)(oe)):[]}function le(F){const M=F.properties?F.properties.filter(x=>x.key===$.Engine):[];return M.length>0&&M[0].value||""}function de(F){const M=F.properties?F.properties.filter(x=>x.key===$.PreRelease):[];return M.length>0&&M[0].value==="true"}function H(F){const M=F.properties?F.properties.filter(x=>x.key===$.ExecutesCode):[];return M.length>0?M[0].value==="true":void 0}function Y(F){const M=F.properties?F.properties.filter(ne=>ne.key===$.EnabledApiProposals):[],x=M.length>0&&M[0].value||"";return x?x.split(","):[]}function B(F){const M=F.properties?F.properties.filter(ne=>ne.key===$.LocalizedLanguages):[],x=M.length>0&&M[0].value||"";return x?x.split(","):[]}function q(F){return F.properties?.find(M=>M.key===$.SponsorLink)?.value}function K(F){return F.properties?.find(M=>M.key===$.SupportLink)?.value}function J(F){return F.indexOf("preview")!==-1}function ie(F){return F.targetPlatform?(0,c.$gp)(F.targetPlatform):d.TargetPlatform.UNDEFINED}function se(F){const M=(0,S.$Lb)(F.versions.map(ie)),x=!!F.tags?.includes(c.$ap),ne=M.indexOf(d.TargetPlatform.WEB);return x?ne===-1&&M.push(d.TargetPlatform.WEB):ne!==-1&&M.splice(ne,1),M}function T(F,M){for(let x=0;x<F.length;x++){const ne=F[x];if(ne.version===F[x-1]?.version){let oe=x;if(ie(ne)===M)for(;oe>0&&F[oe-1].version===ne.version;)oe--;oe!==x&&(F.splice(x,1),F.splice(oe,0,ne))}}return F}function W(F,M,x){F.telemetryData={index:M,querySource:x,queryActivityId:F.queryContext?.[s]}}function z(F,M,x,ne){const oe=F.versions[0],ce={manifest:te(M,u.Manifest),readme:te(M,u.Details),changelog:te(M,u.Changelog),license:te(M,u.License),repository:G(M),download:Z(M),icon:te(M,u.Icon),signature:te(M,u.Signature),coreTranslations:U(M)};return{type:"gallery",identifier:{id:(0,m.$Rp)(F.publisher.publisherName,F.extensionName),uuid:F.extensionId},name:F.extensionName,version:M.version,displayName:F.displayName,publisherId:F.publisher.publisherId,publisher:F.publisher.publisherName,publisherDisplayName:F.publisher.displayName,publisherDomain:F.publisher.domain?{link:F.publisher.domain,verified:!!F.publisher.isDomainVerified}:void 0,publisherSponsorLink:q(oe),description:F.shortDescription??"",installCount:D(F.statistics,"install"),rating:D(F.statistics,"averagerating"),ratingCount:D(F.statistics,"ratingcount"),categories:F.categories||[],tags:F.tags||[],releaseDate:Date.parse(F.releaseDate),lastUpdated:Date.parse(F.lastUpdated),allTargetPlatforms:x,assets:ce,properties:{dependencies:ae(M,$.Dependency),extensionPack:ae(M,$.ExtensionPack),engine:le(M),enabledApiProposals:Y(M),localizedLanguages:B(M),targetPlatform:ie(M),isPreReleaseVersion:de(M),executesCode:H(M)},hasPreReleaseVersion:de(oe),hasReleaseVersion:!0,preview:J(F.flags),isSigned:!!ce.signature,queryContext:ne,supportLink:K(oe)}}let E=class{constructor(M,x,ne,oe,ce,ve,fe,$e){this.l=x,this.n=ne,this.o=oe,this.q=ce,this.u=ve,this.w=fe,this.x=$e;const pe=fe.extensionsGallery,me=pe?.servicePPEUrl&&$e.getValue("_extensionsGallery.enablePPE");this.d=me?pe.servicePPEUrl:pe?.serviceUrl,this.g=me?void 0:pe?.searchUrl,this.h=pe?.controlUrl,this.k=fe.extensionsEnabledWithApiProposalVersion?.map(ge=>ge.toLowerCase())??[],this.j=(0,O.$pq)(fe.version,fe,this.o,this.x,this.u,M,this.q)}y(M=""){return`${this.d}${M}`}isEnabled(){return!!this.d}async getExtensions(M,x,ne){const oe=P.CancellationToken.isCancellationToken(x)?{}:x,ce=P.CancellationToken.isCancellationToken(x)?x:ne,ve=[],fe=[],$e=[],pe=[];let me=!0;for(const V of M){V.uuid?fe.push(V.uuid):ve.push(V.id);const _=!!(V.version||V.preRelease);$e.push({id:V.id,uuid:V.uuid,includePreRelease:_}),V.version&&pe.push({id:V.id,uuid:V.uuid,version:V.version}),me=me&&!!V.hasPreRelease&&!_}if(!fe.length&&!ve.length)return[];let ge=new A().withPage(1,M.length);fe.length&&(ge=ge.withFilter(o.ExtensionId,...fe)),ve.length&&(ge=ge.withFilter(o.ExtensionName,...ve)),(oe.queryAllVersions||me)&&(ge=ge.withFlags(ge.flags,t.IncludeVersions)),oe.source&&(ge=ge.withSource(oe.source));const{extensions:Ee}=await this.B(ge,{targetPlatform:oe.targetPlatform??n,includePreRelease:$e,versions:pe,compatible:!!oe.compatible,productVersion:oe.productVersion??{version:this.w.version,date:this.w.date}},ce);return oe.source&&Ee.forEach((V,_)=>W(V,_,oe.source)),Ee}async getCompatibleExtension(M,x,ne,oe={version:this.w.version,date:this.w.date}){if((0,c.$ip)(M.allTargetPlatforms,ne))return null;if(await this.isExtensionCompatible(M,x,ne))return M;const ce=new A().withFlags(t.IncludeVersions).withPage(1,1).withFilter(o.ExtensionId,M.identifier.uuid),{extensions:ve}=await this.B(ce,{targetPlatform:ne,compatible:!0,includePreRelease:x,productVersion:oe},P.CancellationToken.None);return ve[0]||null}async isExtensionCompatible(M,x,ne,oe={version:this.w.version,date:this.w.date}){if(!(0,c.$jp)(M.properties.targetPlatform,M.allTargetPlatforms,ne)||!x&&M.properties.isPreReleaseVersion)return!1;let ce=M.properties.engine;if(!ce){const ve=await this.getManifest(M,P.CancellationToken.None);if(!ve)throw new Error("Manifest was not found");ce=ve.engines.vscode}return!(!(0,p.$6p)(ce,oe.version,oe.date)||!this.z(M.identifier,M.properties.enabledApiProposals))}z(M,x){return!x||!this.k.includes(M.id.toLowerCase())?!0:(0,p.$7p)(x)}async A(M,x,ne,oe,ce,ve,fe={version:this.w.version,date:this.w.date}){if(!(0,c.$jp)(ie(x),ce,ve)||ne!=="any"&&de(x)!==(ne==="prerelease"))return!1;if(oe)try{const $e=await this.G(M,x);if(!(0,p.$6p)($e,fe.version,fe.date))return!1}catch($e){return this.n.error(`Error while getting the engine for the version ${x.version}.`,(0,v.$9)($e)),!1}return!0}async query(M,x){let ne=M.text||"";const oe=M.pageSize??50;let ce=new A().withPage(1,oe);ne?(ne=ne.replace(/\bcategory:("([^"]*)"|([^"]\S*))(\s+|\b|$)/g,(me,ge,Ee)=>(ce=ce.withFilter(o.Category,Ee||ge),"")),ne=ne.replace(/\btag:("([^"]*)"|([^"]\S*))(\s+|\b|$)/g,(me,ge,Ee)=>(ce=ce.withFilter(o.Tag,Ee||ge),"")),ne=ne.replace(/\bfeatured(\s+|\b|$)/g,()=>(ce=ce.withFilter(o.Featured),"")),ne=ne.trim(),ne&&(ne=ne.length<200?ne:ne.substring(0,200),ce=ce.withFilter(o.SearchText,ne)),ce=ce.withSortBy(c.SortBy.NoneOrRelevance)):M.ids?ce=ce.withFilter(o.ExtensionId,...M.ids):M.names?ce=ce.withFilter(o.ExtensionName,...M.names):ce=ce.withSortBy(c.SortBy.InstallCount),typeof M.sortBy=="number"&&(ce=ce.withSortBy(M.sortBy)),typeof M.sortOrder=="number"&&(ce=ce.withSortOrder(M.sortOrder)),M.source&&(ce=ce.withSource(M.source));const ve=async(me,ge)=>{const{extensions:Ee,total:V}=await this.B(me,{targetPlatform:n,compatible:!1,includePreRelease:!!M.includePreRelease,productVersion:M.productVersion??{version:this.w.version,date:this.w.date}},ge);return Ee.forEach((_,ee)=>W(_,(me.pageNumber-1)*me.pageSize+ee,M.source)),{extensions:Ee,total:V}},{extensions:fe,total:$e}=await ve(ce,x),pe=async(me,ge)=>{if(ge.isCancellationRequested)throw new v.$4;const{extensions:Ee}=await ve(ce.withPage(me+1),ge);return Ee};return{firstPage:fe,total:$e,pageSize:ce.pageSize,getPage:pe}}async B(M,x,ne){const oe=M.flags;M.flags&t.IncludeLatestVersionOnly&&M.flags&t.IncludeVersions&&(M=M.withFlags(M.flags&~t.IncludeVersions,t.IncludeLatestVersionOnly)),!(M.flags&t.IncludeLatestVersionOnly)&&!(M.flags&t.IncludeVersions)&&(M=M.withFlags(M.flags,t.IncludeLatestVersionOnly)),x.versions?.length&&(M=M.withFlags(M.flags&~t.IncludeLatestVersionOnly,t.IncludeVersions)),M=M.withFlags(M.flags,t.IncludeAssetUri,t.IncludeCategoryAndTags,t.IncludeFiles,t.IncludeStatistics,t.IncludeVersionProperties);const{galleryExtensions:ce,total:ve,context:fe}=await this.D(M,ne);if(!(M.flags&t.IncludeLatestVersionOnly)){const ge=[];for(const Ee of ce){const V=await this.C(Ee,x,fe);V&&ge.push(V)}return{extensions:ge,total:ve}}const pe=[],me=new Map;for(let ge=0;ge<ce.length;ge++){const Ee=ce[ge],V={id:(0,m.$Rp)(Ee.publisher.publisherName,Ee.extensionName),uuid:Ee.extensionId},_=(0,R.$kg)(x.includePreRelease)?x.includePreRelease:!!x.includePreRelease.find(we=>(0,m.$Mp)(we,V))?.includePreRelease;if(x.compatible&&(0,c.$ip)(se(Ee),x.targetPlatform))continue;const ee=await this.C(Ee,x,fe);!ee||ee.properties.isPreReleaseVersion&&(!_||!ee.hasReleaseVersion)||!ee.properties.isPreReleaseVersion&&ee.properties.targetPlatform!==x.targetPlatform&&ee.hasPreReleaseVersion?me.set(Ee.extensionId,ge):pe.push([ge,ee])}if(me.size){const ge=new l.$fe,Ee=new A().withFlags(oe&~t.IncludeLatestVersionOnly,t.IncludeVersions).withPage(1,me.size).withFilter(o.ExtensionId,...me.keys()),{extensions:V}=await this.B(Ee,x,ne);this.q.publicLog2("galleryService:additionalQuery",{duration:ge.elapsed(),count:me.size});for(const _ of V){const ee=me.get(_.identifier.uuid);pe.push([ee,_])}}return{extensions:pe.sort((ge,Ee)=>ge[0]-Ee[0]).map(([,ge])=>ge),total:ve}}async C(M,x,ne){const oe={id:(0,m.$Rp)(M.publisher.publisherName,M.extensionName),uuid:M.extensionId},ce=x.versions?.find(pe=>(0,m.$Mp)(pe,oe))?.version,ve=(0,R.$kg)(x.includePreRelease)?x.includePreRelease:!!x.includePreRelease.find(pe=>(0,m.$Mp)(pe,oe))?.includePreRelease,fe=se(M),$e=T(M.versions,x.targetPlatform);if(x.compatible&&(0,c.$ip)(fe,x.targetPlatform))return null;for(let pe=0;pe<$e.length;pe++){const me=$e[pe];if(!(ce&&me.version!==ce)){if(await this.A(oe.id,me,ve?"any":"release",x.compatible,fe,x.targetPlatform,x.productVersion))return x.compatible&&!this.z(oe,Y(me))?null:z(M,me,fe,ne);if(ce&&me.version===ce)return null}}return ce||x.compatible?null:z(M,M.versions[0],fe)}async D(M,x){if(!this.isEnabled())throw new Error("No extension gallery service configured.");M=M.withFlags(M.flags,t.ExcludeNonValidated).withFilter(o.Target,"Microsoft.VisualStudio.Code").withFilter(o.ExcludeWithFlags,r(t.Unpublished));const ne=await this.j,oe=JSON.stringify(M.raw),ce={...ne,"Content-Type":"application/json",Accept:"application/json;api-version=3.0-preview.1","Accept-Encoding":"gzip","Content-Length":String(oe.length)},ve=new l.$fe;let fe,$e,pe=0;try{if(fe=await this.l.request({type:"POST",url:this.g&&M.criteria.some(ge=>ge.filterType===o.SearchText)?this.g:this.y("/extensionquery"),data:oe,headers:ce},x),fe.res.statusCode&&fe.res.statusCode>=400&&fe.res.statusCode<500)return{galleryExtensions:[],total:pe};const me=await(0,g.$bq)(fe);if(me){const ge=me.results[0],Ee=ge.extensions,V=ge.resultMetadata&&ge.resultMetadata.filter(_=>_.metadataType==="ResultCount")[0];return pe=V&&V.metadataItems.filter(_=>_.name==="TotalCount")[0].count||0,{galleryExtensions:Ee,total:pe,context:fe.res.headers.activityid?{[s]:fe.res.headers.activityid}:{}}}return{galleryExtensions:[],total:pe}}catch(me){if((0,v.$3)(me))throw $e=c.ExtensionGalleryErrorCode.Cancelled,me;{const ge=(0,v.$9)(me);throw $e=ge.startsWith("XHR timeout")?c.ExtensionGalleryErrorCode.Timeout:c.ExtensionGalleryErrorCode.Failed,new c.$mp(ge,$e)}}finally{this.q.publicLog2("galleryService:query",{...M.telemetryData,requestBodySize:String(oe.length),duration:ve.elapsed(),success:!!fe&&(0,g.$0p)(fe),responseBodySize:fe?.res.headers["Content-Length"],statusCode:fe?String(fe.res.statusCode):void 0,errorCode:$e,count:String(pe)})}}async reportStatistic(M,x,ne,oe){if(!this.isEnabled())return;const ce=k.$p?this.y(`/itemName/${M}.${x}/version/${ne}/statType/${oe===c.StatisticType.Install?"1":"3"}/vscodewebextension`):this.y(`/publishers/${M}/extensions/${x}/${ne}/stats?statType=${oe}`),ve=k.$p?"api-version=6.1-preview.1":"*/*;api-version=4.0-preview.1",$e={...await this.j,Accept:ve};try{await this.l.request({type:"POST",url:ce,headers:$e},P.CancellationToken.None)}catch{}}async download(M,x,ne){this.n.trace("ExtensionGalleryService#download",M.identifier.id);const oe=(0,m.$Up)(M),ce=new Date().getTime(),ve=ne===c.InstallOperation.Install?"install":ne===c.InstallOperation.Update?"update":"",fe=ve?{uri:`${M.assets.download.uri}${w.URI.parse(M.assets.download.uri).query?"&":"?"}${ve}=true`,fallbackUri:`${M.assets.download.fallbackUri}${w.URI.parse(M.assets.download.fallbackUri).query?"&":"?"}${ve}=true`}:M.assets.download,$e=M.queryContext?.[s]?{[s]:M.queryContext[s]}:void 0,pe=await this.F(M.identifier.id,fe,u.VSIX,$e?{headers:$e}:void 0);try{await this.u.writeFile(x,pe.stream)}catch(me){try{await this.u.del(x)}catch(ge){this.n.warn(`Error while deleting the file ${x.toString()}`,(0,v.$9)(ge))}throw new c.$mp((0,v.$9)(me),c.ExtensionGalleryErrorCode.DownloadFailedWriting)}this.q.publicLog("galleryService:downloadVSIX",{...oe,duration:new Date().getTime()-ce})}async downloadSignatureArchive(M,x){if(!M.assets.signature)throw new Error("No signature asset found");this.n.trace("ExtensionGalleryService#downloadSignatureArchive",M.identifier.id);const ne=await this.F(M.identifier.id,M.assets.signature,u.Signature);try{await this.u.writeFile(x,ne.stream)}catch(oe){try{await this.u.del(x)}catch(ce){this.n.warn(`Error while deleting the file ${x.toString()}`,(0,v.$9)(ce))}throw new c.$mp((0,v.$9)(oe),c.ExtensionGalleryErrorCode.DownloadFailedWriting)}}async getReadme(M,x){if(M.assets.readme){const ne=await this.F(M.identifier.id,M.assets.readme,u.Details,{},x);return await(0,g.$aq)(ne)||""}return""}async getManifest(M,x){if(M.assets.manifest){const ne=await this.F(M.identifier.id,M.assets.manifest,u.Manifest,{},x),oe=await(0,g.$aq)(ne);return oe?JSON.parse(oe):null}return null}async E(M,x,ne){const oe=te(x,u.Manifest);if(!oe)throw new Error("Manifest was not found");const ce={"Accept-Encoding":"gzip"},ve=await this.F(M,oe,u.Manifest,{headers:ce});return await(0,g.$bq)(ve)}async getCoreTranslation(M,x){const ne=M.assets.coreTranslations.filter(oe=>oe[0]===x.toUpperCase())[0];if(ne){const oe=await this.F(M.identifier.id,ne[1],ne[0]),ce=await(0,g.$aq)(oe);return ce?JSON.parse(ce):null}return null}async getChangelog(M,x){if(M.assets.changelog){const ne=await this.F(M.identifier.id,M.assets.changelog,u.Changelog,{},x);return await(0,g.$aq)(ne)||""}return""}async getAllCompatibleVersions(M,x,ne){let oe=new A().withFlags(t.IncludeVersions,t.IncludeCategoryAndTags,t.IncludeFiles,t.IncludeVersionProperties).withPage(1,1);M.uuid?oe=oe.withFilter(o.ExtensionId,M.uuid):oe=oe.withFilter(o.ExtensionName,M.id);const{galleryExtensions:ce}=await this.D(oe,P.CancellationToken.None);if(!ce.length)return[];const ve=se(ce[0]);if((0,c.$ip)(ve,ne))return[];const fe=[];await Promise.all(ce[0].versions.map(async me=>{try{await this.A(M.id,me,x?"any":"release",!0,ve,ne)&&this.z(M,Y(me))&&fe.push(me)}catch{}}));const $e=[],pe=new Set;for(const me of T(fe,ne))pe.has(me.version)||(pe.add(me.version),$e.push({version:me.version,date:me.lastUpdated,isPreReleaseVersion:de(me)}));return $e}async F(M,x,ne,oe={},ce=P.CancellationToken.None){const ve=await this.j,fe={type:"GET"},$e={...ve,...oe.headers||{}};oe={...oe,...fe,headers:$e};const pe=x.uri,me=x.fallbackUri,ge={...oe,url:pe};try{const Ee=await this.l.request(ge,ce);if(Ee.res.statusCode===200)return Ee;const V=await(0,g.$aq)(Ee);throw new Error(`Expected 200, got back ${Ee.res.statusCode} instead.

${V}`)}catch(Ee){if((0,v.$3)(Ee))throw Ee;const V=(0,v.$9)(Ee);this.q.publicLog2("galleryService:cdnFallback",{extension:M,assetType:ne,message:V});const _={...oe,url:me};return this.l.request(_,ce)}}async G(M,x){let ne=le(x);if(!ne){this.q.publicLog2("galleryService:engineFallback",{extension:M,version:x.version});const oe=await this.E(M,x,P.CancellationToken.None);if(!oe)throw new Error("Manifest was not found");ne=oe.engines.vscode}return ne}async getExtensionsControlManifest(){if(!this.isEnabled())throw new Error("No extension gallery service configured.");if(!this.h)return{malicious:[],deprecated:{},search:[]};const M=await this.l.request({type:"GET",url:this.h},P.CancellationToken.None);if(M.res.statusCode!==200)throw new Error("Could not get extensions report.");const x=await(0,g.$bq)(M),ne=[],oe={},ce=[],ve=[];if(x){for(const fe of x.malicious)ne.push({id:fe});if(x.migrateToPreRelease)for(const[fe,$e]of Object.entries(x.migrateToPreRelease))(!$e.engine||(0,p.$6p)($e.engine,this.w.version,this.w.date))&&(oe[fe.toLowerCase()]={disallowInstall:!0,extension:{id:$e.id,displayName:$e.displayName,autoMigrate:{storage:!!$e.migrateStorage},preRelease:!0}});if(x.deprecated)for(const[fe,$e]of Object.entries(x.deprecated))$e&&(oe[fe.toLowerCase()]=(0,R.$kg)($e)?{}:$e);if(x.search)for(const fe of x.search)ce.push(fe);if(Array.isArray(x.extensionsEnabledWithPreRelease))for(const fe of x.extensionsEnabledWithPreRelease)ve.push(fe.toLowerCase())}return{malicious:ne,deprecated:oe,search:ce,extensionsEnabledWithPreRelease:ve}}};E=be([re(1,g.$8p),re(2,b.$ak),re(3,f.$Mi),re(4,i.$_l),re(5,I.$al),re(6,h.$tk),re(7,a.$_i)],E);let j=class extends E{constructor(M,x,ne,oe,ce,ve,fe,$e){super(M,x,ne,oe,ce,ve,fe,$e)}};e.$rq=j,e.$rq=j=be([re(0,y.$iq),re(1,g.$8p),re(2,b.$ak),re(3,f.$Mi),re(4,i.$_l),re(5,I.$al),re(6,h.$tk),re(7,a.$_i)],j);let X=class extends E{constructor(M,x,ne,oe,ce,ve,fe){super(void 0,M,x,ne,oe,ce,ve,fe)}};e.$sq=X,e.$sq=X=be([re(0,g.$8p),re(1,b.$ak),re(2,f.$Mi),re(3,i.$_l),re(4,I.$al),re(5,h.$tk),re(6,a.$_i)],X)}),define(ue[144],he([0,1,11,17,9,6,123,23,24,3,69]),function(Q,e,S,P,v,k,C,R,w,a,f){"use strict";var c,m;Object.defineProperty(e,"__esModule",{value:!0}),e.$IR=e.$HR=e.$GR=void 0;let d=class extends w.$Pl{static{c=this}static{this.a="profileAssociationsMigration"}constructor(h,g,O,y,i){super(O,y,g,i),this.U=h,this.W=O}O(){return this.U.getItem(c.b,[]).map(g=>({...g,location:(0,a.$eg)(g.location)?this.w.extUri.joinPath(this.profilesHome,g.location):S.URI.revive(g.location)}))}Q(){const h=this.U.getItem(c.c,{});return this.U.getItem(c.a,!1)?h:this.N(h)}S(){return this.w.extUri.joinPath(S.URI.file(this.W.extensionsPath).with({scheme:this.profilesHome.scheme}),"extensions.json")}};e.$GR=d,e.$GR=d=c=be([re(0,C.$BR),re(1,R.$Kl),re(2,P.$Ni),re(3,v.$al),re(4,k.$ak)],d);let p=m=class extends d{constructor(h,g,O,y,i){super(h,g,O,y,i),this.$=h}P(h){h.length?this.$.setItem(m.b,h.map(g=>({...g,location:this.w.extUri.basename(g.location)}))):this.$.removeItem(m.b)}O(){const h=super.O();return this.$.getItem("userDataProfilesMigration",!1)||(this.P(h),this.$.setItem("userDataProfilesMigration",!0)),h}R(h){h.emptyWindows||h.workspaces?this.$.setItem(m.c,h):this.$.removeItem(m.c)}Q(){const h="workspaceAndProfileInfo",g=this.$.getItem(h,void 0);if(g){this.$.removeItem(h);const y=g.reduce((i,{workspace:l,profile:n})=>(i[S.URI.revive(l).toString()]=S.URI.revive(n).toString(),i),{});this.$.setItem(m.c,{workspaces:y})}const O=super.Q();return this.$.getItem(m.a,!1)||(this.R(O),this.$.setItem(m.a,!0)),O}};e.$HR=p,e.$HR=p=m=be([re(0,C.$CR),re(1,R.$Kl),re(2,P.$Ni),re(3,v.$al),re(4,k.$ak)],p);let I=class extends p{constructor(h,g,O,y){super(new f.$FR(f.SaveStrategy.IMMEDIATE,g,y,O),h,g,O,y)}async init(){return await this.$.init(),super.init()}};e.$IR=I,e.$IR=I=be([re(0,R.$Kl),re(1,P.$Ni),re(2,v.$al),re(3,k.$ak)],I)}),define(ue[145],he([0,1,121,8,13,7,3,30,17,122,6,46,120,156]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$fs=void 0,e.$gs=b;let p=class extends c.$9p{constructor(g,O,y,i){super(i),this.m=g,this.n=O,this.r=y,this.s(),this.B(g.onDidChangeConfiguration(l=>{l.affectsConfiguration("http")&&this.s()}))}s(){const g=this.m.getValue("http");this.f=g?.proxy,this.g=!!g?.proxyStrictSSL,this.h=g?.proxyAuthorization}async request(g,O){const{f:y,g:i}=this;let l;try{l=await(0,a.$Rm)(this.m,this.r,this.n.args,process.env)}catch(t){this.j||(this.j=!0,this.r.error("resolving shell environment failed",(0,k.$9)(t)))}const n={...process.env,...l},s=g.agent?g.agent:await(0,m.$es)(g.url||"",n,{proxyUrl:y,strictSSL:i});return g.agent=s,g.strictSSL=i,this.h&&(g.headers={...g.headers||{},"Proxy-Authorization":this.h}),this.c(g.isChromiumNetwork?"electron":"node",g,()=>b(g,O))}async resolveProxy(g){}async lookupAuthorization(g){}async lookupKerberosAuthorization(g){try{const O=await new Promise((s,t)=>{Q(["kerberos"],s,t)}).then(ye),y=new URL(g),i=this.m.getValue("http.proxyKerberosServicePrincipal")||(process.platform==="win32"?`HTTP/${y.hostname}`:`HTTP@${y.hostname}`);return this.r.debug("RequestService#lookupKerberosAuthorization Kerberos authentication lookup",`proxyURL:${y}`,`spn:${i}`),"Negotiate "+await(await O.initializeClient(i)).step("")}catch(O){this.r.debug("RequestService#lookupKerberosAuthorization Kerberos authentication failed",O);return}}async loadCertificates(){return(await new Promise((O,y)=>{Q(["@vscode/proxy-agent"],O,y)}).then(ye)).loadSystemCertificates({log:this.r})}};e.$fs=p,e.$fs=p=be([re(0,R.$_i),re(1,w.$Ni),re(2,f.$ak),re(3,f.$bk)],p);async function I(h){return((0,S.parse)(h.url).protocol==="https:"?await new Promise((y,i)=>{Q(["https"],y,i)}).then(ye):await new Promise((y,i)=>{Q(["http"],y,i)}).then(ye)).request}async function b(h,g){return P.Promises.withAsyncBody(async(O,y)=>{const i=(0,S.parse)(h.url),l=h.getRawRequest?h.getRawRequest(h):await I(h),n={hostname:i.hostname,port:i.port?parseInt(i.port):i.protocol==="https:"?443:80,protocol:i.protocol,path:i.path,method:h.type||"GET",headers:h.headers,agent:h.agent,rejectUnauthorized:(0,C.$kg)(h.strictSSL)?h.strictSSL:!0};h.user&&h.password&&(n.auth=h.user+":"+h.password);const s=l(n,t=>{const r=(0,C.$ig)(h.followRedirects)?h.followRedirects:3;if(t.statusCode&&t.statusCode>=300&&t.statusCode<400&&r>0&&t.headers.location)b({...h,url:t.headers.location,followRedirects:r-1},g).then(O,y);else{let o=t;!h.isChromiumNetwork&&t.headers["content-encoding"]==="gzip"&&(o=t.pipe((0,d.createGunzip)())),O({res:t,stream:(0,v.$3e)(o)})}});s.on("error",y),h.timeout&&s.setTimeout(h.timeout),h.isChromiumNetwork&&s.removeHeader("Content-Length"),h.data&&typeof h.data=="string"&&s.write(h.data),s.end(),g.onCancellationRequested(()=>{s.abort(),y(new k.$4)})})}});var qe=this&&this.__importDefault||function(Q){return Q&&Q.__esModule?Q:{default:Q}};define(ue[157],he([0,1,32,35,8,38,7,2,14,15,12,36,11,30,117,61,119,17,95,143,20,71,124,42,54,138,140,9,107,109,51,105,64,68,126,6,113,39,114,129,33,46,145,69,70,18,128,41,130,131,23,133,24,144,132,139,110,112,5,134,158]),function(Q,e,S,P,v,k,C,R,w,a,f,c,m,d,p,I,b,h,g,O,y,i,l,n,s,t,r,o,u,$,N,L,A,D,U,G,Z,te,ae,le,de,H,Y,B,q,K,J,ie,se,T,W,z,E,j,X,F,M,x,ne,oe,ce){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.main=fe,S=ye(S),le=qe(le);class ve extends R.$Uc{constructor(pe){super(),this.b=pe,this.c()}c(){process.once("exit",()=>this.dispose())}async run(){const[pe,me]=await this.f();return pe.invokeFunction(async ge=>{const Ee=ge.get(G.$ak),V=ge.get(o.$al),_=ge.get(h.$Ni),ee=ge.get(E.$Ml);Ee.info("CLI main",this.b),this.h(Ee),await this.j(_,V,ee,pe),await Promise.all(me.map(we=>{(0,v.$wh)(we.flush(),1e3)}))})}async f(){const pe=new A.$Di,me={_serviceBrand:void 0,...le.default};pe.set(de.$tk,me);const ge=new g.$9m(this.b,me);pe.set(h.$Ni,ge),await Promise.all([this.g(ge.appSettingsHome.with({scheme:w.Schemas.file}).fsPath),this.g(ge.extensionsPath)].map(Ie=>Ie?S.promises.mkdir(Ie,{recursive:!0}):void 0));const Ee=new x.$AR((0,G.$ok)(ge),ge.logsHome);pe.set(G.$bk,Ee);const V=this.B(Ee.createLogger("cli",{name:(0,ne.localize)(12931,null)})),_=[];Ee.getLogLevel()===G.LogLevel.Trace&&_.push(new G.$ik(Ee.getLogLevel()));const ee=this.B(new M.$KR(V,_));pe.set(G.$ak,ee);const we=this.B(new u.$3q(ee));pe.set(o.$al,we);const Se=this.B(new $.$tr(ee));we.registerProvider(w.Schemas.file,Se);const De=new z.$Us(we);pe.set(W.$Kl,De);const ke=new B.$ER(B.SaveStrategy.DELAYED,ge,ee,we),Le=new j.$GR(ke,De,ge,we,ee);pe.set(E.$Ml,Le),we.registerProvider(w.Schemas.vscodeUserData,new oe.$Xhc(w.Schemas.file,Se,w.Schemas.vscodeUserData,Le,De,ee));const Oe=f.$j&&me.win32RegValueName?this.B(new ae.$Vhc(ee,me.win32RegValueName)):ge.policyFile?this.B(new Z.$Whc(ge.policyFile,we,ee)):new te.$vo;pe.set(te.$to,Oe);const Ce=this.B(new p.$Xo(Le.defaultProfile.settingsResource,we,Oe,ee));pe.set(d.$_i,Ce),await Promise.all([ke.init(),Ce.initialize()]);let Me;try{Me=await(0,X.$xhc)(ke,ee)}catch(Ie){Ie.code!=="ENOENT"&&ee.error(Ie)}const Ae=await(0,X.$yhc)(ke,ee),Te=await(0,X.$zhc)(ke,ee);Le.init(),pe.set(W.$Kl,new z.$Us(we));const Fe=new Y.$fs(Ce,ge,ee,Ee);pe.set(H.$8p,Fe),pe.set(I.$2o,new N.$Ci(b.$ZR,void 0,!0)),pe.set(n.$Jq,new N.$Ci(F.$JR,void 0,!0)),pe.set(s.$Nq,new N.$Ci(r.$uhc,void 0,!0)),pe.set(i.$tq,new N.$Ci(i.$vq,void 0,!0)),pe.set(t.$Yq,new N.$Ci(t.$Zq,void 0,!0)),pe.set(y.$lp,new N.$Ci(O.$sq,void 0,!0)),pe.set(D.$_r,new N.$Ci(U.$bs,void 0,!1));const Ue=[],Pe=(0,ie.$Jp)(me,Ce);if((0,ie.$Ep)(me,ge)){me.aiConfig&&me.aiConfig.ariaKey&&Ue.push(new se.$yR(Fe,Pe,"monacoworkbench",null,me.aiConfig.ariaKey));const Ie={appenders:Ue,sendErrorTelemetry:!1,commonProperties:(0,q.$vp)((0,P.release)(),(0,P.hostname)(),process.arch,me.commit,me.version,Me,Ae,Te,Pe),piiPaths:(0,ie.$Kp)(ge)};pe.set(K.$_l,new N.$Ci(J.$hs,[Ie],!1))}else pe.set(K.$_l,ie.$zp);return[new L.$wr(pe),Ue]}g(pe){if(f.$j){const me=(0,ce.getUNCHost)(pe);me&&(0,ce.addUNCHostToAllowlist)(me)}return pe}h(pe){(0,C.setUnexpectedErrorHandler)(me=>{const ge=(0,k.$qj)(me,!0);ge&&pe.error(`[uncaught exception in CLI]: ${ge}`)}),process.on("uncaughtException",me=>{(0,C.$X)(me)||(0,C.$Y)(me)}),process.on("unhandledRejection",me=>(0,C.$Y)(me))}async j(pe,me,ge,Ee){let V;if(pe.args.profile&&(V=ge.profiles.find(ee=>ee.name===pe.args.profile),!V))throw new Error(`Profile '${pe.args.profile}' not found.`);const _=(V??ge.defaultProfile).extensionsResource;if(this.b["list-extensions"])return Ee.createInstance(l.$wq,new G.$ik(G.LogLevel.Info,!1)).listExtensions(!!this.b["show-versions"],this.b.category,_);if(this.b["install-extension"]||this.b["install-builtin-extension"]){const ee={isMachineScoped:!!this.b["do-not-sync"],installPreReleaseVersion:!!this.b["pre-release"],profileLocation:_};return Ee.createInstance(l.$wq,new G.$ik(G.LogLevel.Info,!1)).installExtensions(this.m(this.b["install-extension"]||[]),this.m(this.b["install-builtin-extension"]||[]),ee,!!this.b.force)}else{if(this.b["uninstall-extension"])return Ee.createInstance(l.$wq,new G.$ik(G.LogLevel.Info,!1)).uninstallExtensions(this.m(this.b["uninstall-extension"]),!!this.b.force,_);if(this.b["update-extensions"])return Ee.createInstance(l.$wq,new G.$ik(G.LogLevel.Info,!1)).updateExtensions(_);if(this.b["locate-extension"])return Ee.createInstance(l.$wq,new G.$ik(G.LogLevel.Info,!1)).locateExtension(this.b["locate-extension"]);this.b.telemetry&&console.log(await(0,T.$aic)(pe.appRoot,pe.extensionsPath))}}m(pe){return pe.map(me=>/\.vsix$/i.test(me)?m.URI.file((0,a.$ic)(me)?me:(0,a.$jc)((0,c.cwd)(),me)):me)}}async function fe($e){const pe=new ve($e);try{await pe.run()}finally{pe.dispose()}}})}).call(this);

//# sourceMappingURL=https://main.vscode-cdn.net/sourcemaps/b1c0a14de1414fcdaa400695b4db1c0799bc3124/core/vs/code/node/cliProcessMain.js.map
