/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var B=["require","exports","vs/base/common/errors","vs/platform/instantiation/common/instantiation","vs/base/common/charCode","vs/base/common/path","vs/base/common/platform","vs/base/common/strings","vs/base/common/uri","vs/nls","vs/base/common/types","vs/base/common/network","vs/base/browser/trustedTypes","vs/base/common/extpath","vs/base/common/ternarySearchTree","vs/base/common/arrays","vs/base/common/resources","vs/base/browser/defaultWorkerFactory","vs/base/common/worker/simpleWorker","vs/base/common/lifecycle","vs/base/common/errorMessage","vs/platform/contextkey/common/scanner","vs/platform/instantiation/common/descriptors","vs/platform/instantiation/common/extensions","vs/platform/contextkey/common/contextkey","vs/platform/log/common/log","vs/platform/profiling/common/profiling","vs/platform/profiling/common/profilingModel","vs/platform/profiling/common/profilingTelemetrySpec","vs/platform/telemetry/common/telemetry","vs/platform/profiling/electron-sandbox/profileAnalysisWorkerService","vs/base/common/event","vs/base/common/hash","vs/base/common/map","vs/platform/profiling/electron-sandbox/profileAnalysisWorker"],V=function(P){for(var t=[],f=0,p=P.length;f<p;f++)t[f]=B[P[f]];return t};define(B[12],V([0,1,2]),function(P,t,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$JV=p;function p(E,c){const A=globalThis.MonacoEnvironment;if(A?.createTrustedTypesPolicy)try{return A.createTrustedTypesPolicy(E,c)}catch(g){(0,f.$Y)(g);return}try{return globalThis.trustedTypes?.createPolicy(E,c)}catch(g){(0,f.$Y)(g);return}}}),define(B[13],V([0,1,4,5,6,7,10]),function(P,t,f,p,E,c,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$xg=g,t.$yg=w,t.$zg=k,t.$Ag=b,t.$Bg=a,t.$Cg=i,t.$Dg=r,t.$Eg=l,t.$Fg=o,t.$Gg=y,t.$Hg=N,t.$Ig=I,t.$Jg=O,t.$Kg=F,t.$Lg=H,t.$Mg=J,t.$Ng=U;function g(d){return d===f.CharCode.Slash||d===f.CharCode.Backslash}function w(d){return d.replace(/[\\/]/g,p.$gc.sep)}function k(d){return d.indexOf("/")===-1&&(d=w(d)),/^[a-zA-Z]:(\/|$)/.test(d)&&(d="/"+d),d}function b(d,j=p.$gc.sep){if(!d)return"";const q=d.length,T=d.charCodeAt(0);if(g(T)){if(g(d.charCodeAt(1))&&!g(d.charCodeAt(2))){let h=3;const L=h;for(;h<q&&!g(d.charCodeAt(h));h++);if(L!==h&&!g(d.charCodeAt(h+1))){for(h+=1;h<q;h++)if(g(d.charCodeAt(h)))return d.slice(0,h+1).replace(/[\\/]/g,j)}}return j}else if(o(T)&&d.charCodeAt(1)===f.CharCode.Colon)return g(d.charCodeAt(2))?d.slice(0,2)+j:d.slice(0,2);let u=d.indexOf("://");if(u!==-1){for(u+=3;u<q;u++)if(g(d.charCodeAt(u)))return d.slice(0,u+1)}return""}function a(d){if(!E.$j||!d||d.length<5)return!1;let j=d.charCodeAt(0);if(j!==f.CharCode.Backslash||(j=d.charCodeAt(1),j!==f.CharCode.Backslash))return!1;let q=2;const T=q;for(;q<d.length&&(j=d.charCodeAt(q),j!==f.CharCode.Backslash);q++);return!(T===q||(j=d.charCodeAt(q+1),isNaN(j)||j===f.CharCode.Backslash))}const $=/[\\/:\*\?"<>\|]/g,C=/[/]/g,s=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function i(d,j=E.$j){const q=j?$:C;return!(!d||d.length===0||/^\s+$/.test(d)||(q.lastIndex=0,q.test(d))||j&&s.test(d)||d==="."||d===".."||j&&d[d.length-1]==="."||j&&d.length!==d.trim().length||d.length>255)}function r(d,j,q){const T=d===j;return!q||T?T:!d||!j?!1:(0,c.$Ff)(d,j)}function l(d,j,q,T=p.sep){if(d===j)return!0;if(!d||!j||j.length>d.length)return!1;if(q){if(!(0,c.$Gf)(d,j))return!1;if(j.length===d.length)return!0;let h=j.length;return j.charAt(j.length-1)===T&&h--,d.charAt(h)===T}return j.charAt(j.length-1)!==T&&(j+=T),d.indexOf(j)===0}function o(d){return d>=f.CharCode.A&&d<=f.CharCode.Z||d>=f.CharCode.a&&d<=f.CharCode.z}function y(d,j){return E.$j&&d.endsWith(":")&&(d+=p.sep),(0,p.$ic)(d)||(d=(0,p.$jc)(j,d)),d=(0,p.$hc)(d),N(d)}function N(d){return E.$j?(d=(0,c.$nf)(d,p.sep),d.endsWith(":")&&(d+=p.sep)):(d=(0,c.$nf)(d,p.sep),d||(d=p.sep)),d}function I(d){const j=(0,p.$hc)(d);return E.$j?d.length>3?!1:O(j)&&(d.length===2||j.charCodeAt(2)===f.CharCode.Backslash):j===p.$gc.sep}function O(d,j=E.$j){return j?o(d.charCodeAt(0))&&d.charCodeAt(1)===f.CharCode.Colon:!1}function F(d,j=E.$j){return O(d,j)?d[0]:void 0}function H(d,j,q){return j.length>d.length?-1:d===j?0:(q&&(d=d.toLowerCase(),j=j.toLowerCase()),d.indexOf(j))}function J(d){const j=d.split(":");let q,T,u;for(const h of j){const L=Number(h);(0,A.$ig)(L)?T===void 0?T=L:u===void 0&&(u=L):q=q?[q,h].join(":"):h}if(!q)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:q,line:T!==void 0?T:void 0,column:u!==void 0?u:T!==void 0?1:void 0}}const Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",W="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function U(d,j,q=8){let T="";for(let h=0;h<q;h++){let L;h===0&&E.$j&&!j&&(q===3||q===4)?L=W:L=Y,T+=L.charAt(Math.floor(Math.random()*L.length))}let u;return j?u=`${j}-${T}`:u=T,d?(0,p.$jc)(d,u):u}}),define(B[14],V([0,1,15,4,7]),function(P,t,f,p,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Li=t.$Ki=t.$Ji=t.$Ii=t.$Hi=void 0;class c{constructor(){this.b="",this.c=0}reset(s){return this.b=s,this.c=0,this}next(){return this.c+=1,this}hasNext(){return this.c<this.b.length-1}cmp(s){const i=s.charCodeAt(0),r=this.b.charCodeAt(this.c);return i-r}value(){return this.b[this.c]}}t.$Hi=c;class A{constructor(s=!0){this.e=s}reset(s){return this.b=s,this.c=0,this.d=0,this.next()}hasNext(){return this.d<this.b.length}next(){this.c=this.d;let s=!0;for(;this.d<this.b.length;this.d++)if(this.b.charCodeAt(this.d)===p.CharCode.Period)if(s)this.c++;else break;else s=!1;return this}cmp(s){return this.e?(0,E.$zf)(s,this.b,0,s.length,this.c,this.d):(0,E.$Bf)(s,this.b,0,s.length,this.c,this.d)}value(){return this.b.substring(this.c,this.d)}}t.$Ii=A;class g{constructor(s=!0,i=!0){this.f=s,this.g=i}reset(s){this.d=0,this.e=0,this.b=s,this.c=s.length;for(let i=s.length-1;i>=0;i--,this.c--){const r=this.b.charCodeAt(i);if(!(r===p.CharCode.Slash||this.f&&r===p.CharCode.Backslash))break}return this.next()}hasNext(){return this.e<this.c}next(){this.d=this.e;let s=!0;for(;this.e<this.c;this.e++){const i=this.b.charCodeAt(this.e);if(i===p.CharCode.Slash||this.f&&i===p.CharCode.Backslash)if(s)this.d++;else break;else s=!1}return this}cmp(s){return this.g?(0,E.$zf)(s,this.b,0,s.length,this.d,this.e):(0,E.$Bf)(s,this.b,0,s.length,this.d,this.e)}value(){return this.b.substring(this.d,this.e)}}t.$Ji=g;var w;(function(C){C[C.Scheme=1]="Scheme",C[C.Authority=2]="Authority",C[C.Path=3]="Path",C[C.Query=4]="Query",C[C.Fragment=5]="Fragment"})(w||(w={}));class k{constructor(s,i){this.f=s,this.g=i,this.d=[],this.e=0}reset(s){return this.c=s,this.d=[],this.c.scheme&&this.d.push(w.Scheme),this.c.authority&&this.d.push(w.Authority),this.c.path&&(this.b=new g(!1,!this.f(s)),this.b.reset(s.path),this.b.value()&&this.d.push(w.Path)),this.g(s)||(this.c.query&&this.d.push(w.Query),this.c.fragment&&this.d.push(w.Fragment)),this.e=0,this}next(){return this.d[this.e]===w.Path&&this.b.hasNext()?this.b.next():this.e+=1,this}hasNext(){return this.d[this.e]===w.Path&&this.b.hasNext()||this.e<this.d.length-1}cmp(s){if(this.d[this.e]===w.Scheme)return(0,E.$Af)(s,this.c.scheme);if(this.d[this.e]===w.Authority)return(0,E.$Af)(s,this.c.authority);if(this.d[this.e]===w.Path)return this.b.cmp(s);if(this.d[this.e]===w.Query)return(0,E.$yf)(s,this.c.query);if(this.d[this.e]===w.Fragment)return(0,E.$yf)(s,this.c.fragment);throw new Error}value(){if(this.d[this.e]===w.Scheme)return this.c.scheme;if(this.d[this.e]===w.Authority)return this.c.authority;if(this.d[this.e]===w.Path)return this.b.value();if(this.d[this.e]===w.Query)return this.c.query;if(this.d[this.e]===w.Fragment)return this.c.fragment;throw new Error}}t.$Ki=k;class b{constructor(){this.height=1}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}rotateLeft(){const s=this.right;return this.right=s.left,s.left=this,this.updateHeight(),s.updateHeight(),s}rotateRight(){const s=this.left;return this.left=s.right,s.right=this,this.updateHeight(),s.updateHeight(),s}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){return this.left?.height??0}get heightRight(){return this.right?.height??0}}var a;(function(C){C[C.Left=-1]="Left",C[C.Mid=0]="Mid",C[C.Right=1]="Right"})(a||(a={}));class ${static forUris(s=()=>!1,i=()=>!1){return new $(new k(s,i))}static forPaths(s=!1){return new $(new g(void 0,!s))}static forStrings(){return new $(new c)}static forConfigKeys(){return new $(new A)}constructor(s){this.b=s}clear(){this.c=void 0}fill(s,i){if(i){const r=i.slice(0);(0,f.$Vb)(r);for(const l of r)this.set(l,s)}else{const r=s.slice(0);(0,f.$Vb)(r);for(const l of r)this.set(l[0],l[1])}}set(s,i){const r=this.b.reset(s);let l;this.c||(this.c=new b,this.c.segment=r.value());const o=[];for(l=this.c;;){const N=r.cmp(l.segment);if(N>0)l.left||(l.left=new b,l.left.segment=r.value()),o.push([a.Left,l]),l=l.left;else if(N<0)l.right||(l.right=new b,l.right.segment=r.value()),o.push([a.Right,l]),l=l.right;else if(r.hasNext())r.next(),l.mid||(l.mid=new b,l.mid.segment=r.value()),o.push([a.Mid,l]),l=l.mid;else break}const y=l.value;l.value=i,l.key=s;for(let N=o.length-1;N>=0;N--){const I=o[N][1];I.updateHeight();const O=I.balanceFactor();if(O<-1||O>1){const F=o[N][0],H=o[N+1][0];if(F===a.Right&&H===a.Right)o[N][1]=I.rotateLeft();else if(F===a.Left&&H===a.Left)o[N][1]=I.rotateRight();else if(F===a.Right&&H===a.Left)I.right=o[N+1][1]=o[N+1][1].rotateRight(),o[N][1]=I.rotateLeft();else if(F===a.Left&&H===a.Right)I.left=o[N+1][1]=o[N+1][1].rotateLeft(),o[N][1]=I.rotateRight();else throw new Error;if(N>0)switch(o[N-1][0]){case a.Left:o[N-1][1].left=o[N][1];break;case a.Right:o[N-1][1].right=o[N][1];break;case a.Mid:o[N-1][1].mid=o[N][1];break}else this.c=o[0][1]}}return y}get(s){return this.d(s)?.value}d(s){const i=this.b.reset(s);let r=this.c;for(;r;){const l=i.cmp(r.segment);if(l>0)r=r.left;else if(l<0)r=r.right;else if(i.hasNext())i.next(),r=r.mid;else break}return r}has(s){const i=this.d(s);return!(i?.value===void 0&&i?.mid===void 0)}delete(s){return this.e(s,!1)}deleteSuperstr(s){return this.e(s,!0)}e(s,i){const r=this.b.reset(s),l=[];let o=this.c;for(;o;){const y=r.cmp(o.segment);if(y>0)l.push([a.Left,o]),o=o.left;else if(y<0)l.push([a.Right,o]),o=o.right;else if(r.hasNext())r.next(),l.push([a.Mid,o]),o=o.mid;else break}if(o){if(i?(o.left=void 0,o.mid=void 0,o.right=void 0,o.height=1):(o.key=void 0,o.value=void 0),!o.mid&&!o.value)if(o.left&&o.right){const y=this.f(o.right);if(y.key){const{key:N,value:I,segment:O}=y;this.e(y.key,!1),o.key=N,o.value=I,o.segment=O}}else{const y=o.left??o.right;if(l.length>0){const[N,I]=l[l.length-1];switch(N){case a.Left:I.left=y;break;case a.Mid:I.mid=y;break;case a.Right:I.right=y;break}}else this.c=y}for(let y=l.length-1;y>=0;y--){const N=l[y][1];N.updateHeight();const I=N.balanceFactor();if(I>1?(N.right.balanceFactor()>=0||(N.right=N.right.rotateRight()),l[y][1]=N.rotateLeft()):I<-1&&(N.left.balanceFactor()<=0||(N.left=N.left.rotateLeft()),l[y][1]=N.rotateRight()),y>0)switch(l[y-1][0]){case a.Left:l[y-1][1].left=l[y][1];break;case a.Right:l[y-1][1].right=l[y][1];break;case a.Mid:l[y-1][1].mid=l[y][1];break}else this.c=l[0][1]}}}f(s){for(;s.left;)s=s.left;return s}findSubstr(s){const i=this.b.reset(s);let r=this.c,l;for(;r;){const o=i.cmp(r.segment);if(o>0)r=r.left;else if(o<0)r=r.right;else if(i.hasNext())i.next(),l=r.value||l,r=r.mid;else break}return r&&r.value||l}findSuperstr(s){return this.g(s,!1)}g(s,i){const r=this.b.reset(s);let l=this.c;for(;l;){const o=r.cmp(l.segment);if(o>0)l=l.left;else if(o<0)l=l.right;else if(r.hasNext())r.next(),l=l.mid;else return l.mid?this.h(l.mid):i?l.value:void 0}}hasElementOrSubtree(s){return this.g(s,!0)!==void 0}forEach(s){for(const[i,r]of this)s(r,i)}*[Symbol.iterator](){yield*this.h(this.c)}h(s){const i=[];return this.j(s,i),i[Symbol.iterator]()}j(s,i){s&&(s.left&&this.j(s.left,i),s.value&&i.push([s.key,s.value]),s.mid&&this.j(s.mid,i),s.right&&this.j(s.right,i))}_isBalanced(){const s=i=>{if(!i)return!0;const r=i.balanceFactor();return r<-1||r>1?!1:s(i.left)&&s(i.right)};return s(this.c)}}t.$Li=$});var de=this&&this.__createBinding||(Object.create?function(P,t,f,p){p===void 0&&(p=f);var E=Object.getOwnPropertyDescriptor(t,f);(!E||("get"in E?!t.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return t[f]}}),Object.defineProperty(P,p,E)}:function(P,t,f,p){p===void 0&&(p=f),P[p]=t[f]}),me=this&&this.__setModuleDefault||(Object.create?function(P,t){Object.defineProperty(P,"default",{enumerable:!0,value:t})}:function(P,t){P.default=t}),K=this&&this.__importStar||function(P){if(P&&P.__esModule)return P;var t={};if(P!=null)for(var f in P)f!=="default"&&Object.prototype.hasOwnProperty.call(P,f)&&de(t,P,f);return me(t,P),t};define(B[11],V([0,1,2,6,7,8,5]),function(P,t,f,p,E,c,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COI=t.$Zg=t.$Yg=t.$Xg=t.$Wg=t.$Vg=t.$Ug=t.$Sg=t.$Rg=t.$Qg=t.Schemas=void 0,t.$Og=w,t.$Pg=k,t.$Tg=a,f=K(f),p=K(p),A=K(A);var g;(function(s){s.inMemory="inmemory",s.vscode="vscode",s.internal="private",s.walkThrough="walkThrough",s.walkThroughSnippet="walkThroughSnippet",s.http="http",s.https="https",s.file="file",s.mailto="mailto",s.untitled="untitled",s.data="data",s.command="command",s.vscodeRemote="vscode-remote",s.vscodeRemoteResource="vscode-remote-resource",s.vscodeManagedRemoteResource="vscode-managed-remote-resource",s.vscodeUserData="vscode-userdata",s.vscodeCustomEditor="vscode-custom-editor",s.vscodeNotebookCell="vscode-notebook-cell",s.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",s.vscodeNotebookCellOutput="vscode-notebook-cell-output",s.vscodeInteractiveInput="vscode-interactive-input",s.vscodeSettings="vscode-settings",s.vscodeWorkspaceTrust="vscode-workspace-trust",s.vscodeTerminal="vscode-terminal",s.vscodeChatCodeBlock="vscode-chat-code-block",s.vscodeCopilotBackingChatCodeBlock="vscode-copilot-chat-code-block",s.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",s.vscodeChatSesssion="vscode-chat-editor",s.webviewPanel="webview-panel",s.vscodeWebview="vscode-webview",s.extension="extension",s.vscodeFileResource="vscode-file",s.tmp="tmp",s.vsls="vsls",s.vscodeSourceControl="vscode-scm",s.commentsInput="comment",s.codeSetting="code-setting"})(g||(t.Schemas=g={}));function w(s,i){return c.URI.isUri(s)?(0,E.$Ff)(s.scheme,i):(0,E.$Gf)(s,i+":")}function k(s,...i){return i.some(r=>w(s,r))}t.$Qg="vscode-tkn",t.$Rg="tkn";class b{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f="/"}setPreferredWebSchema(i){this.d=i}setDelegate(i){this.e=i}setServerRootPath(i,r){this.f=a(i,r)}getServerRootPath(){return this.f}get g(){return A.$gc.join(this.f,g.vscodeRemoteResource)}set(i,r,l){this.a[i]=r,this.b[i]=l}setConnectionToken(i,r){this.c[i]=r}getPreferredWebSchema(){return this.d}rewrite(i){if(this.e)try{return this.e(i)}catch(I){return f.$Y(I),i}const r=i.authority;let l=this.a[r];l&&l.indexOf(":")!==-1&&l.indexOf("[")===-1&&(l=`[${l}]`);const o=this.b[r],y=this.c[r];let N=`path=${encodeURIComponent(i.path)}`;return typeof y=="string"&&(N+=`&${t.$Rg}=${encodeURIComponent(y)}`),c.URI.from({scheme:p.$p?this.d:g.vscodeRemoteResource,authority:`${l}:${o}`,path:this.g,query:N})}}t.$Sg=new b;function a(s,i){return A.$gc.join(i??"/",`${s.quality??"oss"}-${s.commit??"dev"}`)}t.$Ug="vs/../../extensions",t.$Vg="vs/../../node_modules",t.$Wg="vs/../../node_modules.asar",t.$Xg="vs/../../node_modules.asar.unpacked",t.$Yg="vscode-app";class ${static{this.a=t.$Yg}asBrowserUri(i){const r=this.b(i,P);return this.uriToBrowserUri(r)}uriToBrowserUri(i){return i.scheme===g.vscodeRemote?t.$Sg.rewrite(i):i.scheme===g.file&&(p.$n||p.$r===`${g.vscodeFileResource}://${$.a}`)?i.with({scheme:g.vscodeFileResource,authority:i.authority||$.a,query:null,fragment:null}):i}asFileUri(i){const r=this.b(i,P);return this.uriToFileUri(r)}uriToFileUri(i){return i.scheme===g.vscodeFileResource?i.with({scheme:g.file,authority:i.authority!==$.a?i.authority:null,query:null,fragment:null}):i}b(i,r){return c.URI.isUri(i)?i:c.URI.parse(r.toUrl(i))}}t.$Zg=new $;var C;(function(s){const i=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);s.CoopAndCoep=Object.freeze(i.get("3"));const r="vscode-coi";function l(y){let N;typeof y=="string"?N=new URL(y).searchParams:y instanceof URL?N=y.searchParams:c.URI.isUri(y)&&(N=new URL(y.toString(!0)).searchParams);const I=N?.get(r);if(I)return i.get(I)}s.getHeadersFromQuery=l;function o(y,N,I){if(!globalThis.crossOriginIsolated)return;const O=N&&I?"3":I?"2":"1";y instanceof URLSearchParams?y.set(r,O):y[r]=O}s.addSearchParam=o})(C||(t.COI=C={}))}),define(B[16],V([0,1,4,13,11,5,6,7,8]),function(P,t,f,p,E,c,A,g,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataUri=t.$oh=t.$nh=t.$mh=t.$lh=t.$kh=t.$jh=t.$ih=t.$hh=t.$gh=t.$fh=t.$eh=t.$dh=t.$ch=t.$bh=t.$ah=t.$_g=t.$$g=t.$0g=t.$9g=t.$8g=void 0,t.$7g=k,t.$ph=a,t.$qh=C,p=K(p),c=K(c);function k(s){return(0,w.$wc)(s,!0)}class b{constructor(i){this.a=i}compare(i,r,l=!1){return i===r?0:(0,g.$yf)(this.getComparisonKey(i,l),this.getComparisonKey(r,l))}isEqual(i,r,l=!1){return i===r?!0:!i||!r?!1:this.getComparisonKey(i,l)===this.getComparisonKey(r,l)}getComparisonKey(i,r=!1){return i.with({path:this.a(i)?i.path.toLowerCase():void 0,fragment:r?null:void 0}).toString()}ignorePathCasing(i){return this.a(i)}isEqualOrParent(i,r,l=!1){if(i.scheme===r.scheme){if(i.scheme===E.Schemas.file)return p.$Eg(k(i),k(r),this.a(i))&&i.query===r.query&&(l||i.fragment===r.fragment);if((0,t.$lh)(i.authority,r.authority))return p.$Eg(i.path,r.path,this.a(i),"/")&&i.query===r.query&&(l||i.fragment===r.fragment)}return!1}joinPath(i,...r){return w.URI.joinPath(i,...r)}basenameOrAuthority(i){return(0,t.$dh)(i)||i.authority}basename(i){return c.$gc.basename(i.path)}extname(i){return c.$gc.extname(i.path)}dirname(i){if(i.path.length===0)return i;let r;return i.scheme===E.Schemas.file?r=w.URI.file(c.$mc(k(i))).path:(r=c.$gc.dirname(i.path),i.authority&&r.length&&r.charCodeAt(0)!==f.CharCode.Slash&&(console.error(`dirname("${i.toString})) resulted in a relative path`),r="/")),i.with({path:r})}normalizePath(i){if(!i.path.length)return i;let r;return i.scheme===E.Schemas.file?r=w.URI.file(c.$hc(k(i))).path:r=c.$gc.normalize(i.path),i.with({path:r})}relativePath(i,r){if(i.scheme!==r.scheme||!(0,t.$lh)(i.authority,r.authority))return;if(i.scheme===E.Schemas.file){const y=c.$lc(k(i),k(r));return A.$j?p.$yg(y):y}let l=i.path||"/";const o=r.path||"/";if(this.a(i)){let y=0;for(const N=Math.min(l.length,o.length);y<N&&!(l.charCodeAt(y)!==o.charCodeAt(y)&&l.charAt(y).toLowerCase()!==o.charAt(y).toLowerCase());y++);l=o.substr(0,y)+l.substr(y)}return c.$gc.relative(l,o)}resolvePath(i,r){if(i.scheme===E.Schemas.file){const l=w.URI.file(c.$kc(k(i),r));return i.with({authority:l.authority,path:l.path})}return r=p.$zg(r),i.with({path:c.$gc.resolve(i.path,r)})}isAbsolutePath(i){return!!i.path&&i.path[0]==="/"}isEqualAuthority(i,r){return i===r||i!==void 0&&r!==void 0&&(0,g.$Ff)(i,r)}hasTrailingPathSeparator(i,r=c.sep){if(i.scheme===E.Schemas.file){const l=k(i);return l.length>p.$Ag(l).length&&l[l.length-1]===r}else{const l=i.path;return l.length>1&&l.charCodeAt(l.length-1)===f.CharCode.Slash&&!/^[a-zA-Z]:(\/$|\\$)/.test(i.fsPath)}}removeTrailingPathSeparator(i,r=c.sep){return(0,t.$mh)(i,r)?i.with({path:i.path.substr(0,i.path.length-1)}):i}addTrailingPathSeparator(i,r=c.sep){let l=!1;if(i.scheme===E.Schemas.file){const o=k(i);l=o!==void 0&&o.length===p.$Ag(o).length&&o[o.length-1]===r}else{r="/";const o=i.path;l=o.length===1&&o.charCodeAt(o.length-1)===f.CharCode.Slash}return!l&&!(0,t.$mh)(i,r)?i.with({path:i.path+"/"}):i}}t.$8g=b,t.$9g=new b(()=>!1),t.$0g=new b(s=>s.scheme===E.Schemas.file?!A.$l:!0),t.$$g=new b(s=>!0),t.$_g=t.$9g.isEqual.bind(t.$9g),t.$ah=t.$9g.isEqualOrParent.bind(t.$9g),t.$bh=t.$9g.getComparisonKey.bind(t.$9g),t.$ch=t.$9g.basenameOrAuthority.bind(t.$9g),t.$dh=t.$9g.basename.bind(t.$9g),t.$eh=t.$9g.extname.bind(t.$9g),t.$fh=t.$9g.dirname.bind(t.$9g),t.$gh=t.$9g.joinPath.bind(t.$9g),t.$hh=t.$9g.normalizePath.bind(t.$9g),t.$ih=t.$9g.relativePath.bind(t.$9g),t.$jh=t.$9g.resolvePath.bind(t.$9g),t.$kh=t.$9g.isAbsolutePath.bind(t.$9g),t.$lh=t.$9g.isEqualAuthority.bind(t.$9g),t.$mh=t.$9g.hasTrailingPathSeparator.bind(t.$9g),t.$nh=t.$9g.removeTrailingPathSeparator.bind(t.$9g),t.$oh=t.$9g.addTrailingPathSeparator.bind(t.$9g);function a(s,i){const r=[];for(let l=0;l<s.length;l++){const o=i(s[l]);s.some((y,N)=>N===l?!1:(0,t.$ah)(o,i(y)))||r.push(s[l])}return r}var $;(function(s){s.META_DATA_LABEL="label",s.META_DATA_DESCRIPTION="description",s.META_DATA_SIZE="size",s.META_DATA_MIME="mime";function i(r){const l=new Map;r.path.substring(r.path.indexOf(";")+1,r.path.lastIndexOf(";")).split(";").forEach(N=>{const[I,O]=N.split(":");I&&O&&l.set(I,O)});const y=r.path.substring(0,r.path.indexOf(";"));return y&&l.set(s.META_DATA_MIME,y),l}s.parseMetaData=i})($||(t.DataUri=$={}));function C(s,i,r){if(i){let l=s.path;return l&&l[0]!==c.$gc.sep&&(l=c.$gc.sep+l),s.with({scheme:r,authority:i,path:l})}return s.with({scheme:r})}}),define(B[17],V([0,1,12,2,11,18,19]),function(P,t,f,p,E,c,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$QV=void 0,t.$OV=w,t.$PV=b;let g;typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope"&&globalThis.workerttPolicy!==void 0?g=globalThis.workerttPolicy:g=(0,f.$JV)("defaultWorkerFactory",{createScriptURL:s=>s});function w(s,i){if(!s.startsWith("blob:"))throw new URIError("Not a blob-url: "+s);return new Worker(g?g.createScriptURL(s):s,i)}function k(s){const i=globalThis.MonacoEnvironment;if(i){if(typeof i.getWorker=="function")return i.getWorker("workerMain.js",s);if(typeof i.getWorkerUrl=="function"){const r=i.getWorkerUrl("workerMain.js",s);return new Worker(g?g.createScriptURL(r):r,{name:s})}}if(typeof P=="function"){const r=P.toUrl("vs/base/worker/workerMain.js"),l=b(r,s);return new Worker(g?g.createScriptURL(l):l,{name:s})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function b(s,i){if(!(/^((http:)|(https:)|(file:))/.test(s)&&s.substring(0,globalThis.origin.length)!==globalThis.origin)){const y=s.lastIndexOf("?"),N=s.lastIndexOf("#",y),I=y>0?new URLSearchParams(s.substring(y+1,~N?N:void 0)):new URLSearchParams;E.COI.addSearchParam(I,!0,!0),I.toString()?s=`${s}?${I.toString()}#${i}`:s=`${s}#${i}`}const r="vs/base/worker/defaultWorkerFactory.js",l=P.toUrl(r).slice(0,-r.length),o=new Blob([[`/*${i}*/`,`globalThis.MonacoEnvironment = { baseUrl: '${l}' };`,`globalThis._VSCODE_NLS_MESSAGES = ${JSON.stringify(globalThis._VSCODE_NLS_MESSAGES)};`,`globalThis._VSCODE_NLS_LANGUAGE = ${JSON.stringify(globalThis._VSCODE_NLS_LANGUAGE)};`,"const ttPolicy = globalThis.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });","globalThis.workerttPolicy = ttPolicy;",`importScripts(ttPolicy?.createScriptURL('${s}') ?? '${s}');`,`/*${i}*/`].join("")],{type:"application/javascript"});return URL.createObjectURL(o)}function a(s){return typeof s.then=="function"}class $ extends A.$Uc{constructor(i,r,l,o,y){super(),this.a=r,this.b=l;const N=k(l);a(N)?this.c=N:this.c=Promise.resolve(N),this.postMessage(i,[]),this.c.then(I=>{I.onmessage=function(O){o(O.data)},I.onmessageerror=y,typeof I.addEventListener=="function"&&I.addEventListener("error",y)}),this.B((0,A.$Sc)(()=>{this.c?.then(I=>{I.onmessage=null,I.onmessageerror=null,I.removeEventListener("error",y),I.terminate()}),this.c=null}))}getId(){return this.a}postMessage(i,r){this.c?.then(l=>{try{l.postMessage(i,r)}catch(o){(0,p.$Y)(o),(0,p.$Y)(new Error(`FAILED to post message to '${this.b}'-worker`,{cause:o}))}})}}class C{static{this.a=0}constructor(i){this.b=i,this.c=!1}create(i,r,l){const o=++C.a;if(this.c)throw this.c;return new $(i,o,this.b||"anonymous"+o,r,y=>{(0,c.logOnceWebWorkerWarning)(y),this.c=y,l(y)})}}t.$QV=C}),define(B[20],V([0,1,15,10,9]),function(P,t,f,p,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$qj=w,t.$rj=k,t.$sj=b,f=K(f),p=K(p),E=K(E);function c(a,$){return $&&(a.stack||a.stacktrace)?E.localize(12981,null,g(a),A(a.stack)||A(a.stacktrace)):g(a)}function A(a){return Array.isArray(a)?a.join(`
`):a}function g(a){return a.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${a.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof a.code=="string"&&typeof a.errno=="number"&&typeof a.syscall=="string"?E.localize(12982,null,a.message):a.message||E.localize(12983,null)}function w(a=null,$=!1){if(!a)return E.localize(12984,null);if(Array.isArray(a)){const C=f.$Gb(a),s=w(C[0],$);return C.length>1?E.localize(12985,null,s,C.length):s}if(p.$eg(a))return a;if(a.detail){const C=a.detail;if(C.error)return c(C.error,$);if(C.exception)return c(C.exception,$)}return a.stack?c(a,$):a.message?a.message:E.localize(12986,null)}function k(a){const $=a;return $ instanceof Error&&Array.isArray($.actions)}function b(a,$){let C;return typeof a=="string"?C=new Error(a):C=a,C.actions=$,C}}),define(B[21],V([0,1,4,2,9]),function(P,t,f,p,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Aj=t.TokenType=void 0;var c;(function(b){b[b.LParen=0]="LParen",b[b.RParen=1]="RParen",b[b.Neg=2]="Neg",b[b.Eq=3]="Eq",b[b.NotEq=4]="NotEq",b[b.Lt=5]="Lt",b[b.LtEq=6]="LtEq",b[b.Gt=7]="Gt",b[b.GtEq=8]="GtEq",b[b.RegexOp=9]="RegexOp",b[b.RegexStr=10]="RegexStr",b[b.True=11]="True",b[b.False=12]="False",b[b.In=13]="In",b[b.Not=14]="Not",b[b.And=15]="And",b[b.Or=16]="Or",b[b.Str=17]="Str",b[b.QuotedStr=18]="QuotedStr",b[b.Error=19]="Error",b[b.EOF=20]="EOF"})(c||(t.TokenType=c={}));function A(...b){switch(b.length){case 1:return(0,E.localize)(11585,null,b[0]);case 2:return(0,E.localize)(11586,null,b[0],b[1]);case 3:return(0,E.localize)(11587,null,b[0],b[1],b[2]);default:return}}const g=(0,E.localize)(11588,null),w=(0,E.localize)(11589,null);class k{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(a){switch(a.type){case c.LParen:return"(";case c.RParen:return")";case c.Neg:return"!";case c.Eq:return a.isTripleEq?"===":"==";case c.NotEq:return a.isTripleEq?"!==":"!=";case c.Lt:return"<";case c.LtEq:return"<=";case c.Gt:return">=";case c.GtEq:return">=";case c.RegexOp:return"=~";case c.RegexStr:return a.lexeme;case c.True:return"true";case c.False:return"false";case c.In:return"in";case c.Not:return"not";case c.And:return"&&";case c.Or:return"||";case c.Str:return a.lexeme;case c.QuotedStr:return a.lexeme;case c.Error:return a.lexeme;case c.EOF:return"EOF";default:throw(0,p.$7)(`unhandled token type: ${JSON.stringify(a)}; have you forgotten to add a case?`)}}static{this.a=new Set(["i","g","s","m","y","u"].map(a=>a.charCodeAt(0)))}static{this.b=new Map([["not",c.Not],["in",c.In],["false",c.False],["true",c.True]])}get errors(){return this.g}reset(a){return this.c=a,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case f.CharCode.OpenParen:this.k(c.LParen);break;case f.CharCode.CloseParen:this.k(c.RParen);break;case f.CharCode.ExclamationMark:if(this.h(f.CharCode.Equals)){const $=this.h(f.CharCode.Equals);this.f.push({type:c.NotEq,offset:this.d,isTripleEq:$})}else this.k(c.Neg);break;case f.CharCode.SingleQuote:this.o();break;case f.CharCode.Slash:this.q();break;case f.CharCode.Equals:if(this.h(f.CharCode.Equals)){const $=this.h(f.CharCode.Equals);this.f.push({type:c.Eq,offset:this.d,isTripleEq:$})}else this.h(f.CharCode.Tilde)?this.k(c.RegexOp):this.l(A("==","=~"));break;case f.CharCode.LessThan:this.k(this.h(f.CharCode.Equals)?c.LtEq:c.Lt);break;case f.CharCode.GreaterThan:this.k(this.h(f.CharCode.Equals)?c.GtEq:c.Gt);break;case f.CharCode.Ampersand:this.h(f.CharCode.Ampersand)?this.k(c.And):this.l(A("&&"));break;case f.CharCode.Pipe:this.h(f.CharCode.Pipe)?this.k(c.Or):this.l(A("||"));break;case f.CharCode.Space:case f.CharCode.CarriageReturn:case f.CharCode.Tab:case f.CharCode.LineFeed:case f.CharCode.NoBreakSpace:break;default:this.n()}return this.d=this.e,this.k(c.EOF),Array.from(this.f)}h(a){return this.r()||this.c.charCodeAt(this.e)!==a?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?f.CharCode.Null:this.c.charCodeAt(this.e)}k(a){this.f.push({type:a,offset:this.d})}l(a){const $=this.d,C=this.c.substring(this.d,this.e),s={type:c.Error,offset:this.d,lexeme:C};this.g.push({offset:$,lexeme:C,additionalInfo:a}),this.f.push(s)}n(){this.m.lastIndex=this.d;const a=this.m.exec(this.c);if(a){this.e=this.d+a[0].length;const $=this.c.substring(this.d,this.e),C=k.b.get($);C?this.k(C):this.f.push({type:c.Str,lexeme:$,offset:this.d})}}o(){for(;this.j()!==f.CharCode.SingleQuote&&!this.r();)this.i();if(this.r()){this.l(g);return}this.i(),this.f.push({type:c.QuotedStr,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let a=this.e,$=!1,C=!1;for(;;){if(a>=this.c.length){this.e=a,this.l(w);return}const i=this.c.charCodeAt(a);if($)$=!1;else if(i===f.CharCode.Slash&&!C){a++;break}else i===f.CharCode.OpenSquareBracket?C=!0:i===f.CharCode.Backslash?$=!0:i===f.CharCode.CloseSquareBracket&&(C=!1);a++}for(;a<this.c.length&&k.a.has(this.c.charCodeAt(a));)a++;this.e=a;const s=this.c.substring(this.d,this.e);this.f.push({type:c.RegexStr,lexeme:s,offset:this.d})}r(){return this.e>=this.c.length}}t.$Aj=k}),define(B[22],V([0,1]),function(P,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Ci=void 0;class f{constructor(E,c=[],A=!1){this.ctor=E,this.staticArguments=c,this.supportsDelayedInstantiation=A}}t.$Ci=f}),define(B[23],V([0,1,22]),function(P,t,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationType=void 0,t.$Rs=c,t.$Ss=A;const p=[];var E;(function(g){g[g.Eager=0]="Eager",g[g.Delayed=1]="Delayed"})(E||(t.InstantiationType=E={}));function c(g,w,k){w instanceof f.$Ci||(w=new f.$Ci(w,[],!!k)),p.push([g,w])}function A(){return p}}),define(B[3],V([0,1]),function(P,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Ei=t._util=void 0,t.$Fi=E,t.$Gi=c;var f;(function(A){A.serviceIds=new Map,A.DI_TARGET="$di$target",A.DI_DEPENDENCIES="$di$dependencies";function g(w){return w[A.DI_DEPENDENCIES]||[]}A.getServiceDependencies=g})(f||(t._util=f={})),t.$Ei=E("instantiationService");function p(A,g,w){g[f.DI_TARGET]===g?g[f.DI_DEPENDENCIES].push({id:A,index:w}):(g[f.DI_DEPENDENCIES]=[{id:A,index:w}],g[f.DI_TARGET]=g)}function E(A){if(f.serviceIds.has(A))return f.serviceIds.get(A);const g=function(w,k,b){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");p(g,w,b)};return g.toString=()=>A,f.serviceIds.set(A,g),g}function c(A){return A}}),define(B[24],V([0,1,4,6,7,21,3,9,2]),function(P,t,f,p,E,c,A,g,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Xj=t.$Wj=t.$Vj=t.$Uj=t.$Tj=t.$Sj=t.$Rj=t.$Qj=t.$Pj=t.$Oj=t.$Nj=t.$Mj=t.$Lj=t.$Kj=t.$Jj=t.$Ij=t.$Hj=t.$Gj=t.$Dj=t.$Cj=t.ContextKeyExprType=void 0,t.$Bj=b,t.$Ej=H,t.$Fj=J,t.$Yj=ce;const k=new Map;k.set("false",!1),k.set("true",!0),k.set("isMac",p.$k),k.set("isLinux",p.$l),k.set("isWindows",p.$j),k.set("isWeb",p.$p),k.set("isMacNative",p.$k&&!p.$p),k.set("isEdge",p.$I),k.set("isFirefox",p.$G),k.set("isChrome",p.$F),k.set("isSafari",p.$H);function b(S,e){if(k.get(S)!==void 0)throw(0,w.$6)("contextkey.setConstant(k, v) invoked with already set constant `k`");k.set(S,e)}const a=Object.prototype.hasOwnProperty;var $;(function(S){S[S.False=0]="False",S[S.True=1]="True",S[S.Defined=2]="Defined",S[S.Not=3]="Not",S[S.Equals=4]="Equals",S[S.NotEquals=5]="NotEquals",S[S.And=6]="And",S[S.Regex=7]="Regex",S[S.NotRegex=8]="NotRegex",S[S.Or=9]="Or",S[S.In=10]="In",S[S.NotIn=11]="NotIn",S[S.Greater=12]="Greater",S[S.GreaterEquals=13]="GreaterEquals",S[S.Smaller=14]="Smaller",S[S.SmallerEquals=15]="SmallerEquals"})($||(t.ContextKeyExprType=$={}));const C={regexParsingWithErrorRecovery:!0},s=(0,g.localize)(11599,null),i=(0,g.localize)(11600,null),r=(0,g.localize)(11601,null),l=(0,g.localize)(11602,null),o=(0,g.localize)(11603,null),y=(0,g.localize)(11604,null),N=(0,g.localize)(11605,null),I=(0,g.localize)(11606,null);class O{static{this.c=new Error}get lexingErrors(){return this.d.errors}get parsingErrors(){return this.h}constructor(e=C){this.k=e,this.d=new c.$Aj,this.f=[],this.g=0,this.h=[],this.v=/g|y/g}parse(e){if(e===""){this.h.push({message:s,offset:0,lexeme:"",additionalInfo:i});return}this.f=this.d.reset(e).scan(),this.g=0,this.h=[];try{const n=this.l();if(!this.E()){const v=this.D(),m=v.type===c.TokenType.Str?y:void 0;throw this.h.push({message:o,offset:v.offset,lexeme:c.$Aj.getLexeme(v),additionalInfo:m}),O.c}return n}catch(n){if(n!==O.c)throw n;return}}l(){return this.m()}m(){const e=[this.o()];for(;this.y(c.TokenType.Or);){const n=this.o();e.push(n)}return e.length===1?e[0]:F.or(...e)}o(){const e=[this.s()];for(;this.y(c.TokenType.And);){const n=this.s();e.push(n)}return e.length===1?e[0]:F.and(...e)}s(){if(this.y(c.TokenType.Neg)){const e=this.D();switch(e.type){case c.TokenType.True:return this.z(),W.INSTANCE;case c.TokenType.False:return this.z(),U.INSTANCE;case c.TokenType.LParen:{this.z();const n=this.l();return this.A(c.TokenType.RParen,l),n?.negate()}case c.TokenType.Str:return this.z(),h.create(e.lexeme);default:throw this.B("KEY | true | false | '(' expression ')'",e)}}return this.t()}t(){const e=this.D();switch(e.type){case c.TokenType.True:return this.z(),F.true();case c.TokenType.False:return this.z(),F.false();case c.TokenType.LParen:{this.z();const n=this.l();return this.A(c.TokenType.RParen,l),n}case c.TokenType.Str:{const n=e.lexeme;if(this.z(),this.y(c.TokenType.RegexOp)){const m=this.D();if(!this.k.regexParsingWithErrorRecovery){if(this.z(),m.type!==c.TokenType.RegexStr)throw this.B("REGEX",m);const D=m.lexeme,R=D.lastIndexOf("/"),M=R===D.length-1?void 0:this.w(D.substring(R+1));let G;try{G=new RegExp(D.substring(1,R),M)}catch{throw this.B("REGEX",m)}return re.create(n,G)}switch(m.type){case c.TokenType.RegexStr:case c.TokenType.Error:{const D=[m.lexeme];this.z();let R=this.D(),M=0;for(let Z=0;Z<m.lexeme.length;Z++)m.lexeme.charCodeAt(Z)===f.CharCode.OpenParen?M++:m.lexeme.charCodeAt(Z)===f.CharCode.CloseParen&&M--;for(;!this.E()&&R.type!==c.TokenType.And&&R.type!==c.TokenType.Or;){switch(R.type){case c.TokenType.LParen:M++;break;case c.TokenType.RParen:M--;break;case c.TokenType.RegexStr:case c.TokenType.QuotedStr:for(let Z=0;Z<R.lexeme.length;Z++)R.lexeme.charCodeAt(Z)===f.CharCode.OpenParen?M++:m.lexeme.charCodeAt(Z)===f.CharCode.CloseParen&&M--}if(M<0)break;D.push(c.$Aj.getLexeme(R)),this.z(),R=this.D()}const G=D.join(""),te=G.lastIndexOf("/"),le=te===G.length-1?void 0:this.w(G.substring(te+1));let ue;try{ue=new RegExp(G.substring(1,te),le)}catch{throw this.B("REGEX",m)}return F.regex(n,ue)}case c.TokenType.QuotedStr:{const D=m.lexeme;this.z();let R=null;if(!(0,E.$cf)(D)){const M=D.indexOf("/"),G=D.lastIndexOf("/");if(M!==G&&M>=0){const te=D.slice(M+1,G),le=D[G+1]==="i"?"i":"";try{R=new RegExp(te,le)}catch{throw this.B("REGEX",m)}}}if(R===null)throw this.B("REGEX",m);return re.create(n,R)}default:throw this.B("REGEX",this.D())}}if(this.y(c.TokenType.Not)){this.A(c.TokenType.In,r);const m=this.u();return F.notIn(n,m)}switch(this.D().type){case c.TokenType.Eq:{this.z();const m=this.u();if(this.x().type===c.TokenType.QuotedStr)return F.equals(n,m);switch(m){case"true":return F.has(n);case"false":return F.not(n);default:return F.equals(n,m)}}case c.TokenType.NotEq:{this.z();const m=this.u();if(this.x().type===c.TokenType.QuotedStr)return F.notEquals(n,m);switch(m){case"true":return F.not(n);case"false":return F.has(n);default:return F.notEquals(n,m)}}case c.TokenType.Lt:return this.z(),_.create(n,this.u());case c.TokenType.LtEq:return this.z(),x.create(n,this.u());case c.TokenType.Gt:return this.z(),z.create(n,this.u());case c.TokenType.GtEq:return this.z(),Q.create(n,this.u());case c.TokenType.In:return this.z(),F.in(n,this.u());default:return F.has(n)}}case c.TokenType.EOF:throw this.h.push({message:N,offset:e.offset,lexeme:"",additionalInfo:I}),O.c;default:throw this.B(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this.D())}}u(){const e=this.D();switch(e.type){case c.TokenType.Str:case c.TokenType.QuotedStr:return this.z(),e.lexeme;case c.TokenType.True:return this.z(),"true";case c.TokenType.False:return this.z(),"false";case c.TokenType.In:return this.z(),"in";default:return""}}w(e){return e.replaceAll(this.v,"")}x(){return this.f[this.g-1]}y(e){return this.C(e)?(this.z(),!0):!1}z(){return this.E()||this.g++,this.x()}A(e,n){if(this.C(e))return this.z();throw this.B(n,this.D())}B(e,n,v){const m=(0,g.localize)(11607,null,e,c.$Aj.getLexeme(n)),D=n.offset,R=c.$Aj.getLexeme(n);return this.h.push({message:m,offset:D,lexeme:R,additionalInfo:v}),O.c}C(e){return this.D().type===e}D(){return this.f[this.g]}E(){return this.D().type===c.TokenType.EOF}}t.$Cj=O;class F{static false(){return W.INSTANCE}static true(){return U.INSTANCE}static has(e){return d.create(e)}static equals(e,n){return j.create(e,n)}static notEquals(e,n){return u.create(e,n)}static regex(e,n){return re.create(e,n)}static in(e,n){return q.create(e,n)}static notIn(e,n){return T.create(e,n)}static not(e){return h.create(e)}static and(...e){return ee.create(e,null,!0)}static or(...e){return X.create(e,null,!0)}static greater(e,n){return z.create(e,n)}static greaterEquals(e,n){return Q.create(e,n)}static smaller(e,n){return _.create(e,n)}static smallerEquals(e,n){return x.create(e,n)}static{this.c=new O({regexParsingWithErrorRecovery:!1})}static deserialize(e){return e==null?void 0:this.c.parse(e)}}t.$Dj=F;function H(S){const e=new O({regexParsingWithErrorRecovery:!1});return S.map(n=>(e.parse(n),e.lexingErrors.length>0?e.lexingErrors.map(v=>({errorMessage:v.additionalInfo?(0,g.localize)(11608,null,v.additionalInfo):(0,g.localize)(11609,null),offset:v.offset,length:v.lexeme.length})):e.parsingErrors.length>0?e.parsingErrors.map(v=>({errorMessage:v.additionalInfo?`${v.message}. ${v.additionalInfo}`:v.message,offset:v.offset,length:v.lexeme.length})):[]))}function J(S,e){const n=S?S.substituteConstants():void 0,v=e?e.substituteConstants():void 0;return!n&&!v?!0:!n||!v?!1:n.equals(v)}function Y(S,e){return S.cmp(e)}class W{static{this.INSTANCE=new W}constructor(){this.type=$.False}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}map(e){return this}negate(){return U.INSTANCE}}t.$Gj=W;class U{static{this.INSTANCE=new U}constructor(){this.type=$.True}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}map(e){return this}negate(){return W.INSTANCE}}t.$Hj=U;class d{static create(e,n=null){const v=k.get(e);return typeof v=="boolean"?v?U.INSTANCE:W.INSTANCE:new d(e,n)}constructor(e,n){this.key=e,this.c=n,this.type=$.Defined}cmp(e){return e.type!==this.type?this.type-e.type:oe(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=k.get(this.key);return typeof e=="boolean"?e?U.INSTANCE:W.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(e){return e.mapDefined(this.key)}negate(){return this.c||(this.c=h.create(this.key,this)),this.c}}t.$Ij=d;class j{static create(e,n,v=null){if(typeof n=="boolean")return n?d.create(e,v):h.create(e,v);const m=k.get(e);return typeof m=="boolean"?n===(m?"true":"false")?U.INSTANCE:W.INSTANCE:new j(e,n,v)}constructor(e,n,v){this.c=e,this.d=n,this.f=v,this.type=$.Equals}cmp(e){return e.type!==this.type?this.type-e.type:ie(this.c,this.d,e.c,e.d)}equals(e){return e.type===this.type?this.c===e.c&&this.d===e.d:!1}substituteConstants(){const e=k.get(this.c);if(typeof e=="boolean"){const n=e?"true":"false";return this.d===n?U.INSTANCE:W.INSTANCE}return this}evaluate(e){return e.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(e){return e.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=u.create(this.c,this.d,this)),this.f}}t.$Jj=j;class q{static create(e,n){return new q(e,n)}constructor(e,n){this.d=e,this.f=n,this.type=$.In,this.c=null}cmp(e){return e.type!==this.type?this.type-e.type:ie(this.d,this.f,e.d,e.f)}equals(e){return e.type===this.type?this.d===e.d&&this.f===e.f:!1}substituteConstants(){return this}evaluate(e){const n=e.getValue(this.f),v=e.getValue(this.d);return Array.isArray(n)?n.includes(v):typeof v=="string"&&typeof n=="object"&&n!==null?a.call(n,v):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(e){return e.mapIn(this.d,this.f)}negate(){return this.c||(this.c=T.create(this.d,this.f)),this.c}}t.$Kj=q;class T{static create(e,n){return new T(e,n)}constructor(e,n){this.d=e,this.f=n,this.type=$.NotIn,this.c=q.create(e,n)}cmp(e){return e.type!==this.type?this.type-e.type:this.c.cmp(e.c)}equals(e){return e.type===this.type?this.c.equals(e.c):!1}substituteConstants(){return this}evaluate(e){return!this.c.evaluate(e)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(e){return e.mapNotIn(this.d,this.f)}negate(){return this.c}}t.$Lj=T;class u{static create(e,n,v=null){if(typeof n=="boolean")return n?h.create(e,v):d.create(e,v);const m=k.get(e);return typeof m=="boolean"?n===(m?"true":"false")?W.INSTANCE:U.INSTANCE:new u(e,n,v)}constructor(e,n,v){this.c=e,this.d=n,this.f=v,this.type=$.NotEquals}cmp(e){return e.type!==this.type?this.type-e.type:ie(this.c,this.d,e.c,e.d)}equals(e){return e.type===this.type?this.c===e.c&&this.d===e.d:!1}substituteConstants(){const e=k.get(this.c);if(typeof e=="boolean"){const n=e?"true":"false";return this.d===n?W.INSTANCE:U.INSTANCE}return this}evaluate(e){return e.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(e){return e.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=j.create(this.c,this.d,this)),this.f}}t.$Mj=u;class h{static create(e,n=null){const v=k.get(e);return typeof v=="boolean"?v?W.INSTANCE:U.INSTANCE:new h(e,n)}constructor(e,n){this.c=e,this.d=n,this.type=$.Not}cmp(e){return e.type!==this.type?this.type-e.type:oe(this.c,e.c)}equals(e){return e.type===this.type?this.c===e.c:!1}substituteConstants(){const e=k.get(this.c);return typeof e=="boolean"?e?W.INSTANCE:U.INSTANCE:this}evaluate(e){return!e.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(e){return e.mapNot(this.c)}negate(){return this.d||(this.d=d.create(this.c,this)),this.d}}t.$Nj=h;function L(S,e){if(typeof S=="string"){const n=parseFloat(S);isNaN(n)||(S=n)}return typeof S=="string"||typeof S=="number"?e(S):W.INSTANCE}class z{static create(e,n,v=null){return L(n,m=>new z(e,m,v))}constructor(e,n,v){this.c=e,this.d=n,this.f=v,this.type=$.Greater}cmp(e){return e.type!==this.type?this.type-e.type:ie(this.c,this.d,e.c,e.d)}equals(e){return e.type===this.type?this.c===e.c&&this.d===e.d:!1}substituteConstants(){return this}evaluate(e){return typeof this.d=="string"?!1:parseFloat(e.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(e){return e.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=x.create(this.c,this.d,this)),this.f}}t.$Oj=z;class Q{static create(e,n,v=null){return L(n,m=>new Q(e,m,v))}constructor(e,n,v){this.c=e,this.d=n,this.f=v,this.type=$.GreaterEquals}cmp(e){return e.type!==this.type?this.type-e.type:ie(this.c,this.d,e.c,e.d)}equals(e){return e.type===this.type?this.c===e.c&&this.d===e.d:!1}substituteConstants(){return this}evaluate(e){return typeof this.d=="string"?!1:parseFloat(e.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(e){return e.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=_.create(this.c,this.d,this)),this.f}}t.$Pj=Q;class _{static create(e,n,v=null){return L(n,m=>new _(e,m,v))}constructor(e,n,v){this.c=e,this.d=n,this.f=v,this.type=$.Smaller}cmp(e){return e.type!==this.type?this.type-e.type:ie(this.c,this.d,e.c,e.d)}equals(e){return e.type===this.type?this.c===e.c&&this.d===e.d:!1}substituteConstants(){return this}evaluate(e){return typeof this.d=="string"?!1:parseFloat(e.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(e){return e.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=Q.create(this.c,this.d,this)),this.f}}t.$Qj=_;class x{static create(e,n,v=null){return L(n,m=>new x(e,m,v))}constructor(e,n,v){this.c=e,this.d=n,this.f=v,this.type=$.SmallerEquals}cmp(e){return e.type!==this.type?this.type-e.type:ie(this.c,this.d,e.c,e.d)}equals(e){return e.type===this.type?this.c===e.c&&this.d===e.d:!1}substituteConstants(){return this}evaluate(e){return typeof this.d=="string"?!1:parseFloat(e.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(e){return e.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=z.create(this.c,this.d,this)),this.f}}t.$Rj=x;class re{static create(e,n){return new re(e,n)}constructor(e,n){this.d=e,this.f=n,this.type=$.Regex,this.c=null}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.d<e.d)return-1;if(this.d>e.d)return 1;const n=this.f?this.f.source:"",v=e.f?e.f.source:"";return n<v?-1:n>v?1:0}equals(e){if(e.type===this.type){const n=this.f?this.f.source:"",v=e.f?e.f.source:"";return this.d===e.d&&n===v}return!1}substituteConstants(){return this}evaluate(e){const n=e.getValue(this.d);return this.f?this.f.test(n):!1}serialize(){const e=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${e}`}keys(){return[this.d]}map(e){return e.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=se.create(this)),this.c}}t.$Sj=re;class se{static create(e){return new se(e)}constructor(e){this.c=e,this.type=$.NotRegex}cmp(e){return e.type!==this.type?this.type-e.type:this.c.cmp(e.c)}equals(e){return e.type===this.type?this.c.equals(e.c):!1}substituteConstants(){return this}evaluate(e){return!this.c.evaluate(e)}serialize(){return`!(${this.c.serialize()})`}keys(){return this.c.keys()}map(e){return new se(this.c.map(e))}negate(){return this.c}}t.$Tj=se;function he(S){let e=null;for(let n=0,v=S.length;n<v;n++){const m=S[n].substituteConstants();if(S[n]!==m&&e===null){e=[];for(let D=0;D<n;D++)e[D]=S[D]}e!==null&&(e[n]=m)}return e===null?S:e}class ee{static create(e,n,v){return ee.d(e,n,v)}constructor(e,n){this.expr=e,this.c=n,this.type=$.And}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let n=0,v=this.expr.length;n<v;n++){const m=Y(this.expr[n],e.expr[n]);if(m!==0)return m}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let n=0,v=this.expr.length;n<v;n++)if(!this.expr[n].equals(e.expr[n]))return!1;return!0}return!1}substituteConstants(){const e=he(this.expr);return e===this.expr?this:ee.create(e,this.c,!1)}evaluate(e){for(let n=0,v=this.expr.length;n<v;n++)if(!this.expr[n].evaluate(e))return!1;return!0}static d(e,n,v){const m=[];let D=!1;for(const R of e)if(R){if(R.type===$.True){D=!0;continue}if(R.type===$.False)return W.INSTANCE;if(R.type===$.And){m.push(...R.expr);continue}m.push(R)}if(m.length===0&&D)return U.INSTANCE;if(m.length!==0){if(m.length===1)return m[0];m.sort(Y);for(let R=1;R<m.length;R++)m[R-1].equals(m[R])&&(m.splice(R,1),R--);if(m.length===1)return m[0];for(;m.length>1;){const R=m[m.length-1];if(R.type!==$.Or)break;m.pop();const M=m.pop(),G=m.length===0,te=X.create(R.expr.map(le=>ee.create([le,M],null,v)),null,G);te&&(m.push(te),m.sort(Y))}if(m.length===1)return m[0];if(v){for(let R=0;R<m.length;R++)for(let M=R+1;M<m.length;M++)if(m[R].negate().equals(m[M]))return W.INSTANCE;if(m.length===1)return m[0]}return new ee(m,n)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(const n of this.expr)e.push(...n.keys());return e}map(e){return new ee(this.expr.map(n=>n.map(e)),null)}negate(){if(!this.c){const e=[];for(const n of this.expr)e.push(n.negate());this.c=X.create(e,this,!0)}return this.c}}t.$Uj=ee;class X{static create(e,n,v){return X.d(e,n,v)}constructor(e,n){this.expr=e,this.c=n,this.type=$.Or}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let n=0,v=this.expr.length;n<v;n++){const m=Y(this.expr[n],e.expr[n]);if(m!==0)return m}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let n=0,v=this.expr.length;n<v;n++)if(!this.expr[n].equals(e.expr[n]))return!1;return!0}return!1}substituteConstants(){const e=he(this.expr);return e===this.expr?this:X.create(e,this.c,!1)}evaluate(e){for(let n=0,v=this.expr.length;n<v;n++)if(this.expr[n].evaluate(e))return!0;return!1}static d(e,n,v){let m=[],D=!1;if(e){for(let R=0,M=e.length;R<M;R++){const G=e[R];if(G){if(G.type===$.False){D=!0;continue}if(G.type===$.True)return U.INSTANCE;if(G.type===$.Or){m=m.concat(G.expr);continue}m.push(G)}}if(m.length===0&&D)return W.INSTANCE;m.sort(Y)}if(m.length!==0){if(m.length===1)return m[0];for(let R=1;R<m.length;R++)m[R-1].equals(m[R])&&(m.splice(R,1),R--);if(m.length===1)return m[0];if(v){for(let R=0;R<m.length;R++)for(let M=R+1;M<m.length;M++)if(m[R].negate().equals(m[M]))return U.INSTANCE;if(m.length===1)return m[0]}return new X(m,n)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(const n of this.expr)e.push(...n.keys());return e}map(e){return new X(this.expr.map(n=>n.map(e)),null)}negate(){if(!this.c){const e=[];for(const n of this.expr)e.push(n.negate());for(;e.length>1;){const n=e.shift(),v=e.shift(),m=[];for(const D of ge(n))for(const R of ge(v))m.push(ee.create([D,R],null,!1));e.unshift(X.create(m,null,!1))}this.c=X.create(e,this,!0)}return this.c}}t.$Vj=X;class ne extends d{static{this.d=[]}static all(){return ne.d.values()}constructor(e,n,v){super(e,null),this.f=n,typeof v=="object"?ne.d.push({...v,key:e}):v!==!0&&ne.d.push({key:e,description:v,type:n!=null?typeof n:void 0})}bindTo(e){return e.createKey(this.key,this.f)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return j.create(this.key,e)}notEqualsTo(e){return u.create(this.key,e)}}t.$Wj=ne,t.$Xj=(0,A.$Fi)("contextKeyService");function oe(S,e){return S<e?-1:S>e?1:0}function ie(S,e,n,v){return S<n?-1:S>n?1:e<v?-1:e>v?1:0}function ce(S,e){if(S.type===$.False||e.type===$.True)return!0;if(S.type===$.Or)return e.type===$.Or?fe(S.expr,e.expr):!1;if(e.type===$.Or){for(const n of e.expr)if(ce(S,n))return!0;return!1}if(S.type===$.And){if(e.type===$.And)return fe(e.expr,S.expr);for(const n of S.expr)if(ce(n,e))return!0;return!1}return S.equals(e)}function fe(S,e){let n=0,v=0;for(;n<S.length&&v<e.length;){const m=S[n].cmp(e[v]);if(m<0)return!1;m===0&&n++,v++}return n===S.length}function ge(S){return S.type===$.Or?S.expr:[S]}}),define(B[25],V([0,1,9,20,31,32,19,33,6,16,10,8,24,3]),function(P,t,f,p,E,c,A,g,w,k,b,a,$,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$sk=t.$nk=t.$mk=t.$lk=t.$kk=t.$jk=t.$ik=t.$hk=t.$gk=t.$fk=t.$dk=t.LogLevel=t.$bk=t.$ak=void 0,t.$ck=i,t.log=l,t.$ok=U,t.$pk=d,t.$qk=j,t.$rk=q,f=K(f),t.$ak=(0,C.$Fi)("logService"),t.$bk=(0,C.$Fi)("loggerService");function s(){return new Date().toISOString()}function i(T){return(0,b.$ig)(T)}var r;(function(T){T[T.Off=0]="Off",T[T.Trace=1]="Trace",T[T.Debug=2]="Debug",T[T.Info=3]="Info",T[T.Warning=4]="Warning",T[T.Error=5]="Error"})(r||(t.LogLevel=r={})),t.$dk=r.Info;function l(T,u,h){switch(u){case r.Trace:T.trace(h);break;case r.Debug:T.debug(h);break;case r.Info:T.info(h);break;case r.Warning:T.warn(h);break;case r.Error:T.error(h);break;case r.Off:break;default:throw new Error(`Invalid log level ${u}`)}}function o(T,u=!1){let h="";for(let L=0;L<T.length;L++){let z=T[L];if(z instanceof Error&&(z=(0,p.$qj)(z,u)),typeof z=="object")try{z=JSON.stringify(z)}catch{}h+=(L>0?" ":"")+z}return h}class y extends A.$Uc{constructor(){super(...arguments),this.b=t.$dk,this.c=this.B(new E.$le),this.onDidChangeLogLevel=this.c.event}setLevel(u){this.b!==u&&(this.b=u,this.c.fire(this.b))}getLevel(){return this.b}f(u){return this.b!==r.Off&&this.b<=u}}t.$fk=y;class N extends y{constructor(u){super(),this.h=u}f(u){return this.h||super.f(u)}trace(u,...h){this.f(r.Trace)&&this.g(r.Trace,o([u,...h],!0))}debug(u,...h){this.f(r.Debug)&&this.g(r.Debug,o([u,...h]))}info(u,...h){this.f(r.Info)&&this.g(r.Info,o([u,...h]))}warn(u,...h){this.f(r.Warning)&&this.g(r.Warning,o([u,...h]))}error(u,...h){if(this.f(r.Error))if(u instanceof Error){const L=Array.prototype.slice.call(arguments);L[0]=u.stack,this.g(r.Error,o(L))}else this.g(r.Error,o([u,...h]))}flush(){}}t.$gk=N;class I extends y{constructor(u=t.$dk){super(),this.setLevel(u),this.g=!w.$j}trace(u,...h){this.f(r.Trace)&&(this.g?console.log(`\x1B[90m[main ${s()}]\x1B[0m`,u,...h):console.log(`[main ${s()}]`,u,...h))}debug(u,...h){this.f(r.Debug)&&(this.g?console.log(`\x1B[90m[main ${s()}]\x1B[0m`,u,...h):console.log(`[main ${s()}]`,u,...h))}info(u,...h){this.f(r.Info)&&(this.g?console.log(`\x1B[90m[main ${s()}]\x1B[0m`,u,...h):console.log(`[main ${s()}]`,u,...h))}warn(u,...h){this.f(r.Warning)&&(this.g?console.warn(`\x1B[93m[main ${s()}]\x1B[0m`,u,...h):console.warn(`[main ${s()}]`,u,...h))}error(u,...h){this.f(r.Error)&&(this.g?console.error(`\x1B[91m[main ${s()}]\x1B[0m`,u,...h):console.error(`[main ${s()}]`,u,...h))}flush(){}}t.$hk=I;class O extends y{constructor(u=t.$dk,h=!0){super(),this.g=h,this.setLevel(u)}trace(u,...h){this.f(r.Trace)&&(this.g?console.log("%cTRACE","color: #888",u,...h):console.log(u,...h))}debug(u,...h){this.f(r.Debug)&&(this.g?console.log("%cDEBUG","background: #eee; color: #888",u,...h):console.log(u,...h))}info(u,...h){this.f(r.Info)&&(this.g?console.log("%c INFO","color: #33f",u,...h):console.log(u,...h))}warn(u,...h){this.f(r.Warning)&&(this.g?console.log("%c WARN","color: #993",u,...h):console.log(u,...h))}error(u,...h){this.f(r.Error)&&(this.g?console.log("%c  ERR","color: #f33",u,...h):console.error(u,...h))}flush(){}}t.$ik=O;class F extends y{constructor(u,h=t.$dk){super(),this.g=u,this.setLevel(h)}trace(u,...h){this.f(r.Trace)&&this.g.log(r.Trace,[this.h(u),...h])}debug(u,...h){this.f(r.Debug)&&this.g.log(r.Debug,[this.h(u),...h])}info(u,...h){this.f(r.Info)&&this.g.log(r.Info,[this.h(u),...h])}warn(u,...h){this.f(r.Warning)&&this.g.log(r.Warning,[this.h(u),...h])}error(u,...h){this.f(r.Error)&&this.g.log(r.Error,[this.h(u),...h])}h(u){return typeof u=="string"?u:(0,p.$qj)(u,this.f(r.Trace))}flush(){}}t.$jk=F;class H extends y{constructor(u){super(),this.g=u,u.length&&this.setLevel(u[0].getLevel())}setLevel(u){for(const h of this.g)h.setLevel(u);super.setLevel(u)}trace(u,...h){for(const L of this.g)L.trace(u,...h)}debug(u,...h){for(const L of this.g)L.debug(u,...h)}info(u,...h){for(const L of this.g)L.info(u,...h)}warn(u,...h){for(const L of this.g)L.warn(u,...h)}error(u,...h){for(const L of this.g)L.error(u,...h)}flush(){for(const u of this.g)u.flush()}dispose(){for(const u of this.g)u.dispose();super.dispose()}}t.$kk=H;class J extends A.$Uc{constructor(u,h,L){if(super(),this.h=u,this.j=h,this.b=new g.$Ac,this.c=this.B(new E.$le),this.onDidChangeLoggers=this.c.event,this.f=this.B(new E.$le),this.onDidChangeLogLevel=this.f.event,this.g=this.B(new E.$le),this.onDidChangeVisibility=this.g.event,L)for(const z of L)this.b.set(z.resource,{logger:void 0,info:z})}m(u){return(0,b.$eg)(u)?[...this.b.values()].find(h=>h.info.id===u):this.b.get(u)}getLogger(u){return this.m(u)?.logger}createLogger(u,h){const L=this.n(u),z=(0,b.$eg)(u)?u:h?.id??(0,c.$tj)(L.toString()).toString(16);let Q=this.b.get(L)?.logger;const _=h?.logLevel==="always"?r.Trace:h?.logLevel;Q||(Q=this.s(L,_??this.getLogLevel(L)??this.h,{...h,id:z}));const x={logger:Q,info:{resource:L,id:z,logLevel:_,name:h?.name,hidden:h?.hidden,extensionId:h?.extensionId,when:h?.when}};return this.registerLogger(x.info),this.b.set(L,x),Q}n(u){return(0,b.$eg)(u)?(0,k.$gh)(this.j,`${u}.log`):u}setLogLevel(u,h){if(a.URI.isUri(u)){const L=u,z=h,Q=this.b.get(L);Q&&z!==Q.info.logLevel&&(Q.info.logLevel=z===this.h?void 0:z,Q.logger?.setLevel(z),this.b.set(Q.info.resource,Q),this.f.fire([L,z]))}else{this.h=u;for(const[L,z]of this.b.entries())this.b.get(L)?.info.logLevel===void 0&&z.logger?.setLevel(this.h);this.f.fire(this.h)}}setVisibility(u,h){const L=this.m(u);L&&h!==!L.info.hidden&&(L.info.hidden=!h,this.b.set(L.info.resource,L),this.g.fire([L.info.resource,h]))}getLogLevel(u){let h;return u&&(h=this.b.get(u)?.info.logLevel),h??this.h}registerLogger(u){const h=this.b.get(u.resource);h?h.info.hidden!==u.hidden&&this.setVisibility(u.resource,!u.hidden):(this.b.set(u.resource,{info:u,logger:void 0}),this.c.fire({added:[u],removed:[]}))}deregisterLogger(u){const h=this.b.get(u);h&&(h.logger&&h.logger.dispose(),this.b.delete(u),this.c.fire({added:[],removed:[h.info]}))}*getRegisteredLoggers(){for(const u of this.b.values())yield u.info}getRegisteredLogger(u){return this.b.get(u)?.info}dispose(){this.b.forEach(u=>u.logger?.dispose()),this.b.clear(),super.dispose()}}t.$lk=J;class Y{constructor(){this.onDidChangeLogLevel=new E.$le().event}setLevel(u){}getLevel(){return r.Info}trace(u,...h){}debug(u,...h){}info(u,...h){}warn(u,...h){}error(u,...h){}critical(u,...h){}dispose(){}flush(){}}t.$mk=Y;class W extends Y{}t.$nk=W;function U(T){if(T.verbose)return r.Trace;if(typeof T.logLevel=="string"){const u=q(T.logLevel.toLowerCase());if(u!==void 0)return u}return t.$dk}function d(T){switch(T){case r.Trace:return"trace";case r.Debug:return"debug";case r.Info:return"info";case r.Warning:return"warn";case r.Error:return"error";case r.Off:return"off"}}function j(T){switch(T){case r.Trace:return{original:"Trace",value:f.localize(11318,null)};case r.Debug:return{original:"Debug",value:f.localize(11319,null)};case r.Info:return{original:"Info",value:f.localize(11320,null)};case r.Warning:return{original:"Warning",value:f.localize(11321,null)};case r.Error:return{original:"Error",value:f.localize(11322,null)};case r.Off:return{original:"Off",value:f.localize(11323,null)}}}function q(T){switch(T){case"trace":return r.Trace;case"debug":return r.Debug;case"info":return r.Info;case"warn":return r.Warning;case"error":return r.Error;case"critical":return r.Error;case"off":return r.Off}}t.$sk=new $.$Wj("logLevel",d(r.Info))}),define(B[26],V([0,1,5,3]),function(P,t,f,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=t.$ZG=void 0,t.$ZG=(0,p.$Fi)("IV8InspectProfilingService");var E;(function(c){function A(w){return!!(w.samples&&w.timeDeltas)}c.isValidProfile=A;function g(w,k="noAbsolutePaths"){for(const b of w.nodes)b.callFrame&&b.callFrame.url&&((0,f.$ic)(b.callFrame.url)||/^\w[\w\d+.-]*:\/\/\/?/.test(b.callFrame.url))&&(b.callFrame.url=(0,f.$jc)(k,(0,f.$nc)(b.callFrame.url)));return w}c.rewriteAbsolutePaths=g})(E||(t.Utils=E={}))}),define(B[27],V([0,1]),function(P,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Fmc=t.$Emc=t.$Dmc=void 0;const f=(g,w)=>{const k=w[g];if(k.aggregateTime)return k.aggregateTime;let b=k.selfTime;for(const a of k.children)b+=f(a,w);return k.aggregateTime=b},p=g=>{let w=0;const k=new Map,b=a=>{const $=[a.functionName,a.url,a.scriptId,a.lineNumber,a.columnNumber].join(":"),C=k.get($);if(C)return C.id;const s=w++;return k.set($,{id:s,callFrame:a,location:{lineNumber:a.lineNumber+1,columnNumber:a.columnNumber+1}}),s};for(const a of g.nodes)a.locationId=b(a.callFrame),a.positionTicks=a.positionTicks?.map($=>({...$,startLocationId:b({...a.callFrame,lineNumber:$.line-1,columnNumber:0}),endLocationId:b({...a.callFrame,lineNumber:$.line,columnNumber:0})}));return[...k.values()].sort((a,$)=>a.id-$.id).map(a=>({locations:[a.location],callFrame:a.callFrame}))},E=g=>{if(!g.timeDeltas||!g.samples)return{nodes:[],locations:[],samples:g.samples||[],timeDeltas:g.timeDeltas||[],duration:g.endTime-g.startTime};const{samples:w,timeDeltas:k}=g,a=p(g).map((l,o)=>{const y=l.locations[0];return{id:o,selfTime:0,aggregateTime:0,ticks:0,callFrame:l.callFrame,src:y}}),$=new Map,C=l=>{let o=$.get(l);return o===void 0&&(o=$.size,$.set(l,o)),o},s=new Array(g.nodes.length);for(let l=0;l<g.nodes.length;l++){const o=g.nodes[l],y=C(o.id);s[y]={id:y,selfTime:0,aggregateTime:0,locationId:o.locationId,children:o.children?.map(C)||[]};for(const N of o.positionTicks||[])N.startLocationId&&(a[N.startLocationId].ticks+=N.ticks)}for(const l of s)for(const o of l.children)s[o].parent=l.id;const i=g.endTime-g.startTime;let r=i-k[0];for(let l=0;l<k.length-1;l++){const o=k[l+1];s[C(w[l])].selfTime+=o,r-=o}s.length&&(s[C(w[k.length-1])].selfTime+=r,k.push(r));for(let l=0;l<s.length;l++){const o=s[l],y=a[o.locationId];y.aggregateTime+=f(l,s),y.selfTime+=o.selfTime}return{nodes:s,locations:a,samples:w.map(C),timeDeltas:k,duration:i}};t.$Dmc=E;class c{static root(){return new c({id:-1,selfTime:0,aggregateTime:0,ticks:0,callFrame:{functionName:"(root)",lineNumber:-1,columnNumber:-1,scriptId:"0",url:""}})}get id(){return this.location.id}get callFrame(){return this.location.callFrame}get src(){return this.location.src}constructor(w,k){this.location=w,this.parent=k,this.children={},this.aggregateTime=0,this.selfTime=0,this.ticks=0,this.childrenSize=0}addNode(w){this.selfTime+=w.selfTime,this.aggregateTime+=w.aggregateTime}}t.$Emc=c;const A=(g,w,k,b=w)=>{let a=g.children[w.locationId];a||(a=new c(k.locations[w.locationId],g),g.childrenSize++,g.children[w.locationId]=a),a.addNode(b),w.parent&&(0,t.$Fmc)(a,k.nodes[w.parent],k,b)};t.$Fmc=A}),define(B[28],V([0,1,2]),function(P,t,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Gmc=p;function p(c,A,g,w){const{sample:k,perfBaseline:b,source:a}=c;A.publicLog2("unresponsive.sample",{perfBaseline:b,selfTime:k.selfTime,totalTime:k.totalTime,percentage:k.percentage,functionName:k.location,callers:k.caller.map(C=>C.location).join("<"),callersAnnotated:k.caller.map(C=>`${C.percentage}|${C.location}`).join("<"),source:a});const $=new E(c);w?f.$V.onUnexpectedError($):g.error($)}class E extends Error{constructor(A){super(`PerfSampleError: by ${A.source} in ${A.sample.location}`),this.name="PerfSampleError",this.selfTime=A.sample.selfTime;const g=[A.sample.absLocation,...A.sample.caller.map(w=>w.absLocation)];this.stack=`
	 at ${g.join(`
	 at `)}`}}}),define(B[29],V([0,1,3]),function(P,t,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryConfiguration=t.TelemetryLevel=t.$km=t.$jm=t.$im=t.$hm=t.$gm=t.$fm=t.$em=t.$dm=t.$cm=t.$bm=t.$am=t.$_l=void 0,t.$_l=(0,f.$Fi)("telemetryService"),t.$am=(0,f.$Fi)("customEndpointTelemetryService"),t.$bm="telemetry.currentSessionDate",t.$cm="telemetry.firstSessionDate",t.$dm="telemetry.lastSessionDate",t.$em="telemetry.machineId",t.$fm="telemetry.sqmId",t.$gm="telemetry.devDeviceId",t.$hm="telemetry",t.$im="telemetry.telemetryLevel",t.$jm="telemetry.enableCrashReporter",t.$km="telemetry.enableTelemetry";var p;(function(c){c[c.NONE=0]="NONE",c[c.CRASH=1]="CRASH",c[c.ERROR=2]="ERROR",c[c.USAGE=3]="USAGE"})(p||(t.TelemetryLevel=p={}));var E;(function(c){c.OFF="off",c.CRASH="crash",c.ERROR="error",c.ON="all"})(E||(t.TelemetryConfiguration=E={}))});var $e=this&&this.__decorate||function(P,t,f,p){var E=arguments.length,c=E<3?t:p===null?p=Object.getOwnPropertyDescriptor(t,f):p,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(P,t,f,p);else for(var g=P.length-1;g>=0;g--)(A=P[g])&&(c=(E<3?A(c):E>3?A(t,f,c):A(t,f))||c);return E>3&&c&&Object.defineProperty(t,f,c),c},ae=this&&this.__param||function(P,t){return function(f,p){t(f,p,P)}};define(B[30],V([0,1,17,18,23,3,25,28,29]),function(P,t,f,p,E,c,A,g,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Hmc=t.ProfilingOutput=void 0;var k;(function(a){a[a.Failure=0]="Failure",a[a.Irrelevant=1]="Irrelevant",a[a.Interesting=2]="Interesting"})(k||(t.ProfilingOutput=k={})),t.$Hmc=(0,c.$Fi)("IProfileAnalysisWorkerService");let b=class{constructor($,C){this.b=$,this.c=C,this.a=new f.$QV("CpuProfileAnalysis")}async d($){const C=new p.SimpleWorkerClient(this.a,"vs/platform/profiling/electron-sandbox/profileAnalysisWorker",{});try{return await $(await C.getProxyObject())}finally{C.dispose()}}async analyseBottomUp($,C,s,i){return this.d(async r=>{const l=await r.analyseBottomUp($);if(l.kind===k.Interesting)for(const o of l.samples)(0,g.$Gmc)({sample:o,perfBaseline:s,source:C(o.url)},this.b,this.c,i);return l.kind})}async analyseByLocation($,C){return this.d(async s=>await s.analyseByUrlCategory($,C))}};b=$e([ae(0,w.$_l),ae(1,A.$ak)],b),(0,E.$Rs)(t.$Hmc,b,E.InstantiationType.Delayed)}),define(B[34],V([0,1,5,14,8,26,27,30]),function(P,t,f,p,E,c,A,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=w;function w(){return new k}class k{analyseBottomUp(r){if(!c.Utils.isValidProfile(r))return{kind:g.ProfilingOutput.Irrelevant,samples:[]};const l=(0,A.$Dmc)(r),o=s(l,5).filter(y=>!y.isSpecial);return o.length===0||o[0].percentage<10?{kind:g.ProfilingOutput.Irrelevant,samples:[]}:{kind:g.ProfilingOutput.Interesting,samples:o}}analyseByUrlCategory(r,l){const o=p.$Li.forUris();o.fill(l);const y=(0,A.$Dmc)(r),N=new Map;for(const O of y.nodes){const F=y.locations[O.locationId];let H;try{H=o.findSubstr(E.URI.parse(F.callFrame.url))}catch{}H||(H=a(F.callFrame));const Y=(N.get(H)??0)+O.selfTime;N.set(H,Y)}const I=[];for(const[O,F]of N)I.push([O,F]);return I}}function b(i){return i.functionName.startsWith("(")&&i.functionName.endsWith(")")}function a(i){let r=i.functionName||"(anonymous)";return i.url&&(r+="#",r+=(0,f.$nc)(i.url),i.lineNumber>=0&&(r+=":",r+=i.lineNumber+1),i.columnNumber>=0&&(r+=":",r+=i.columnNumber+1)),r}function $(i){let r=i.functionName||"(anonymous)";return i.url&&(r+=" (",r+=i.url,i.lineNumber>=0&&(r+=":",r+=i.lineNumber+1),i.columnNumber>=0&&(r+=":",r+=i.columnNumber+1),r+=")"),r}function C(i,r){const l={};for(const y of i.nodes)l[y.locationId]=(l[y.locationId]||0)+y.selfTime;const o=Object.entries(l).sort(([,y],[,N])=>N-y).slice(0,r).map(([y])=>Number(y));return new Set(o)}function s(i,r){const l=A.$Emc.root(),o=C(i,r);for(const I of i.nodes)o.has(I.locationId)&&((0,A.$Fmc)(l,I,i),l.addNode(I));const y=Object.values(l.children).sort((I,O)=>O.selfTime-I.selfTime).slice(0,r),N=[];for(const I of y){const O={selfTime:Math.round(I.selfTime/1e3),totalTime:Math.round(I.aggregateTime/1e3),location:a(I.callFrame),absLocation:$(I.callFrame),url:I.callFrame.url,caller:[],percentage:Math.round(I.selfTime/(i.duration/100)),isSpecial:b(I.callFrame)},F=[I];for(;F.length;){const H=F.pop();let J;for(const Y of Object.values(H.children))(!J||J.selfTime<Y.selfTime)&&(J=Y);if(J){const Y=Math.round(J.selfTime/(H.selfTime/100));O.caller.push({percentage:Y,location:a(J.callFrame),absLocation:$(J.callFrame)}),F.push(J)}}N.push(O)}return N}})}).call(this);

//# sourceMappingURL=https://main.vscode-cdn.net/sourcemaps/b1c0a14de1414fcdaa400695b4db1c0799bc3124/core/vs/platform/profiling/electron-sandbox/profileAnalysisWorker.js.map
