/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var K=["require","exports","vs/base/common/lifecycle","vs/base/common/observableInternal/debugName","vs/base/common/observableInternal/base","vs/base/common/platform","vs/base/common/equals","vs/base/common/observableInternal/logging","vs/base/common/errors","vs/base/common/observableInternal/autorun","vs/base/common/observableInternal/derived","vs/base/common/uri","vs/editor/common/tokens/lineTokens","vs/editor/common/encodedTokenAttributes","vs/base/common/arrays","vs/base/common/event","vs/base/common/observable","vs/base/common/buffer","vs/base/common/charCode","vs/base/common/path","vs/base/common/strings","vs/base/common/network","vs/base/common/resources","vs/base/common/async","vs/editor/common/core/eolCounter","vs/editor/common/core/lineRange","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/common/languages/nullTokenize","vs/base/common/amd","vs/base/common/assert","vs/base/common/observableInternal/lazyObservableValue","vs/base/common/observableInternal/api","vs/base/common/observableInternal/promise","vs/base/common/cancellation","vs/base/common/observableInternal/utils","vs/base/common/stream","vs/base/common/lazy","vs/base/common/symbols","vs/base/common/extpath","vs/base/common/types","vs/amdX","vs/editor/common/model/fixedArray","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/languages","vs/editor/common/model/textModelTokens","vs/base/common/stopwatch","vs/workbench/services/textMate/browser/tokenizationSupport/textMateTokenizationSupport","vs/workbench/services/textMate/browser/tokenizationSupport/tokenizationSupportWithLineLimit","vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateWorkerTokenizer","vs/workbench/services/textMate/common/TMScopeRegistry","vs/workbench/services/textMate/common/TMGrammarFactory","vs/editor/common/core/position","vs/editor/common/core/offsetRange","vs/editor/common/model/mirrorTextModel","vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateTokenizationWorker.worker"],Z=function(q){for(var e=[],T=0,$=q.length;T<$;T++)e[T]=K[q[T]];return e};define(K[28],Z([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$S=e.LoaderEventType=e.$R=void 0,e.$R=!1;var T;(function(y){y[y.LoaderAvailable=1]="LoaderAvailable",y[y.BeginLoadingScript=10]="BeginLoadingScript",y[y.EndLoadingScriptOK=11]="EndLoadingScriptOK",y[y.EndLoadingScriptError=12]="EndLoadingScriptError",y[y.BeginInvokeFactory=21]="BeginInvokeFactory",y[y.EndInvokeFactory=22]="EndInvokeFactory",y[y.NodeBeginEvaluatingScript=31]="NodeBeginEvaluatingScript",y[y.NodeEndEvaluatingScript=32]="NodeEndEvaluatingScript",y[y.NodeBeginNativeRequire=33]="NodeBeginNativeRequire",y[y.NodeEndNativeRequire=34]="NodeEndNativeRequire",y[y.CachedDataFound=60]="CachedDataFound",y[y.CachedDataMissed=61]="CachedDataMissed",y[y.CachedDataRejected=62]="CachedDataRejected",y[y.CachedDataCreated=63]="CachedDataCreated"})(T||(e.LoaderEventType=T={}));class ${static get(){const m=new Map,f=new Map,s=new Map,a=new Map;function c(n,t){n.has(t.detail)||n.set(t.detail,-t.timestamp)}function o(n,t){const i=n.get(t.detail);i&&(i>=0||n.set(t.detail,i+t.timestamp))}let d=[];typeof q=="function"&&typeof q.getStats=="function"&&(d=q.getStats().slice(0).sort((n,t)=>n.timestamp-t.timestamp));for(const n of d)switch(n.type){case T.BeginLoadingScript:c(m,n);break;case T.EndLoadingScriptOK:case T.EndLoadingScriptError:o(m,n);break;case T.BeginInvokeFactory:c(f,n);break;case T.EndInvokeFactory:o(f,n);break;case T.NodeBeginNativeRequire:c(s,n);break;case T.NodeEndNativeRequire:o(s,n);break;case T.NodeBeginEvaluatingScript:c(a,n);break;case T.NodeEndEvaluatingScript:o(a,n);break}let v=0;s.forEach(n=>v+=n);function b(n){const t=[];return n.forEach((i,r)=>t.push([r,i])),t}return{amdLoad:b(m),amdInvoke:b(f),nodeRequire:b(s),nodeEval:b(a),nodeRequireTotal:v}}static toMarkdownTable(m,f){let s="";const a=[];return m.forEach((c,o)=>{a[o]=c.length}),f.forEach(c=>{c.forEach((o,d)=>{typeof o>"u"&&(o=c[d]="-");const v=o.toString().length;a[d]=Math.max(v,a[d])})}),m.forEach((c,o)=>{s+=`| ${c+" ".repeat(a[o]-c.toString().length)} `}),s+=`|
`,m.forEach((c,o)=>{s+=`| ${"-".repeat(a[o])} `}),s+=`|
`,f.forEach(c=>{c.forEach((o,d)=>{typeof o<"u"&&(s+=`| ${o+" ".repeat(a[d]-o.toString().length)} `)}),s+=`|
`}),s}}e.$S=$});var le=this&&this.__createBinding||(Object.create?function(q,e,T,$){$===void 0&&($=T);var y=Object.getOwnPropertyDescriptor(e,T);(!y||("get"in y?!e.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return e[T]}}),Object.defineProperty(q,$,y)}:function(q,e,T,$){$===void 0&&($=T),q[$]=e[T]}),fe=this&&this.__setModuleDefault||(Object.create?function(q,e){Object.defineProperty(q,"default",{enumerable:!0,value:e})}:function(q,e){q.default=e}),ee=this&&this.__importStar||function(q){if(q&&q.__esModule)return q;var e={};if(q!=null)for(var T in q)T!=="default"&&Object.prototype.hasOwnProperty.call(q,T)&&le(e,q,T);return fe(e,q),e};define(K[6],Z([0,1,14]),function(q,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$6c=void 0,e.$7c=y,e.$8c=m,e.$9c=f,e.$0c=s,e.$$c=a,e.$_c=c,T=ee(T);const $=(b,n)=>b===n;e.$6c=$;function y(b=e.$6c){return(n,t)=>T.$tb(n,t,b)}function m(){return(b,n)=>JSON.stringify(b)===JSON.stringify(n)}function f(){return(b,n)=>b.equals(n)}function s(b,n,t){if(t!==void 0){const i=b;return i==null||n===void 0||n===null?n===i:t(i,n)}else{const i=b;return(r,l)=>r==null||l===void 0||l===null?l===r:i(r,l)}}function a(b,n){if(b===n)return!0;if(Array.isArray(b)&&Array.isArray(n)){if(b.length!==n.length)return!1;for(let t=0;t<b.length;t++)if(!a(b[t],n[t]))return!1;return!0}if(b&&typeof b=="object"&&n&&typeof n=="object"&&Object.getPrototypeOf(b)===Object.prototype&&Object.getPrototypeOf(n)===Object.prototype){const t=b,i=n,r=Object.keys(t),l=Object.keys(i),O=new Set(l);if(r.length!==l.length)return!1;for(const k of r)if(!O.has(k)||!a(t[k],i[k]))return!1;return!0}return!1}function c(b){return JSON.stringify(v(b))}let o=0;const d=new WeakMap;function v(b){if(Array.isArray(b))return b.map(v);if(b&&typeof b=="object")if(Object.getPrototypeOf(b)===Object.prototype){const n=b,t=Object.create(null);for(const i of Object.keys(n).sort())t[i]=v(n[i]);return t}else{let n=d.get(b);return n===void 0&&(n=o++,d.set(b,n)),n+"----2b76a038c20c4bcc"}return b}}),define(K[3],Z([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ad=void 0,e.$bd=m,e.$cd=v;class T{constructor(n,t,i){this.owner=n,this.debugNameSource=t,this.referenceFn=i}getDebugName(n){return m(n,this)}}e.$ad=T;const $=new Map,y=new WeakMap;function m(b,n){const t=y.get(b);if(t)return t;const i=f(b,n);if(i){let r=$.get(i)??0;r++,$.set(i,r);const l=r===1?i:`${i}#${r}`;return y.set(b,l),l}}function f(b,n){const t=y.get(b);if(t)return t;const i=n.owner?o(n.owner)+".":"";let r;const l=n.debugNameSource;if(l!==void 0)if(typeof l=="function"){if(r=l(),r!==void 0)return i+r}else return i+l;const O=n.referenceFn;if(O!==void 0&&(r=v(O),r!==void 0))return i+r;if(n.owner!==void 0){const k=s(n.owner,b);if(k!==void 0)return i+k}}function s(b,n){for(const t in b)if(b[t]===n)return t}const a=new Map,c=new WeakMap;function o(b){const n=c.get(b);if(n)return n;const t=d(b);let i=a.get(t)??0;i++,a.set(t,i);const r=i===1?t:`${t}#${i}`;return c.set(b,r),r}function d(b){const n=b.constructor;return n?n.name:"Object"}function v(b){const n=b.toString(),i=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(n);return(i?i[1]:void 0)?.trim()}}),define(K[7],Z([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Md=void 0,e.$Kd=$,e.$Ld=y;let T;function $(t){T=t}function y(){return T}class m{constructor(){this.a=0,this.d=new WeakMap}b(i){return f([s(b("|  ",this.a)),i])}c(i){return i.hadValue?i.didChange?[s(" "),c(o(i.oldValue,70),{color:"red",strikeThrough:!0}),s(" "),c(o(i.newValue,60),{color:"green"})]:[s(" (unchanged)")]:[s(" "),c(o(i.newValue,60),{color:"green"}),s(" (initial)")]}handleObservableChanged(i,r){console.log(...this.b([a("observable value changed"),c(i.debugName,{color:"BlueViolet"}),...this.c(r)]))}formatChanges(i){if(i.size!==0)return c(" (changed deps: "+[...i].map(r=>r.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(i){const r=i.handleChange;this.d.set(i,new Set),i.handleChange=(l,O)=>(this.d.get(i).add(l),r.apply(i,[l,O]))}handleDerivedRecomputed(i,r){const l=this.d.get(i);console.log(...this.b([a("derived recomputed"),c(i.debugName,{color:"BlueViolet"}),...this.c(r),this.formatChanges(l),{data:[{fn:i._debugNameData.referenceFn??i._computeFn}]}])),l.clear()}handleFromEventObservableTriggered(i,r){console.log(...this.b([a("observable from event triggered"),c(i.debugName,{color:"BlueViolet"}),...this.c(r),{data:[{fn:i._getValue}]}]))}handleAutorunCreated(i){const r=i.handleChange;this.d.set(i,new Set),i.handleChange=(l,O)=>(this.d.get(i).add(l),r.apply(i,[l,O]))}handleAutorunTriggered(i){const r=this.d.get(i);console.log(...this.b([a("autorun"),c(i.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:i._debugNameData.referenceFn??i._runFn}]}])),r.clear(),this.a++}handleAutorunFinished(i){this.a--}handleBeginTransaction(i){let r=i.getDebugName();r===void 0&&(r=""),console.log(...this.b([a("transaction"),c(r,{color:"BlueViolet"}),{data:[{fn:i._fn}]}])),this.a++}handleEndTransaction(){this.a--}}e.$Md=m;function f(t){const i=new Array,r=[];let l="";function O(S){if("length"in S)for(const j of S)j&&O(j);else"text"in S?(l+=`%c${S.text}`,i.push(S.style),S.data&&r.push(...S.data)):"data"in S&&r.push(...S.data)}O(t);const k=[l,...i];return k.push(...r),k}function s(t){return c(t,{color:"black"})}function a(t){return c(n(`${t}: `,10),{color:"black",bold:!0})}function c(t,i={color:"black"}){function r(O){return Object.entries(O).reduce((k,[S,j])=>`${k}${S}:${j};`,"")}const l={color:i.color};return i.strikeThrough&&(l["text-decoration"]="line-through"),i.bold&&(l["font-weight"]="bold"),{text:t,style:r(l)}}function o(t,i){switch(typeof t){case"number":return""+t;case"string":return t.length+2<=i?`"${t}"`:`"${t.substr(0,i-7)}"+...`;case"boolean":return t?"true":"false";case"undefined":return"undefined";case"object":return t===null?"null":Array.isArray(t)?d(t,i):v(t,i);case"symbol":return t.toString();case"function":return`[[Function${t.name?" "+t.name:""}]]`;default:return""+t}}function d(t,i){let r="[ ",l=!0;for(const O of t){if(l||(r+=", "),r.length-5>i){r+="...";break}l=!1,r+=`${o(O,i-r.length)}`}return r+=" ]",r}function v(t,i){let r="{ ",l=!0;for(const[O,k]of Object.entries(t)){if(l||(r+=", "),r.length-5>i){r+="...";break}l=!1,r+=`${O}: ${o(k,i-r.length)}`}return r+=" }",r}function b(t,i){let r="";for(let l=1;l<=i;l++)r+=t;return r}function n(t,i){for(;t.length<i;)t+=" ";return t}}),define(K[9],Z([0,1,29,2,3,7]),function(q,e,T,$,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$pd=void 0,e.$jd=f,e.$kd=s,e.$ld=a,e.$md=c,e.$nd=o,e.$od=d;function f(n){return new b(new y.$ad(void 0,void 0,n),n,void 0,void 0)}function s(n,t){return new b(new y.$ad(n.owner,n.debugName,n.debugReferenceFn??t),t,void 0,void 0)}function a(n,t){return new b(new y.$ad(n.owner,n.debugName,n.debugReferenceFn??t),t,n.createEmptyChangeSummary,n.handleChange)}function c(n,t){const i=new $.$Tc,r=a({owner:n.owner,debugName:n.debugName,debugReferenceFn:n.debugReferenceFn??t,createEmptyChangeSummary:n.createEmptyChangeSummary,handleChange:n.handleChange},(l,O)=>{i.clear(),t(l,O,i)});return(0,$.$Sc)(()=>{r.dispose(),i.dispose()})}function o(n){const t=new $.$Tc,i=s({owner:void 0,debugName:void 0,debugReferenceFn:n},r=>{t.clear(),n(r,t)});return(0,$.$Sc)(()=>{i.dispose(),t.dispose()})}function d(n,t){let i;return s({debugReferenceFn:t},r=>{const l=n.read(r),O=i;i=l,t({lastValue:O,newValue:l})})}var v;(function(n){n[n.dependenciesMightHaveChanged=1]="dependenciesMightHaveChanged",n[n.stale=2]="stale",n[n.upToDate=3]="upToDate"})(v||(v={}));class b{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(t,i,r,l){this._debugNameData=t,this._runFn=i,this.h=r,this.i=l,this.a=v.stale,this.b=0,this.c=!1,this.e=new Set,this.f=new Set,this.g=this.h?.(),(0,m.$Ld)()?.handleAutorunCreated(this),this.j(),(0,$.$Lc)(this)}dispose(){this.c=!0;for(const t of this.e)t.removeObserver(this);this.e.clear(),(0,$.$Mc)(this)}j(){if(this.a===v.upToDate)return;const t=this.f;this.f=this.e,this.e=t,this.a=v.upToDate;const i=this.c;try{if(!i){(0,m.$Ld)()?.handleAutorunTriggered(this);const r=this.g;this.g=this.h?.(),this._runFn(this,r)}}finally{i||(0,m.$Ld)()?.handleAutorunFinished(this);for(const r of this.f)r.removeObserver(this);this.f.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.a===v.upToDate&&(this.a=v.dependenciesMightHaveChanged),this.b++}endUpdate(){if(this.b===1)do{if(this.a===v.dependenciesMightHaveChanged){this.a=v.upToDate;for(const t of this.e)if(t.reportChanges(),this.a===v.stale)break}this.j()}while(this.a!==v.upToDate);this.b--,(0,T.$hd)(()=>this.b>=0)}handlePossibleChange(t){this.a===v.upToDate&&this.e.has(t)&&!this.f.has(t)&&(this.a=v.dependenciesMightHaveChanged)}handleChange(t,i){this.e.has(t)&&!this.f.has(t)&&(!this.i||this.i({changedObservable:t,change:i,didChange:l=>l===t},this.g))&&(this.a=v.stale)}readObservable(t){if(this.c)return t.get();t.addObserver(this);const i=t.get();return this.e.add(t),this.f.delete(t),i}}e.$pd=b,function(n){n.Observer=b}(f||(e.$jd=f={}))}),define(K[4],Z([0,1,6,3,7]),function(q,e,T,$,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$9d=e.$7d=e.$5d=e.$Zd=e.$Yd=void 0,e.$Vd=f,e.$Wd=a,e.$Xd=o,e.$1d=b,e.$2d=t,e.$3d=i,e.$4d=r,e.$6d=O,e.$8d=S;let m;function f(h){m=h}let s;function a(h){s=h}let c;function o(h){c=h}class d{get TChange(){return null}reportChanges(){this.get()}read(g){return g?g.readObservable(this):this.get()}map(g,C){const B=C===void 0?void 0:g,H=C===void 0?g:C;return c({owner:B,debugName:()=>{const V=(0,$.$cd)(H);if(V!==void 0)return V;const A=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(H.toString());if(A)return`${this.debugName}.${A[2]}`;if(!B)return`${this.debugName} (mapped)`},debugReferenceFn:H},V=>H(this.read(V),V))}flatten(){return c({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},g=>this.read(g).read(g))}recomputeInitiallyAndOnChange(g,C){return g.add(m(this,C)),this}keepObserved(g){return g.add(s(this)),this}get a(){return this.get()}}e.$Yd=d;class v extends d{constructor(){super(...arguments),this.b=new Set}addObserver(g){const C=this.b.size;this.b.add(g),C===0&&this.c()}removeObserver(g){this.b.delete(g)&&this.b.size===0&&this.f()}c(){}f(){}}e.$Zd=v;function b(h,g){const C=new l(h,g);try{h(C)}finally{C.finish()}}let n;function t(h){if(n)h(n);else{const g=new l(h,void 0);n=g;try{h(g)}finally{g.finish(),n=void 0}}}async function i(h,g){const C=new l(h,g);try{await h(C)}finally{C.finish()}}function r(h,g,C){h?g(h):b(g,C)}class l{constructor(g,C){this._fn=g,this.b=C,this.a=[],(0,y.$Ld)()?.handleBeginTransaction(this)}getDebugName(){return this.b?this.b():(0,$.$cd)(this._fn)}updateObserver(g,C){this.a.push({observer:g,observable:C}),g.beginUpdate(C)}finish(){const g=this.a;for(let C=0;C<g.length;C++){const{observer:B,observable:H}=g[C];B.endUpdate(H)}this.a=null,(0,y.$Ld)()?.handleEndTransaction()}}e.$5d=l;function O(h,g){let C;return typeof h=="string"?C=new $.$ad(void 0,h,void 0):C=new $.$ad(h,void 0,void 0),new k(C,g,T.$6c)}class k extends v{get debugName(){return this.e.getDebugName(this)??"ObservableValue"}constructor(g,C,B){super(),this.e=g,this.g=B,this.d=C}get(){return this.d}set(g,C,B){if(B===void 0&&this.g(this.d,g))return;let H;C||(C=H=new l(()=>{},()=>`Setting ${this.debugName}`));try{const V=this.d;this.h(g),(0,y.$Ld)()?.handleObservableChanged(this,{oldValue:V,newValue:g,change:B,didChange:!0,hadValue:!0});for(const E of this.b)C.updateObserver(E,this),E.handleChange(this,B)}finally{H&&H.finish()}}toString(){return`${this.debugName}: ${this.d}`}h(g){this.d=g}}e.$7d=k;function S(h,g){let C;return typeof h=="string"?C=new $.$ad(void 0,h,void 0):C=new $.$ad(h,void 0,void 0),new j(C,g,T.$6c)}class j extends k{h(g){this.d!==g&&(this.d&&this.d.dispose(),this.d=g)}dispose(){this.d?.dispose()}}e.$9d=j}),define(K[10],Z([0,1,29,6,2,4,3,7]),function(q,e,T,$,y,m,f,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ud=e.$Td=void 0,e.$Nd=a,e.$Od=c,e.$Pd=o,e.$Qd=d,e.$Rd=v,e.$Sd=b;function a(r,l){return l!==void 0?new t(new f.$ad(r,void 0,l),l,void 0,void 0,void 0,$.$6c):new t(new f.$ad(void 0,void 0,r),r,void 0,void 0,void 0,$.$6c)}function c(r,l,O){return new i(new f.$ad(r,void 0,l),l,void 0,void 0,void 0,$.$6c,O)}function o(r,l){return new t(new f.$ad(r.owner,r.debugName,r.debugReferenceFn),l,void 0,void 0,r.onLastObserverRemoved,r.equalsFn??$.$6c)}(0,m.$Xd)(o);function d(r,l){return new t(new f.$ad(r.owner,r.debugName,void 0),l,r.createEmptyChangeSummary,r.handleChange,void 0,r.equalityComparer??$.$6c)}function v(r,l){let O,k;l===void 0?(O=r,k=void 0):(k=r,O=l);const S=new y.$Tc;return new t(new f.$ad(k,void 0,O),j=>(S.clear(),O(j,S)),void 0,void 0,()=>S.dispose(),$.$6c)}function b(r,l){let O,k;l===void 0?(O=r,k=void 0):(k=r,O=l);let S;return new t(new f.$ad(k,void 0,O),j=>{S?S.clear():S=new y.$Tc;const h=O(j);return h&&S.add(h),h},void 0,void 0,()=>{S&&(S.dispose(),S=void 0)},$.$6c)}var n;(function(r){r[r.initial=0]="initial",r[r.dependenciesMightHaveChanged=1]="dependenciesMightHaveChanged",r[r.stale=2]="stale",r[r.upToDate=3]="upToDate"})(n||(n={}));class t extends m.$Zd{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(l,O,k,S,j=void 0,h){super(),this._debugNameData=l,this._computeFn=O,this.m=k,this.n=S,this.p=j,this.q=h,this.e=n.initial,this.g=void 0,this.h=0,this.j=new Set,this.k=new Set,this.l=void 0,this.l=this.m?.(),(0,s.$Ld)()?.handleDerivedCreated(this)}f(){this.e=n.initial,this.g=void 0;for(const l of this.j)l.removeObserver(this);this.j.clear(),this.p?.()}get(){if(this.b.size===0){const l=this._computeFn(this,this.m?.());return this.f(),l}else{do{if(this.e===n.dependenciesMightHaveChanged){for(const l of this.j)if(l.reportChanges(),this.e===n.stale)break}this.e===n.dependenciesMightHaveChanged&&(this.e=n.upToDate),this.t()}while(this.e!==n.upToDate);return this.g}}t(){if(this.e===n.upToDate)return;const l=this.k;this.k=this.j,this.j=l;const O=this.e!==n.initial,k=this.g;this.e=n.upToDate;const S=this.l;this.l=this.m?.();try{this.g=this._computeFn(this,S)}finally{for(const h of this.k)h.removeObserver(this);this.k.clear()}const j=O&&!this.q(k,this.g);if((0,s.$Ld)()?.handleDerivedRecomputed(this,{oldValue:k,newValue:this.g,change:void 0,didChange:j,hadValue:O}),j)for(const h of this.b)h.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(l){this.h++;const O=this.h===1;if(this.e===n.upToDate&&(this.e=n.dependenciesMightHaveChanged,!O))for(const k of this.b)k.handlePossibleChange(this);if(O)for(const k of this.b)k.beginUpdate(this)}endUpdate(l){if(this.h--,this.h===0){const O=[...this.b];for(const k of O)k.endUpdate(this)}(0,T.$hd)(()=>this.h>=0)}handlePossibleChange(l){if(this.e===n.upToDate&&this.j.has(l)&&!this.k.has(l)){this.e=n.dependenciesMightHaveChanged;for(const O of this.b)O.handlePossibleChange(this)}}handleChange(l,O){if(this.j.has(l)&&!this.k.has(l)){const k=this.n?this.n({changedObservable:l,change:O,didChange:j=>j===l},this.l):!0,S=this.e===n.upToDate;if(k&&(this.e===n.dependenciesMightHaveChanged||S)&&(this.e=n.stale,S))for(const j of this.b)j.handlePossibleChange(this)}}readObservable(l){l.addObserver(this);const O=l.get();return this.j.add(l),this.k.delete(l),O}addObserver(l){const O=!this.b.has(l)&&this.h>0;super.addObserver(l),O&&l.beginUpdate(this)}removeObserver(l){const O=this.b.has(l)&&this.h>0;super.removeObserver(l),O&&l.endUpdate(this)}}e.$Td=t;class i extends t{constructor(l,O,k,S,j=void 0,h,g){super(l,O,k,S,j,h),this.set=g}}e.$Ud=i}),define(K[30],Z([0,1,4]),function(q,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$de=void 0;class $ extends T.$Zd{get debugName(){return this.h.getDebugName(this)??"LazyObservableValue"}constructor(m,f,s){super(),this.h=m,this.j=s,this.e=!0,this.g=[],this.l=0,this.d=f}get(){return this.k(),this.d}k(){if(!this.e)if(this.e=!0,this.g.length>0){for(const m of this.b)for(const f of this.g)m.handleChange(this,f);this.g.length=0}else for(const m of this.b)m.handleChange(this,void 0)}m(){if(this.l++,this.l===1)for(const m of this.b)m.beginUpdate(this)}n(){if(this.l--,this.l===0){this.k();const m=[...this.b];for(const f of m)f.endUpdate(this)}}addObserver(m){const f=!this.b.has(m)&&this.l>0;super.addObserver(m),f&&m.beginUpdate(this)}removeObserver(m){const f=this.b.has(m)&&this.l>0;super.removeObserver(m),f&&m.endUpdate(this)}set(m,f,s){if(s===void 0&&this.j(this.d,m))return;let a;f||(f=a=new T.$5d(()=>{},()=>`Setting ${this.debugName}`));try{if(this.e=!1,this.o(m),s!==void 0&&this.g.push(s),f.updateObserver({beginUpdate:()=>this.m(),endUpdate:()=>this.n(),handleChange:(c,o)=>{},handlePossibleChange:c=>{}},this),this.l>1)for(const c of this.b)c.handlePossibleChange(this)}finally{a&&a.finish()}}toString(){return`${this.debugName}: ${this.d}`}o(m){this.d=m}}e.$de=$}),define(K[31],Z([0,1,6,4,3,30]),function(q,e,T,$,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ee=f;function f(s,a){return s.lazy?new m.$de(new y.$ad(s.owner,s.debugName,void 0),a,s.equalsFn??T.$6c):new $.$7d(new y.$ad(s.owner,s.debugName,void 0),a,s.equalsFn??T.$6c)}}),define(K[32],Z([0,1,9,4,10,33,3,6,8]),function(q,e,T,$,y,m,f,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ae=e.$_d=e.$$d=e.$0d=void 0,e.$be=b,e.$ce=n;class c{get cachedValue(){return this.a}constructor(i){this.b=i,this.a=(0,$.$6d)(this,void 0)}getValue(){let i=this.a.get();return i||(i=this.b(),this.a.set(i,void 0)),i}}e.$0d=c;class o{static fromFn(i){return new o(i())}constructor(i){this.a=(0,$.$6d)(this,void 0),this.promiseResult=this.a,this.promise=i.then(r=>((0,$.$1d)(l=>{this.a.set(new d(r,void 0),l)}),r),r=>{throw(0,$.$1d)(l=>{this.a.set(new d(void 0,r),l)}),r})}}e.$$d=o;class d{constructor(i,r){this.data=i,this.error=r}getDataOrThrow(){if(this.error)throw this.error;return this.data}}e.$_d=d;class v{constructor(i){this.b=i,this.a=new c(()=>new o(this.b())),this.cachedPromiseResult=(0,y.$Nd)(this,r=>this.a.cachedValue.read(r)?.promiseResult.read(r))}getPromise(){return this.a.getValue().promise}}e.$ae=v;function b(t,i,r,l){return i||(i=O=>O!=null),new Promise((O,k)=>{let S=!0,j=!1;const h=t.map(C=>({isFinished:i(C),error:r?r(C):!1,state:C})),g=(0,T.$jd)(C=>{const{isFinished:B,error:H,state:V}=h.read(C);(B||H)&&(S?j=!0:g.dispose(),H?k(H===!0?V:H):O(V))});if(l){const C=l.onCancellationRequested(()=>{g.dispose(),C.dispose(),k(new a.$4)});if(l.isCancellationRequested){g.dispose(),C.dispose(),k(new a.$4);return}}S=!1,j&&g.dispose()})}function n(t,i){let r,l;i===void 0?(r=t,l=void 0):(l=t,r=i);let O;return new y.$Td(new f.$ad(l,void 0,r),k=>(O&&O.dispose(!0),O=new m.$we,r(k,O.token)),void 0,void 0,()=>O?.dispose(),s.$6c)}}),define(K[34],Z([0,1,15,2,9,4,3,10,7,8,6]),function(q,e,T,$,y,m,f,s,a,c,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Gd=e.$Cd=e.$ud=void 0,e.$qd=d,e.$rd=b,e.$sd=n,e.$td=t,e.$vd=r,e.$wd=O,e.$xd=S,e.$yd=j,e.$zd=h,e.$Ad=g,e.$Bd=C,e.$Dd=H,e.$Ed=V,e.$Fd=E,e.$Hd=w,e.$Id=F,e.$Jd=W;function d(N){return new v(N)}class v extends m.$Yd{constructor(D){super(),this.b=D}get debugName(){return this.toString()}get(){return this.b}addObserver(D){}removeObserver(D){}toString(){return`Const: ${this.b}`}}function b(N){const D=(0,m.$6d)("promiseValue",{});return N.then(R=>{D.set({value:R},void 0)}),D}function n(...N){let D,R,z;return N.length===3?[D,R,z]=N:[R,z]=N,new i(new f.$ad(D,void 0,z),R,z,()=>i.globalTransaction,o.$6c)}function t(N,D,R){return new i(new f.$ad(N.owner,N.debugName,N.debugReferenceFn??R),D,R,()=>i.globalTransaction,N.equalsFn??o.$6c)}class i extends m.$Zd{constructor(D,R,z,U,J){super(),this.j=D,this.k=R,this._getValue=z,this.l=U,this.n=J,this.g=!1,this.r=Y=>{const Q=this._getValue(Y),te=this.e,ae=!this.g||!this.n(te,Q);let oe=!1;ae&&(this.e=Q,this.g&&(oe=!0,(0,m.$4d)(this.l(),re=>{(0,a.$Ld)()?.handleFromEventObservableTriggered(this,{oldValue:te,newValue:Q,change:void 0,didChange:ae,hadValue:this.g});for(const ie of this.b)re.updateObserver(ie,this),ie.handleChange(this,void 0)},()=>{const re=this.p();return"Event fired"+(re?`: ${re}`:"")})),this.g=!0),oe||(0,a.$Ld)()?.handleFromEventObservableTriggered(this,{oldValue:te,newValue:Q,change:void 0,didChange:ae,hadValue:this.g})}}p(){return this.j.getDebugName(this)}get debugName(){const D=this.p();return"From Event"+(D?`: ${D}`:"")}c(){this.h=this.k(this.r)}f(){this.h.dispose(),this.h=void 0,this.g=!1,this.e=void 0}get(){return this.h?(this.g||this.r(void 0),this.e):this._getValue(void 0)}}e.$ud=i,function(N){N.Observer=i;function D(R,z){let U=!1;i.globalTransaction===void 0&&(i.globalTransaction=R,U=!0);try{z()}finally{U&&(i.globalTransaction=void 0)}}N.batchEventsGlobally=D}(n||(e.$sd=n={}));function r(N,D){return new l(N,D)}class l extends m.$Zd{constructor(D,R){super(),this.debugName=D,this.g=R,this.j=()=>{(0,m.$1d)(z=>{for(const U of this.b)z.updateObserver(U,this),U.handleChange(this,void 0)},()=>this.debugName)}}c(){this.e=this.g(this.j)}f(){this.e.dispose(),this.e=void 0}get(){}}function O(N){return typeof N=="string"?new k(N):new k(void 0,N)}class k extends m.$Zd{get debugName(){return new f.$ad(this.g,this.e,void 0).getDebugName(this)??"Observable Signal"}toString(){return this.debugName}constructor(D,R){super(),this.e=D,this.g=R}trigger(D,R){if(!D){(0,m.$1d)(z=>{this.trigger(z,R)},()=>`Trigger signal ${this.debugName}`);return}for(const z of this.b)D.updateObserver(z,this),z.handleChange(this,R)}get(){}}function S(N,D,R){const z=(0,m.$6d)("debounced",void 0);let U;return R.add((0,y.$jd)(J=>{const Y=N.read(J);U&&clearTimeout(U),U=setTimeout(()=>{(0,m.$1d)(Q=>{z.set(Y,Q)})},D)})),z}function j(N,D){let R=!1,z,U;return n(J=>{const Y=(0,y.$jd)(Q=>{const te=N.read(Q);R?(U&&clearTimeout(U),U=setTimeout(()=>{z=te,J()},D)):(R=!0,z=te)});return{dispose(){Y.dispose(),R=!1,z=void 0}}},()=>R?z:N.get())}function h(N,D,R){const z=(0,m.$6d)("triggeredRecently",!1);let U;return R.add(N(()=>{z.set(!0,void 0),U&&clearTimeout(U),U=setTimeout(()=>{z.set(!1,void 0)},D)})),z}function g(N){const D=new B(!1,void 0);return N.addObserver(D),(0,$.$Sc)(()=>{N.removeObserver(D)})}(0,m.$Wd)(g);function C(N,D){const R=new B(!0,D);return N.addObserver(R),D?D(N.get()):N.reportChanges(),(0,$.$Sc)(()=>{N.removeObserver(R)})}(0,m.$Vd)(C);class B{constructor(D,R){this.b=D,this.c=R,this.a=0}beginUpdate(D){this.a++}endUpdate(D){this.a--,this.a===0&&this.b&&(this.c?this.c(D.get()):D.reportChanges())}handlePossibleChange(D){}handleChange(D,R){}}e.$Cd=B;function H(N,D){let R;return(0,s.$Pd)({owner:N,debugReferenceFn:D},U=>(R=D(U,R),R))}function V(N,D){let R;const z=O("derivedObservableWithWritableCache"),U=(0,s.$Nd)(N,J=>(z.read(J),R=D(J,R),R));return Object.assign(U,{clearCache:J=>{R=void 0,z.trigger(J)},setCache:(J,Y)=>{R=J,z.trigger(Y)}})}function E(N,D,R,z){let U=new A(R,z);return(0,s.$Pd)({debugReferenceFn:R,owner:N,onLastObserverRemoved:()=>{U.dispose(),U=new A(R)}},Y=>(U.setItems(D.read(Y)),U.getItems()))}class A{constructor(D,R){this.c=D,this.e=R,this.a=new Map,this.b=[]}dispose(){this.a.forEach(D=>D.store.dispose()),this.a.clear()}setItems(D){const R=[],z=new Set(this.a.keys());for(const U of D){const J=this.e?this.e(U):U;let Y=this.a.get(J);if(Y)z.delete(J);else{const Q=new $.$Tc;Y={out:this.c(U,Q),store:Q},this.a.set(J,Y)}R.push(Y.out)}for(const U of z)this.a.get(U).store.dispose(),this.a.delete(U);this.b=R}getItems(){return this.b}}class P{constructor(D){this.observable=D}get onDidChange(){return T.Event.fromObservableLight(this.observable)}get value(){return this.observable.get()}}e.$Gd=P;function w(N,D){return D instanceof P?D.observable:n(N,D.onDidChange,()=>D.value)}function F(N,D){if(D.length===0)throw new c.$bb;let R=!1,z;const U=n(N,J=>{const Y=new $.$Tc;for(const Q of D)Y.add((0,y.$kd)({debugName:()=>(0,f.$bd)(U,new f.$ad(N,void 0,void 0))+".updateLastChangedValue"},te=>{R=!0,z=Q.read(te),J()}));return Y.add({dispose(){R=!1,z=void 0}}),Y},()=>R?z:D[D.length-1].get());return U}function W(N,D){return H(N,(R,z)=>z??D(R))}}),define(K[16],Z([0,1,4,10,9,34,32,31,7]),function(q,e,T,$,y,m,f,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observableValueOpts=e.derivedWithCancellationToken=e.waitForState=e.PromiseResult=e.ObservablePromise=e.ObservableLazyPromise=e.ObservableLazy=e.wasEventTriggeredRecently=e.observableSignalFromEvent=e.observableSignal=e.observableFromPromise=e.observableFromEvent=e.recomputeInitiallyAndOnChange=e.keepObserved=e.derivedObservableWithWritableCache=e.derivedObservableWithCache=e.debouncedObservable=e.constObservable=e.autorunWithStoreHandleChanges=e.autorunOpts=e.autorunWithStore=e.autorunHandleChanges=e.autorunDelta=e.autorun=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=e.subtransaction=e.transaction=e.disposableObservableValue=e.observableValue=void 0,Object.defineProperty(e,"observableValue",{enumerable:!0,get:function(){return T.$6d}}),Object.defineProperty(e,"disposableObservableValue",{enumerable:!0,get:function(){return T.$8d}}),Object.defineProperty(e,"transaction",{enumerable:!0,get:function(){return T.$1d}}),Object.defineProperty(e,"subtransaction",{enumerable:!0,get:function(){return T.$4d}}),Object.defineProperty(e,"derived",{enumerable:!0,get:function(){return $.$Nd}}),Object.defineProperty(e,"derivedOpts",{enumerable:!0,get:function(){return $.$Pd}}),Object.defineProperty(e,"derivedHandleChanges",{enumerable:!0,get:function(){return $.$Qd}}),Object.defineProperty(e,"derivedWithStore",{enumerable:!0,get:function(){return $.$Rd}}),Object.defineProperty(e,"autorun",{enumerable:!0,get:function(){return y.$jd}}),Object.defineProperty(e,"autorunDelta",{enumerable:!0,get:function(){return y.$od}}),Object.defineProperty(e,"autorunHandleChanges",{enumerable:!0,get:function(){return y.$ld}}),Object.defineProperty(e,"autorunWithStore",{enumerable:!0,get:function(){return y.$nd}}),Object.defineProperty(e,"autorunOpts",{enumerable:!0,get:function(){return y.$kd}}),Object.defineProperty(e,"autorunWithStoreHandleChanges",{enumerable:!0,get:function(){return y.$md}}),Object.defineProperty(e,"constObservable",{enumerable:!0,get:function(){return m.$qd}}),Object.defineProperty(e,"debouncedObservable",{enumerable:!0,get:function(){return m.$xd}}),Object.defineProperty(e,"derivedObservableWithCache",{enumerable:!0,get:function(){return m.$Dd}}),Object.defineProperty(e,"derivedObservableWithWritableCache",{enumerable:!0,get:function(){return m.$Ed}}),Object.defineProperty(e,"keepObserved",{enumerable:!0,get:function(){return m.$Ad}}),Object.defineProperty(e,"recomputeInitiallyAndOnChange",{enumerable:!0,get:function(){return m.$Bd}}),Object.defineProperty(e,"observableFromEvent",{enumerable:!0,get:function(){return m.$sd}}),Object.defineProperty(e,"observableFromPromise",{enumerable:!0,get:function(){return m.$rd}}),Object.defineProperty(e,"observableSignal",{enumerable:!0,get:function(){return m.$wd}}),Object.defineProperty(e,"observableSignalFromEvent",{enumerable:!0,get:function(){return m.$vd}}),Object.defineProperty(e,"wasEventTriggeredRecently",{enumerable:!0,get:function(){return m.$zd}}),Object.defineProperty(e,"ObservableLazy",{enumerable:!0,get:function(){return f.$0d}}),Object.defineProperty(e,"ObservableLazyPromise",{enumerable:!0,get:function(){return f.$ae}}),Object.defineProperty(e,"ObservablePromise",{enumerable:!0,get:function(){return f.$$d}}),Object.defineProperty(e,"PromiseResult",{enumerable:!0,get:function(){return f.$_d}}),Object.defineProperty(e,"waitForState",{enumerable:!0,get:function(){return f.$be}}),Object.defineProperty(e,"derivedWithCancellationToken",{enumerable:!0,get:function(){return f.$ce}}),Object.defineProperty(e,"observableValueOpts",{enumerable:!0,get:function(){return s.$ee}}),!1&&(0,a.$Kd)(new a.$Md)}),define(K[35],Z([0,1,8,2]),function(q,e,T,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ye=y,e.$ze=m,e.$Ae=f,e.$Be=s,e.$Ce=c,e.$De=o,e.$Ee=d,e.$Fe=v,e.$Ge=b,e.$He=n,e.$Ie=t,e.$Je=i,e.$Ke=r,e.$Le=l,e.$Me=O;function y(k){const S=k;return S?typeof S.read=="function":!1}function m(k){const S=k;return S?[S.on,S.pause,S.resume,S.destroy].every(j=>typeof j=="function"):!1}function f(k){const S=k;return S?m(S.stream)&&Array.isArray(S.buffer)&&typeof S.ended=="boolean":!1}function s(k,S){return new a(k,S)}class a{constructor(S,j){this.e=S,this.f=j,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(S){if(!this.a.destroyed){if(this.a.flowing)this.g(S);else if(this.b.data.push(S),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(j=>this.d.push(j))}}error(S){this.a.destroyed||(this.a.flowing?this.h(S):this.b.error.push(S))}end(S){this.a.destroyed||(typeof S<"u"&&this.write(S),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(S){this.c.data.slice(0).forEach(j=>j(S))}h(S){this.c.error.length===0?(0,T.$Y)(S):this.c.error.slice(0).forEach(j=>j(S))}i(){this.c.end.slice(0).forEach(S=>S())}on(S,j){if(!this.a.destroyed)switch(S){case"data":this.c.data.push(j),this.resume();break;case"end":this.c.end.push(j),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(j),this.a.flowing&&this.k();break}}removeListener(S,j){if(this.a.destroyed)return;let h;switch(S){case"data":h=this.c.data;break;case"end":h=this.c.end;break;case"error":h=this.c.error;break}if(h){const g=h.indexOf(j);g>=0&&h.splice(g,1)}}j(){if(this.b.data.length>0){const S=this.e(this.b.data);this.g(S),this.b.data.length=0;const j=[...this.d];this.d.length=0,j.forEach(h=>h())}}k(){if(this.c.error.length>0){for(const S of this.b.error)this.h(S);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function c(k,S){const j=[];let h;for(;(h=k.read())!==null;)j.push(h);return S(j)}function o(k,S,j){const h=[];let g;for(;(g=k.read())!==null&&h.length<j;)h.push(g);return g===null&&h.length>0?S(h):{read:()=>{if(h.length>0)return h.shift();if(typeof g<"u"){const C=g;return g=void 0,C}return k.read()}}}function d(k,S){return new Promise((j,h)=>{const g=[];v(k,{onData:C=>{S&&g.push(C)},onError:C=>{S?h(C):j(void 0)},onEnd:()=>{j(S?S(g):void 0)}})})}function v(k,S,j){k.on("error",h=>{j?.isCancellationRequested||S.onError(h)}),k.on("end",()=>{j?.isCancellationRequested||S.onEnd()}),k.on("data",h=>{j?.isCancellationRequested||S.onData(h)})}function b(k,S){return new Promise((j,h)=>{const g=new $.$Tc,C=[],B=E=>{if(C.push(E),C.length>S)return g.dispose(),k.pause(),j({stream:k,buffer:C,ended:!1})},H=E=>(g.dispose(),h(E)),V=()=>(g.dispose(),j({stream:k,buffer:C,ended:!0}));g.add((0,$.$Sc)(()=>k.removeListener("error",H))),k.on("error",H),g.add((0,$.$Sc)(()=>k.removeListener("end",V))),k.on("end",V),g.add((0,$.$Sc)(()=>k.removeListener("data",B))),k.on("data",B)})}function n(k,S){const j=s(S);return j.end(k),j}function t(){const k=s(()=>{throw new Error("not supported")});return k.end(),k}function i(k){let S=!1;return{read:()=>S?null:(S=!0,k)}}function r(k,S,j){const h=s(j);return v(k,{onData:g=>h.write(S.data(g)),onError:g=>h.error(S.error?S.error(g):g),onEnd:()=>h.end()}),h}function l(k,S,j){let h=!1;return{read:()=>{const g=S.read();return h?g:(h=!0,g!==null?j([k,g]):k)}}}function O(k,S,j){let h=!1;const g=s(j);return v(S,{onData:C=>h?g.write(C):(h=!0,g.write(j([k,C]))),onError:C=>g.error(C),onEnd:()=>{h||(h=!0,g.write(k)),g.end()}}),g}}),define(K[17],Z([0,1,36,35]),function(q,e,T,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ne=void 0,e.$Oe=c,e.$Pe=o,e.$Qe=d,e.$Re=v,e.$Se=b,e.$Te=n,e.$Ue=t,e.$Ve=i,e.$We=r,e.$Xe=l,e.$Ye=O,e.$Ze=k,e.$1e=S,e.$2e=j,e.$3e=h,e.$4e=g,e.$5e=C,e.$6e=B,e.$7e=H,e.$8e=A,$=ee($);const y=typeof Buffer<"u",m=new T.$T(()=>new Uint8Array(256));let f,s;class a{static alloc(w){return y?new a(Buffer.allocUnsafe(w)):new a(new Uint8Array(w))}static wrap(w){return y&&!Buffer.isBuffer(w)&&(w=Buffer.from(w.buffer,w.byteOffset,w.byteLength)),new a(w)}static fromString(w,F){return!(F?.dontUseNodeBuffer||!1)&&y?new a(Buffer.from(w)):(f||(f=new TextEncoder),new a(f.encode(w)))}static fromByteArray(w){const F=a.alloc(w.length);for(let W=0,N=w.length;W<N;W++)F.buffer[W]=w[W];return F}static concat(w,F){if(typeof F>"u"){F=0;for(let D=0,R=w.length;D<R;D++)F+=w[D].byteLength}const W=a.alloc(F);let N=0;for(let D=0,R=w.length;D<R;D++){const z=w[D];W.set(z,N),N+=z.byteLength}return W}constructor(w){this.buffer=w,this.byteLength=this.buffer.byteLength}clone(){const w=a.alloc(this.byteLength);return w.set(this),w}toString(){return y?this.buffer.toString():(s||(s=new TextDecoder),s.decode(this.buffer))}slice(w,F){return new a(this.buffer.subarray(w,F))}set(w,F){if(w instanceof a)this.buffer.set(w.buffer,F);else if(w instanceof Uint8Array)this.buffer.set(w,F);else if(w instanceof ArrayBuffer)this.buffer.set(new Uint8Array(w),F);else if(ArrayBuffer.isView(w))this.buffer.set(new Uint8Array(w.buffer,w.byteOffset,w.byteLength),F);else throw new Error("Unknown argument 'array'")}readUInt32BE(w){return v(this.buffer,w)}writeUInt32BE(w,F){b(this.buffer,w,F)}readUInt32LE(w){return n(this.buffer,w)}writeUInt32LE(w,F){t(this.buffer,w,F)}readUInt8(w){return i(this.buffer,w)}writeUInt8(w,F){r(this.buffer,w,F)}indexOf(w,F=0){return c(this.buffer,w instanceof a?w.buffer:w,F)}}e.$Ne=a;function c(P,w,F=0){const W=w.byteLength,N=P.byteLength;if(W===0)return 0;if(W===1)return P.indexOf(w[0]);if(W>N-F)return-1;const D=m.value;D.fill(w.length);for(let J=0;J<w.length;J++)D[w[J]]=w.length-J-1;let R=F+w.length-1,z=R,U=-1;for(;R<N;)if(P[R]===w[z]){if(z===0){U=R;break}R--,z--}else R+=Math.max(w.length-z,D[P[R]]),z=w.length-1;return U}function o(P,w){return P[w+0]<<0>>>0|P[w+1]<<8>>>0}function d(P,w,F){P[F+0]=w&255,w=w>>>8,P[F+1]=w&255}function v(P,w){return P[w]*2**24+P[w+1]*2**16+P[w+2]*2**8+P[w+3]}function b(P,w,F){P[F+3]=w,w=w>>>8,P[F+2]=w,w=w>>>8,P[F+1]=w,w=w>>>8,P[F]=w}function n(P,w){return P[w+0]<<0>>>0|P[w+1]<<8>>>0|P[w+2]<<16>>>0|P[w+3]<<24>>>0}function t(P,w,F){P[F+0]=w&255,w=w>>>8,P[F+1]=w&255,w=w>>>8,P[F+2]=w&255,w=w>>>8,P[F+3]=w&255}function i(P,w){return P[w]}function r(P,w,F){P[F]=w}function l(P){return $.$Ce(P,w=>a.concat(w))}function O(P){return $.$Je(P)}function k(P){return $.$Ee(P,w=>a.concat(w))}async function S(P){return P.ended?a.concat(P.buffer):a.concat([...P.buffer,await k(P.stream)])}function j(P){return $.$He(P,w=>a.concat(w))}function h(P){return $.$Ke(P,{data:w=>typeof w=="string"?a.fromString(w):a.wrap(w)},w=>a.concat(w))}function g(P){return $.$Be(w=>a.concat(w),P)}function C(P,w){return $.$Le(P,w,F=>a.concat(F))}function B(P,w){return $.$Me(P,w,F=>a.concat(F))}function H(P){let w=0,F=0,W=0;const N=new Uint8Array(Math.floor(P.length/4*3)),D=z=>{switch(F){case 3:N[W++]=w|z,F=0;break;case 2:N[W++]=w|z>>>2,w=z<<6,F=3;break;case 1:N[W++]=w|z>>>4,w=z<<4,F=2;break;default:w=z<<2,F=1}};for(let z=0;z<P.length;z++){const U=P.charCodeAt(z);if(U>=65&&U<=90)D(U-65);else if(U>=97&&U<=122)D(U-97+26);else if(U>=48&&U<=57)D(U-48+52);else if(U===43||U===45)D(62);else if(U===47||U===95)D(63);else{if(U===61)break;throw new SyntaxError(`Unexpected base64 character ${P[z]}`)}}const R=W;for(;F>0;)D(0);return a.wrap(N).slice(0,R)}const V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function A({buffer:P},w=!0,F=!1){const W=F?E:V;let N="";const D=P.byteLength%3;let R=0;for(;R<P.byteLength-D;R+=3){const z=P[R+0],U=P[R+1],J=P[R+2];N+=W[z>>>2],N+=W[(z<<4|U>>>4)&63],N+=W[(U<<2|J>>>6)&63],N+=W[J&63]}if(D===1){const z=P[R+0];N+=W[z>>>2],N+=W[z<<4&63],w&&(N+="==")}else if(D===2){const z=P[R+0],U=P[R+1];N+=W[z>>>2],N+=W[(z<<4|U>>>4)&63],N+=W[U<<2&63],w&&(N+="=")}return N}}),define(K[37],Z([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ge=void 0,e.$ge=Symbol("MicrotaskDelay")}),define(K[38],Z([0,1,18,19,5,20,39]),function(q,e,T,$,y,m,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$xg=s,e.$yg=a,e.$zg=c,e.$Ag=o,e.$Bg=d,e.$Cg=t,e.$Dg=i,e.$Eg=r,e.$Fg=l,e.$Gg=O,e.$Hg=k,e.$Ig=S,e.$Jg=j,e.$Kg=h,e.$Lg=g,e.$Mg=C,e.$Ng=V;function s(E){return E===T.CharCode.Slash||E===T.CharCode.Backslash}function a(E){return E.replace(/[\\/]/g,$.$gc.sep)}function c(E){return E.indexOf("/")===-1&&(E=a(E)),/^[a-zA-Z]:(\/|$)/.test(E)&&(E="/"+E),E}function o(E,A=$.$gc.sep){if(!E)return"";const P=E.length,w=E.charCodeAt(0);if(s(w)){if(s(E.charCodeAt(1))&&!s(E.charCodeAt(2))){let W=3;const N=W;for(;W<P&&!s(E.charCodeAt(W));W++);if(N!==W&&!s(E.charCodeAt(W+1))){for(W+=1;W<P;W++)if(s(E.charCodeAt(W)))return E.slice(0,W+1).replace(/[\\/]/g,A)}}return A}else if(l(w)&&E.charCodeAt(1)===T.CharCode.Colon)return s(E.charCodeAt(2))?E.slice(0,2)+A:E.slice(0,2);let F=E.indexOf("://");if(F!==-1){for(F+=3;F<P;F++)if(s(E.charCodeAt(F)))return E.slice(0,F+1)}return""}function d(E){if(!y.$j||!E||E.length<5)return!1;let A=E.charCodeAt(0);if(A!==T.CharCode.Backslash||(A=E.charCodeAt(1),A!==T.CharCode.Backslash))return!1;let P=2;const w=P;for(;P<E.length&&(A=E.charCodeAt(P),A!==T.CharCode.Backslash);P++);return!(w===P||(A=E.charCodeAt(P+1),isNaN(A)||A===T.CharCode.Backslash))}const v=/[\\/:\*\?"<>\|]/g,b=/[/]/g,n=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function t(E,A=y.$j){const P=A?v:b;return!(!E||E.length===0||/^\s+$/.test(E)||(P.lastIndex=0,P.test(E))||A&&n.test(E)||E==="."||E===".."||A&&E[E.length-1]==="."||A&&E.length!==E.trim().length||E.length>255)}function i(E,A,P){const w=E===A;return!P||w?w:!E||!A?!1:(0,m.$Ff)(E,A)}function r(E,A,P,w=$.sep){if(E===A)return!0;if(!E||!A||A.length>E.length)return!1;if(P){if(!(0,m.$Gf)(E,A))return!1;if(A.length===E.length)return!0;let W=A.length;return A.charAt(A.length-1)===w&&W--,E.charAt(W)===w}return A.charAt(A.length-1)!==w&&(A+=w),E.indexOf(A)===0}function l(E){return E>=T.CharCode.A&&E<=T.CharCode.Z||E>=T.CharCode.a&&E<=T.CharCode.z}function O(E,A){return y.$j&&E.endsWith(":")&&(E+=$.sep),(0,$.$ic)(E)||(E=(0,$.$jc)(A,E)),E=(0,$.$hc)(E),k(E)}function k(E){return y.$j?(E=(0,m.$nf)(E,$.sep),E.endsWith(":")&&(E+=$.sep)):(E=(0,m.$nf)(E,$.sep),E||(E=$.sep)),E}function S(E){const A=(0,$.$hc)(E);return y.$j?E.length>3?!1:j(A)&&(E.length===2||A.charCodeAt(2)===T.CharCode.Backslash):A===$.$gc.sep}function j(E,A=y.$j){return A?l(E.charCodeAt(0))&&E.charCodeAt(1)===T.CharCode.Colon:!1}function h(E,A=y.$j){return j(E,A)?E[0]:void 0}function g(E,A,P){return A.length>E.length?-1:E===A?0:(P&&(E=E.toLowerCase(),A=A.toLowerCase()),E.indexOf(A))}function C(E){const A=E.split(":");let P,w,F;for(const W of A){const N=Number(W);(0,f.$ig)(N)?w===void 0?w=N:F===void 0&&(F=N):P=P?[P,W].join(":"):W}if(!P)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:P,line:w!==void 0?w:void 0,column:F!==void 0?F:w!==void 0?1:void 0}}const B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",H="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function V(E,A,P=8){let w="";for(let W=0;W<P;W++){let N;W===0&&y.$j&&!A&&(P===3||P===4)?N=H:N=B,w+=N.charAt(Math.floor(Math.random()*N.length))}let F;return A?F=`${A}-${w}`:F=w,E?(0,$.$jc)(E,F):F}}),define(K[21],Z([0,1,8,5,20,11,19]),function(q,e,T,$,y,m,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.$Zg=e.$Yg=e.$Xg=e.$Wg=e.$Vg=e.$Ug=e.$Sg=e.$Rg=e.$Qg=e.Schemas=void 0,e.$Og=a,e.$Pg=c,e.$Tg=d,T=ee(T),$=ee($),f=ee(f);var s;(function(n){n.inMemory="inmemory",n.vscode="vscode",n.internal="private",n.walkThrough="walkThrough",n.walkThroughSnippet="walkThroughSnippet",n.http="http",n.https="https",n.file="file",n.mailto="mailto",n.untitled="untitled",n.data="data",n.command="command",n.vscodeRemote="vscode-remote",n.vscodeRemoteResource="vscode-remote-resource",n.vscodeManagedRemoteResource="vscode-managed-remote-resource",n.vscodeUserData="vscode-userdata",n.vscodeCustomEditor="vscode-custom-editor",n.vscodeNotebookCell="vscode-notebook-cell",n.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",n.vscodeNotebookCellOutput="vscode-notebook-cell-output",n.vscodeInteractiveInput="vscode-interactive-input",n.vscodeSettings="vscode-settings",n.vscodeWorkspaceTrust="vscode-workspace-trust",n.vscodeTerminal="vscode-terminal",n.vscodeChatCodeBlock="vscode-chat-code-block",n.vscodeCopilotBackingChatCodeBlock="vscode-copilot-chat-code-block",n.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",n.vscodeChatSesssion="vscode-chat-editor",n.webviewPanel="webview-panel",n.vscodeWebview="vscode-webview",n.extension="extension",n.vscodeFileResource="vscode-file",n.tmp="tmp",n.vsls="vsls",n.vscodeSourceControl="vscode-scm",n.commentsInput="comment",n.codeSetting="code-setting"})(s||(e.Schemas=s={}));function a(n,t){return m.URI.isUri(n)?(0,y.$Ff)(n.scheme,t):(0,y.$Gf)(n,t+":")}function c(n,...t){return t.some(i=>a(n,i))}e.$Qg="vscode-tkn",e.$Rg="tkn";class o{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f="/"}setPreferredWebSchema(t){this.d=t}setDelegate(t){this.e=t}setServerRootPath(t,i){this.f=d(t,i)}getServerRootPath(){return this.f}get g(){return f.$gc.join(this.f,s.vscodeRemoteResource)}set(t,i,r){this.a[t]=i,this.b[t]=r}setConnectionToken(t,i){this.c[t]=i}getPreferredWebSchema(){return this.d}rewrite(t){if(this.e)try{return this.e(t)}catch(S){return T.$Y(S),t}const i=t.authority;let r=this.a[i];r&&r.indexOf(":")!==-1&&r.indexOf("[")===-1&&(r=`[${r}]`);const l=this.b[i],O=this.c[i];let k=`path=${encodeURIComponent(t.path)}`;return typeof O=="string"&&(k+=`&${e.$Rg}=${encodeURIComponent(O)}`),m.URI.from({scheme:$.$p?this.d:s.vscodeRemoteResource,authority:`${r}:${l}`,path:this.g,query:k})}}e.$Sg=new o;function d(n,t){return f.$gc.join(t??"/",`${n.quality??"oss"}-${n.commit??"dev"}`)}e.$Ug="vs/../../extensions",e.$Vg="vs/../../node_modules",e.$Wg="vs/../../node_modules.asar",e.$Xg="vs/../../node_modules.asar.unpacked",e.$Yg="vscode-app";class v{static{this.a=e.$Yg}asBrowserUri(t){const i=this.b(t,q);return this.uriToBrowserUri(i)}uriToBrowserUri(t){return t.scheme===s.vscodeRemote?e.$Sg.rewrite(t):t.scheme===s.file&&($.$n||$.$r===`${s.vscodeFileResource}://${v.a}`)?t.with({scheme:s.vscodeFileResource,authority:t.authority||v.a,query:null,fragment:null}):t}asFileUri(t){const i=this.b(t,q);return this.uriToFileUri(i)}uriToFileUri(t){return t.scheme===s.vscodeFileResource?t.with({scheme:s.file,authority:t.authority!==v.a?t.authority:null,query:null,fragment:null}):t}b(t,i){return m.URI.isUri(t)?t:m.URI.parse(i.toUrl(t))}}e.$Zg=new v;var b;(function(n){const t=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);n.CoopAndCoep=Object.freeze(t.get("3"));const i="vscode-coi";function r(O){let k;typeof O=="string"?k=new URL(O).searchParams:O instanceof URL?k=O.searchParams:m.URI.isUri(O)&&(k=new URL(O.toString(!0)).searchParams);const S=k?.get(i);if(S)return t.get(S)}n.getHeadersFromQuery=r;function l(O,k,S){if(!globalThis.crossOriginIsolated)return;const j=k&&S?"3":S?"2":"1";O instanceof URLSearchParams?O.set(i,j):O[i]=j}n.addSearchParam=l})(b||(e.COI=b={}))}),define(K[40],Z([0,1,28,21,5,39,11]),function(q,e,T,$,y,m,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$CE=d,e.$DE=v,y=ee(y);class s{constructor(n,t,i){this.id=n,this.dependencies=t,this.callback=i}}class a{static{this.INSTANCE=new a}constructor(){this.a=typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",this.b=typeof document=="object",this.c=[],this.d=!1}g(){this.d||(this.d=!0,globalThis.define=(n,t,i)=>{typeof n!="string"&&(i=t,t=n,n=null),(typeof t!="object"||!Array.isArray(t))&&(i=t,t=null),this.c.push(new s(n,t,i))},globalThis.define.amd=!0,this.b?this.f=window.trustedTypes?.createPolicy("amdLoader",{createScriptURL(n){if(n.startsWith(window.location.origin)||n.startsWith("vscode-file://vscode-app"))return n;throw new Error(`[trusted_script_src] Invalid script url: ${n}`)}}):this.a&&(this.f=globalThis.trustedTypes?.createPolicy("amdLoader",{createScriptURL(n){return n}})))}async load(n){this.g();const t=await(this.a?this.i(n):this.b?this.h(n):this.j(n));if(!t)throw new Error(`Did not receive a define call from script ${n}`);if(Array.isArray(t.dependencies)&&t.dependencies.length>0)throw new Error(`Cannot resolve dependencies for script ${n}. The dependencies are: ${t.dependencies.join(", ")}`);return typeof t.callback=="function"?t.callback([]):t.callback}h(n){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("async","async"),r.setAttribute("type","text/javascript");const l=()=>{r.removeEventListener("load",O),r.removeEventListener("error",k)},O=S=>{l(),t(this.c.pop())},k=S=>{l(),i(S)};r.addEventListener("load",O),r.addEventListener("error",k),this.f&&(n=this.f.createScriptURL(n)),r.setAttribute("src",n),window.document.getElementsByTagName("head")[0].appendChild(r)})}i(n){return new Promise((t,i)=>{try{this.f&&(n=this.f.createScriptURL(n)),importScripts(n),t(this.c.pop())}catch(r){i(r)}})}async j(n){try{const t=globalThis._VSCODE_NODE_MODULES.fs,i=globalThis._VSCODE_NODE_MODULES.vm,r=globalThis._VSCODE_NODE_MODULES.module,l=f.URI.parse(n).fsPath,O=t.readFileSync(l).toString(),k=r.wrap(O.replace(/^#!.*/,""));return new i.Script(k).runInThisContext().apply(),this.c.pop()}catch(t){throw t}}}const c=new Map;let o={};typeof globalThis.require=="object"&&(o=globalThis.require.paths??{});async function d(b,n,t){if(T.$R){t===void 0&&(t=!!(globalThis._VSCODE_PRODUCT_JSON??globalThis.vscode?.context?.configuration()?.product)?.commit),o[b]&&(b=o[b]);const i=n?`${b}/${n}`:b;if(c.has(i))return c.get(i);let r;if(/^\w[\w\d+.-]*:\/\//.test(i))r=i;else{const S=`${t&&!y.$p?$.$Wg:$.$Vg}/${i}`;r=$.$Zg.asBrowserUri(S).toString(!0)}const l=a.INSTANCE.load(r);return c.set(i,l),l}else return await new Promise((i,r)=>{q([b],i,r)}).then(ee)}function v(b,n){(0,m.$og)(T.$R);const r=!!(globalThis._VSCODE_PRODUCT_JSON??globalThis.vscode?.context?.configuration()?.product)?.commit&&!y.$p,l=`${b}/${n}`,k=`${r?$.$Wg:$.$Vg}/${l}`;return $.$Zg.asBrowserUri(k).toString(!0)}}),define(K[22],Z([0,1,18,38,21,19,5,20,11]),function(q,e,T,$,y,m,f,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.$oh=e.$nh=e.$mh=e.$lh=e.$kh=e.$jh=e.$ih=e.$hh=e.$gh=e.$fh=e.$eh=e.$dh=e.$ch=e.$bh=e.$ah=e.$_g=e.$$g=e.$0g=e.$9g=e.$8g=void 0,e.$7g=c,e.$ph=d,e.$qh=b,$=ee($),m=ee(m);function c(n){return(0,a.$wc)(n,!0)}class o{constructor(t){this.a=t}compare(t,i,r=!1){return t===i?0:(0,s.$yf)(this.getComparisonKey(t,r),this.getComparisonKey(i,r))}isEqual(t,i,r=!1){return t===i?!0:!t||!i?!1:this.getComparisonKey(t,r)===this.getComparisonKey(i,r)}getComparisonKey(t,i=!1){return t.with({path:this.a(t)?t.path.toLowerCase():void 0,fragment:i?null:void 0}).toString()}ignorePathCasing(t){return this.a(t)}isEqualOrParent(t,i,r=!1){if(t.scheme===i.scheme){if(t.scheme===y.Schemas.file)return $.$Eg(c(t),c(i),this.a(t))&&t.query===i.query&&(r||t.fragment===i.fragment);if((0,e.$lh)(t.authority,i.authority))return $.$Eg(t.path,i.path,this.a(t),"/")&&t.query===i.query&&(r||t.fragment===i.fragment)}return!1}joinPath(t,...i){return a.URI.joinPath(t,...i)}basenameOrAuthority(t){return(0,e.$dh)(t)||t.authority}basename(t){return m.$gc.basename(t.path)}extname(t){return m.$gc.extname(t.path)}dirname(t){if(t.path.length===0)return t;let i;return t.scheme===y.Schemas.file?i=a.URI.file(m.$mc(c(t))).path:(i=m.$gc.dirname(t.path),t.authority&&i.length&&i.charCodeAt(0)!==T.CharCode.Slash&&(console.error(`dirname("${t.toString})) resulted in a relative path`),i="/")),t.with({path:i})}normalizePath(t){if(!t.path.length)return t;let i;return t.scheme===y.Schemas.file?i=a.URI.file(m.$hc(c(t))).path:i=m.$gc.normalize(t.path),t.with({path:i})}relativePath(t,i){if(t.scheme!==i.scheme||!(0,e.$lh)(t.authority,i.authority))return;if(t.scheme===y.Schemas.file){const O=m.$lc(c(t),c(i));return f.$j?$.$yg(O):O}let r=t.path||"/";const l=i.path||"/";if(this.a(t)){let O=0;for(const k=Math.min(r.length,l.length);O<k&&!(r.charCodeAt(O)!==l.charCodeAt(O)&&r.charAt(O).toLowerCase()!==l.charAt(O).toLowerCase());O++);r=l.substr(0,O)+r.substr(O)}return m.$gc.relative(r,l)}resolvePath(t,i){if(t.scheme===y.Schemas.file){const r=a.URI.file(m.$kc(c(t),i));return t.with({authority:r.authority,path:r.path})}return i=$.$zg(i),t.with({path:m.$gc.resolve(t.path,i)})}isAbsolutePath(t){return!!t.path&&t.path[0]==="/"}isEqualAuthority(t,i){return t===i||t!==void 0&&i!==void 0&&(0,s.$Ff)(t,i)}hasTrailingPathSeparator(t,i=m.sep){if(t.scheme===y.Schemas.file){const r=c(t);return r.length>$.$Ag(r).length&&r[r.length-1]===i}else{const r=t.path;return r.length>1&&r.charCodeAt(r.length-1)===T.CharCode.Slash&&!/^[a-zA-Z]:(\/$|\\$)/.test(t.fsPath)}}removeTrailingPathSeparator(t,i=m.sep){return(0,e.$mh)(t,i)?t.with({path:t.path.substr(0,t.path.length-1)}):t}addTrailingPathSeparator(t,i=m.sep){let r=!1;if(t.scheme===y.Schemas.file){const l=c(t);r=l!==void 0&&l.length===$.$Ag(l).length&&l[l.length-1]===i}else{i="/";const l=t.path;r=l.length===1&&l.charCodeAt(l.length-1)===T.CharCode.Slash}return!r&&!(0,e.$mh)(t,i)?t.with({path:t.path+"/"}):t}}e.$8g=o,e.$9g=new o(()=>!1),e.$0g=new o(n=>n.scheme===y.Schemas.file?!f.$l:!0),e.$$g=new o(n=>!0),e.$_g=e.$9g.isEqual.bind(e.$9g),e.$ah=e.$9g.isEqualOrParent.bind(e.$9g),e.$bh=e.$9g.getComparisonKey.bind(e.$9g),e.$ch=e.$9g.basenameOrAuthority.bind(e.$9g),e.$dh=e.$9g.basename.bind(e.$9g),e.$eh=e.$9g.extname.bind(e.$9g),e.$fh=e.$9g.dirname.bind(e.$9g),e.$gh=e.$9g.joinPath.bind(e.$9g),e.$hh=e.$9g.normalizePath.bind(e.$9g),e.$ih=e.$9g.relativePath.bind(e.$9g),e.$jh=e.$9g.resolvePath.bind(e.$9g),e.$kh=e.$9g.isAbsolutePath.bind(e.$9g),e.$lh=e.$9g.isEqualAuthority.bind(e.$9g),e.$mh=e.$9g.hasTrailingPathSeparator.bind(e.$9g),e.$nh=e.$9g.removeTrailingPathSeparator.bind(e.$9g),e.$oh=e.$9g.addTrailingPathSeparator.bind(e.$9g);function d(n,t){const i=[];for(let r=0;r<n.length;r++){const l=t(n[r]);n.some((O,k)=>k===r?!1:(0,e.$ah)(l,t(O)))||i.push(n[r])}return i}var v;(function(n){n.META_DATA_LABEL="label",n.META_DATA_DESCRIPTION="description",n.META_DATA_SIZE="size",n.META_DATA_MIME="mime";function t(i){const r=new Map;i.path.substring(i.path.indexOf(";")+1,i.path.lastIndexOf(";")).split(";").forEach(k=>{const[S,j]=k.split(":");S&&j&&r.set(S,j)});const O=i.path.substring(0,i.path.indexOf(";"));return O&&r.set(n.META_DATA_MIME,O),r}n.parseMetaData=t})(v||(e.DataUri=v={}));function b(n,t,i){if(t){let r=n.path;return r&&r[0]!==m.$gc.sep&&(r=m.$gc.sep+r),n.with({scheme:i,authority:t,path:r})}return n.with({scheme:i})}}),define(K[23],Z([0,1,33,8,15,2,22,5,37,36]),function(q,e,T,$,y,m,f,s,a,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$9h=e.$7h=e.$6h=e.$5h=e.$4h=e.Promises=e.$3h=e.$2h=e.$1h=e.$Yh=e.$Xh=e.$Wh=e.$Vh=e.$Uh=e.$Th=e.$Sh=e.$Rh=e.$Qh=e.$Ph=e.$Oh=e.$Nh=e.$Mh=e.$Lh=e.$Fh=e.$Eh=e.$Dh=e.$Ch=e.$Bh=e.$Ah=e.$zh=void 0,e.$rh=o,e.$sh=d,e.$th=v,e.$uh=b,e.$vh=n,e.$wh=t,e.$xh=i,e.$yh=r,e.$Gh=H,e.$Hh=V,e.$Ih=E,e.$Jh=A,e.$Kh=P,e.$Zh=ae,e.$8h=$e;function o(p){return!!p&&typeof p.then=="function"}function d(p){const u=new T.$we,I=p(u.token),M=new Promise((L,G)=>{const X=u.token.onCancellationRequested(()=>{X.dispose(),G(new $.$4)});Promise.resolve(I).then(x=>{X.dispose(),u.dispose(),L(x)},x=>{X.dispose(),u.dispose(),G(x)})});return new class{cancel(){u.cancel(),u.dispose()}then(L,G){return M.then(L,G)}catch(L){return this.then(void 0,L)}finally(L){return M.finally(L)}}}function v(p,u,I){return new Promise((M,L)=>{const G=u.onCancellationRequested(()=>{G.dispose(),M(I)});p.then(M,L).finally(()=>G.dispose())})}function b(p,u){return new Promise((I,M)=>{const L=u.onCancellationRequested(()=>{L.dispose(),M(new $.$4)});p.then(I,M).finally(()=>L.dispose())})}async function n(p){let u=-1;const I=p.map((M,L)=>M.then(G=>(u=L,G)));try{return await Promise.race(I)}finally{p.forEach((M,L)=>{L!==u&&M.cancel()})}}function t(p,u,I){let M;const L=setTimeout(()=>{M?.(void 0),I?.()},u);return Promise.race([p.finally(()=>clearTimeout(L)),new Promise(G=>M=G)])}function i(p){return new Promise((u,I)=>{const M=p();o(M)?M.then(u,I):u(M)})}function r(){let p,u;return{promise:new Promise((M,L)=>{p=M,u=L}),resolve:p,reject:u}}class l{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(u){if(this.f)return Promise.reject(new Error("Throttler is disposed"));if(this.a){if(this.d=u,!this.b){const I=()=>{if(this.b=null,this.f)return;const M=this.queue(this.d);return this.d=null,M};this.b=new Promise(M=>{this.a.then(I,I).then(M)})}return new Promise((I,M)=>{this.b.then(I,M)})}return this.a=u(),new Promise((I,M)=>{this.a.then(L=>{this.a=null,I(L)},L=>{this.a=null,M(L)})})}dispose(){this.f=!0}}e.$zh=l;class O{constructor(){this.a=Promise.resolve(null)}queue(u){return this.a=this.a.then(()=>u(),()=>u())}}e.$Ah=O;class k{constructor(){this.a=new Map}queue(u,I){const L=(this.a.get(u)??Promise.resolve()).catch(()=>{}).then(I).finally(()=>{this.a.get(u)===L&&this.a.delete(u)});return this.a.set(u,L),L}}e.$Bh=k;const S=(p,u)=>{let I=!0;const M=setTimeout(()=>{I=!1,u()},p);return{isTriggered:()=>I,dispose:()=>{clearTimeout(M),I=!1}}},j=p=>{let u=!0;return queueMicrotask(()=>{u&&(u=!1,p())}),{isTriggered:()=>u,dispose:()=>{u=!1}}};class h{constructor(u){this.defaultDelay=u,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(u,I=this.defaultDelay){this.g=u,this.h(),this.b||(this.b=new Promise((L,G)=>{this.d=L,this.f=G}).then(()=>{if(this.b=null,this.d=null,this.g){const L=this.g;return this.g=null,L()}}));const M=()=>{this.a=null,this.d?.(null)};return this.a=I===a.$ge?j(M):S(I,M),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new $.$4),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}e.$Ch=h;class g{constructor(u){this.a=new h(u),this.b=new l}trigger(u,I){return this.a.trigger(()=>this.b.queue(u),I)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}e.$Dh=g;class C{constructor(){this.a=!1,this.b=new Promise((u,I)=>{this.d=u})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}e.$Eh=C;class B extends C{constructor(u){super(),this.f=setTimeout(()=>this.open(),u)}open(){clearTimeout(this.f),super.open()}}e.$Fh=B;function H(p,u){return u?new Promise((I,M)=>{const L=setTimeout(()=>{G.dispose(),I()},p),G=u.onCancellationRequested(()=>{clearTimeout(L),G.dispose(),M(new $.$4)})}):d(I=>H(p,I))}function V(p,u=0,I){const M=setTimeout(()=>{p(),I&&L.dispose()},u),L=(0,m.$Sc)(()=>{clearTimeout(M),I?.deleteAndLeak(L)});return I?.add(L),L}function E(p){const u=[];let I=0;const M=p.length;function L(){return I<M?p[I++]():null}function G(X){X!=null&&u.push(X);const x=L();return x?x.then(G):Promise.resolve(u)}return Promise.resolve(null).then(G)}function A(p,u=M=>!!M,I=null){let M=0;const L=p.length,G=()=>{if(M>=L)return Promise.resolve(I);const X=p[M++];return Promise.resolve(X()).then(se=>u(se)?Promise.resolve(se):G())};return G()}function P(p,u=M=>!!M,I=null){if(p.length===0)return Promise.resolve(I);let M=p.length;const L=()=>{M=-1;for(const G of p)G.cancel?.()};return new Promise((G,X)=>{for(const x of p)x.then(se=>{--M>=0&&u(se)?(L(),G(se)):M===0&&G(I)}).catch(se=>{--M>=0&&(L(),X(se))})})}class w{constructor(u){this.a=0,this.b=!1,this.f=u,this.g=[],this.d=0,this.h=new y.$le}whenIdle(){return this.size>0?y.Event.toPromise(this.onDrained):Promise.resolve()}get onDrained(){return this.h.event}get size(){return this.a}queue(u){if(this.b)throw new Error("Object has been disposed");return this.a++,new Promise((I,M)=>{this.g.push({factory:u,c:I,e:M}),this.j()})}j(){for(;this.g.length&&this.d<this.f;){const u=this.g.shift();this.d++;const I=u.factory();I.then(u.c,u.e),I.then(()=>this.k(),()=>this.k())}}k(){this.b||(this.d--,--this.a===0&&this.h.fire(),this.g.length>0&&this.j())}clear(){if(this.b)throw new Error("Object has been disposed");this.g.length=0,this.a=this.d}dispose(){this.b=!0,this.g.length=0,this.a=0,this.h.dispose()}}e.$Lh=w;class F extends w{constructor(){super(1)}}e.$Mh=F;class W{constructor(){this.a=new oe,this.b=0}queue(u){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,u())):this.a.run(this.b++,u())}}e.$Nh=W;class N{constructor(){this.a=new Map,this.b=new Set,this.d=void 0,this.f=0}async whenDrained(){if(this.g())return;const u=new he;return this.b.add(u),u.p}g(){for(const[,u]of this.a)if(u.size>0)return!1;return!0}queueSize(u,I=f.$9g){const M=I.getComparisonKey(u);return this.a.get(M)?.size??0}queueFor(u,I,M=f.$9g){const L=M.getComparisonKey(u);let G=this.a.get(L);if(!G){G=new F;const X=this.f++,x=y.Event.once(G.onDrained)(()=>{G?.dispose(),this.a.delete(L),this.h(),this.d?.deleteAndDispose(X),this.d?.size===0&&(this.d.dispose(),this.d=void 0)});this.d||(this.d=new m.$4c),this.d.set(X,x),this.a.set(L,G)}return G.queue(I)}h(){this.g()&&this.j()}j(){for(const u of this.b)u.complete();this.b.clear()}dispose(){for(const[,u]of this.a)u.dispose();this.a.clear(),this.j(),this.d?.dispose()}}e.$Oh=N;class D{constructor(u,I){this.b=!1,this.a=-1,typeof u=="function"&&typeof I=="number"&&this.setIfNotSet(u,I)}dispose(){this.cancel(),this.b=!0}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(u,I){if(this.b)throw new $.$bb("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this.a=setTimeout(()=>{this.a=-1,u()},I)}setIfNotSet(u,I){if(this.b)throw new $.$bb("Calling 'setIfNotSet' on a disposed TimeoutTimer");this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,u()},I))}}e.$Ph=D;class R{constructor(){this.d=void 0,this.f=!1}cancel(){this.d?.dispose(),this.d=void 0}cancelAndSet(u,I,M=globalThis){if(this.f)throw new $.$bb("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const L=M.setInterval(()=>{u()},I);this.d=(0,m.$Sc)(()=>{M.clearInterval(L),this.d=void 0})}dispose(){this.cancel(),this.f=!0}}e.$Qh=R;class z{constructor(u,I){this.b=-1,this.a=u,this.d=I,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(u=this.d){this.cancel(),this.b=setTimeout(this.f,u)}get delay(){return this.d}set delay(u){this.d=u}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}e.$Rh=z;class U{constructor(u,I){I%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${I}ms is not a multiple of 1000ms.`),this.a=u,this.b=I,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(u=this.b){u%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${u}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(u/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}e.$Sh=U;class J extends z{constructor(u,I){super(u,I),this.j=[]}work(u){this.j.push(u),this.isScheduled()||this.schedule()}h(){const u=this.j;this.j=[],this.a?.(u)}dispose(){this.j=[],super.dispose()}}e.$Th=J;class Y extends m.$Uc{constructor(u,I){super(),this.g=u,this.h=I,this.a=[],this.b=this.B(new m.$Vc),this.f=!1}get pending(){return this.a.length}work(u){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+u.length>this.g.maxBufferedWork)return!1}else if(this.pending+u.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const I of u)this.a.push(I);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new z(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}e.$Uh=Y,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?e.$Wh=(p,u)=>{(0,s.$C)(()=>{if(I)return;const M=Date.now()+15;u(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,M-Date.now())}}))});let I=!1;return{dispose(){I||(I=!0)}}}:e.$Wh=(p,u,I)=>{const M=p.requestIdleCallback(u,typeof I=="number"?{timeout:I}:void 0);let L=!1;return{dispose(){L||(L=!0,p.cancelIdleCallback(M))}}},e.$Vh=p=>(0,e.$Wh)(globalThis,p)}();class Q{constructor(u,I){this.g=!1,this.d=()=>{try{this.j=I()}catch(M){this.l=M}finally{this.g=!0}},this.f=(0,e.$Wh)(u,()=>this.d())}dispose(){this.f.dispose()}get value(){if(this.g||(this.f.dispose(),this.d()),this.l)throw this.l;return this.j}get isInitialized(){return this.g}}e.$Xh=Q;class te extends Q{constructor(u){super(globalThis,u)}}e.$Yh=te;async function ae(p,u,I){let M;for(let L=0;L<I;L++)try{return await p()}catch(G){M=G,await H(u)}throw M}class oe{isRunning(u){return typeof u=="number"?this.a?.taskId===u:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(u,I,M){return this.a={taskId:u,cancel:()=>M?.(),promise:I},I.then(()=>this.d(u),()=>this.d(u)),I}d(u){this.a&&u===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const u=this.b;this.b=void 0,u.run().then(u.promiseResolve,u.promiseReject)}}queue(u){if(this.b)this.b.run=u;else{const{promise:I,resolve:M,reject:L}=r();this.b={run:u,promise:I,promiseResolve:M,promiseReject:L}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}e.$1h=oe;class re{constructor(u,I=()=>Date.now()){this.d=u,this.f=I,this.a=0,this.b=0}increment(){const u=this.f();return u-this.a>this.d&&(this.a=u,this.b=0),this.b++,this.b}}e.$2h=re;var ie;(function(p){p[p.Resolved=0]="Resolved",p[p.Rejected=1]="Rejected"})(ie||(ie={}));class he{get isRejected(){return this.d?.outcome===ie.Rejected}get isResolved(){return this.d?.outcome===ie.Resolved}get isSettled(){return!!this.d}get value(){return this.d?.outcome===ie.Resolved?this.d?.value:void 0}constructor(){this.p=new Promise((u,I)=>{this.a=u,this.b=I})}complete(u){return new Promise(I=>{this.a(u),this.d={outcome:ie.Resolved,value:u},I()})}error(u){return new Promise(I=>{this.b(u),this.d={outcome:ie.Rejected,value:u},I()})}cancel(){return this.error(new $.$4)}}e.$3h=he;var ue;(function(p){async function u(M){let L;const G=await Promise.all(M.map(X=>X.then(x=>x,x=>{L||(L=x)})));if(typeof L<"u")throw L;return G}p.settled=u;function I(M){return new Promise(async(L,G)=>{try{await M(L,G)}catch(X){G(X)}})}p.withAsyncBody=I})(ue||(e.Promises=ue={}));class ce{get value(){return this.a}get error(){return this.b}get isResolved(){return this.d}constructor(u){this.a=void 0,this.b=void 0,this.d=!1,this.promise=u.then(I=>(this.a=I,this.d=!0,I),I=>{throw this.b=I,this.d=!0,I})}requireValue(){if(!this.d)throw new $.$bb("Promise is not resolved yet");if(this.b)throw this.b;return this.a}}e.$4h=ce;class ge{constructor(u){this.b=u,this.a=new c.$T(()=>new ce(this.b()))}requireValue(){return this.a.value.requireValue()}getPromise(){return this.a.value.promise}get currentValue(){return this.a.rawValue?.value}}e.$5h=ge;var ne;(function(p){p[p.Initial=0]="Initial",p[p.DoneOK=1]="DoneOK",p[p.DoneError=2]="DoneError"})(ne||(ne={}));class _{static fromArray(u){return new _(I=>{I.emitMany(u)})}static fromPromise(u){return new _(async I=>{I.emitMany(await u)})}static fromPromises(u){return new _(async I=>{await Promise.all(u.map(async M=>I.emitOne(await M)))})}static merge(u){return new _(async I=>{await Promise.all(u.map(async M=>{for await(const L of M)I.emitOne(L)}))})}static{this.EMPTY=_.fromArray([])}constructor(u,I){this.a=ne.Initial,this.b=[],this.d=null,this.f=I,this.g=new y.$le,queueMicrotask(async()=>{const M={emitOne:L=>this.h(L),emitMany:L=>this.j(L),reject:L=>this.l(L)};try{await Promise.resolve(u(M)),this.k()}catch(L){this.l(L)}finally{M.emitOne=void 0,M.emitMany=void 0,M.reject=void 0}})}[Symbol.asyncIterator](){let u=0;return{next:async()=>{do{if(this.a===ne.DoneError)throw this.d;if(u<this.b.length)return{done:!1,value:this.b[u++]};if(this.a===ne.DoneOK)return{done:!0,value:void 0};await y.Event.toPromise(this.g.event)}while(!0)},return:async()=>(this.f?.(),{done:!0,value:void 0})}}static map(u,I){return new _(async M=>{for await(const L of u)M.emitOne(I(L))})}map(u){return _.map(this,u)}static filter(u,I){return new _(async M=>{for await(const L of u)I(L)&&M.emitOne(L)})}filter(u){return _.filter(this,u)}static coalesce(u){return _.filter(u,I=>!!I)}coalesce(){return _.coalesce(this)}static async toPromise(u){const I=[];for await(const M of u)I.push(M);return I}toPromise(){return _.toPromise(this)}h(u){this.a===ne.Initial&&(this.b.push(u),this.g.fire())}j(u){this.a===ne.Initial&&(this.b=this.b.concat(u),this.g.fire())}k(){this.a===ne.Initial&&(this.a=ne.DoneOK,this.g.fire())}l(u){this.a===ne.Initial&&(this.a=ne.DoneError,this.d=u,this.g.fire())}}e.$6h=_;class de extends _{constructor(u,I){super(I),this.m=u}cancel(){this.m.cancel()}}e.$7h=de;function $e(p){const u=new T.$we,I=p(u.token);return new de(u,async M=>{const L=u.token.onCancellationRequested(()=>{L.dispose(),u.dispose(),M.reject(new $.$4)});try{for await(const G of I){if(u.token.isCancellationRequested)return;M.emitOne(G)}L.dispose(),u.dispose()}catch(G){L.dispose(),u.dispose(),M.reject(G)}})}class be{constructor(u){this.a=new he,this.b=new _(L=>{if(I){L.reject(I);return}return M&&L.emitMany(M),this.d=G=>L.reject(G),this.f=G=>L.emitOne(G),this.a.p},u);let I,M;this.f=L=>{M||(M=[]),M.push(L)},this.d=L=>{I||(I=L)}}get asyncIterable(){return this.b}resolve(){this.a.complete()}reject(u){this.d(u),this.a.complete()}emitOne(u){this.f(u)}}e.$9h=be}),define(K[24],Z([0,1,18]),function(q,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringEOL=void 0,e.$zu=y;var $;(function(m){m[m.Unknown=0]="Unknown",m[m.Invalid=3]="Invalid",m[m.LF=1]="LF",m[m.CRLF=2]="CRLF"})($||(e.StringEOL=$={}));function y(m){let f=0,s=0,a=0,c=$.Unknown;for(let o=0,d=m.length;o<d;o++){const v=m.charCodeAt(o);v===T.CharCode.CarriageReturn?(f===0&&(s=o),f++,o+1<d&&m.charCodeAt(o+1)===T.CharCode.LineFeed?(c|=$.CRLF,o++):c|=$.Invalid,a=o+1):v===T.CharCode.LineFeed&&(c|=$.LF,f===0&&(s=o),f++,a=o+1)}return f===0&&(s=m.length),[f,s,m.length-a,c]}}),define(K[41],Z([0,1,14]),function(q,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$AD=void 0;class ${constructor(f){this.b=f,this.a=[]}get(f){return f<this.a.length?this.a[f]:this.b}set(f,s){for(;f>=this.a.length;)this.a[this.a.length]=this.b;this.a[f]=s}replace(f,s,a){if(f>=this.a.length)return;if(s===0){this.insert(f,a);return}else if(a===0){this.delete(f,s);return}const c=this.a.slice(0,f),o=this.a.slice(f+s),d=y(a,this.b);this.a=c.concat(d,o)}delete(f,s){s===0||f>=this.a.length||this.a.splice(f,s)}insert(f,s){if(s===0||f>=this.a.length)return;const a=[];for(let c=0;c<s;c++)a[c]=this.b;this.a=(0,T.$Ub)(this.a,f,a)}}e.$AD=$;function y(m,f){const s=[];for(let a=0;a<m;a++)s[a]=f;return s}}),define(K[12],Z([0,1,13]),function(q,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Au=void 0,e.$Bu=m;class ${static{this.defaultTokenMetadata=(T.FontStyle.None<<T.MetadataConsts.FONT_STYLE_OFFSET|T.ColorId.DefaultForeground<<T.MetadataConsts.FOREGROUND_OFFSET|T.ColorId.DefaultBackground<<T.MetadataConsts.BACKGROUND_OFFSET)>>>0}static createEmpty(s,a){const c=$.defaultTokenMetadata,o=new Uint32Array(2);return o[0]=s.length,o[1]=c,new $(o,s,a)}static createFromTextAndMetadata(s,a){let c=0,o="";const d=new Array;for(const{text:v,metadata:b}of s)d.push(c+v.length,b),c+=v.length,o+=v;return new $(new Uint32Array(d),o,a)}constructor(s,a,c){this._lineTokensBrand=void 0,this.a=s,this.b=this.a.length>>>1,this.c=a,this.languageIdCodec=c}equals(s){return s instanceof $?this.slicedEquals(s,0,this.b):!1}slicedEquals(s,a,c){if(this.c!==s.c||this.b!==s.b)return!1;const o=a<<1,d=o+(c<<1);for(let v=o;v<d;v++)if(this.a[v]!==s.a[v])return!1;return!0}getLineContent(){return this.c}getCount(){return this.b}getStartOffset(s){return s>0?this.a[s-1<<1]:0}getMetadata(s){return this.a[(s<<1)+1]}getLanguageId(s){const a=this.a[(s<<1)+1],c=T.$vu.getLanguageId(a);return this.languageIdCodec.decodeLanguageId(c)}getStandardTokenType(s){const a=this.a[(s<<1)+1];return T.$vu.getTokenType(a)}getForeground(s){const a=this.a[(s<<1)+1];return T.$vu.getForeground(a)}getClassName(s){const a=this.a[(s<<1)+1];return T.$vu.getClassNameFromMetadata(a)}getInlineStyle(s,a){const c=this.a[(s<<1)+1];return T.$vu.getInlineStyleFromMetadata(c,a)}getPresentation(s){const a=this.a[(s<<1)+1];return T.$vu.getPresentationFromMetadata(a)}getEndOffset(s){return this.a[s<<1]}findTokenIndexAtOffset(s){return $.findIndexInTokensArray(this.a,s)}inflate(){return this}sliceAndInflate(s,a,c){return new y(this,s,a,c)}static convertToEndOffset(s,a){const o=(s.length>>>1)-1;for(let d=0;d<o;d++)s[d<<1]=s[d+1<<1];s[o<<1]=a}static findIndexInTokensArray(s,a){if(s.length<=2)return 0;let c=0,o=(s.length>>>1)-1;for(;c<o;){const d=c+Math.floor((o-c)/2),v=s[d<<1];if(v===a)return d+1;v<a?c=d+1:v>a&&(o=d)}return c}withInserted(s){if(s.length===0)return this;let a=0,c=0,o="";const d=new Array;let v=0;for(;;){const b=a<this.b?this.a[a<<1]:-1,n=c<s.length?s[c]:null;if(b!==-1&&(n===null||b<=n.offset)){o+=this.c.substring(v,b);const t=this.a[(a<<1)+1];d.push(o.length,t),a++,v=b}else if(n){if(n.offset>v){o+=this.c.substring(v,n.offset);const t=this.a[(a<<1)+1];d.push(o.length,t),v=n.offset}o+=n.text,d.push(o.length,n.tokenMetadata),c++}else break}return new $(new Uint32Array(d),o,this.languageIdCodec)}getTokenText(s){const a=this.getStartOffset(s),c=this.getEndOffset(s);return this.c.substring(a,c)}forEach(s){const a=this.getCount();for(let c=0;c<a;c++)s(c)}}e.$Au=$;class y{constructor(s,a,c,o){this.a=s,this.b=a,this.c=c,this.d=o,this.e=s.findTokenIndexAtOffset(a),this.languageIdCodec=s.languageIdCodec,this.f=0;for(let d=this.e,v=s.getCount();d<v&&!(s.getStartOffset(d)>=c);d++)this.f++}getMetadata(s){return this.a.getMetadata(this.e+s)}getLanguageId(s){return this.a.getLanguageId(this.e+s)}getLineContent(){return this.a.getLineContent().substring(this.b,this.c)}equals(s){return s instanceof y?this.b===s.b&&this.c===s.c&&this.d===s.d&&this.a.slicedEquals(s.a,this.e,this.f):!1}getCount(){return this.f}getStandardTokenType(s){return this.a.getStandardTokenType(this.e+s)}getForeground(s){return this.a.getForeground(this.e+s)}getEndOffset(s){const a=this.a.getEndOffset(this.e+s);return Math.min(this.c,a)-this.b+this.d}getClassName(s){return this.a.getClassName(this.e+s)}getInlineStyle(s,a){return this.a.getInlineStyle(this.e+s,a)}getPresentation(s){return this.a.getPresentation(this.e+s)}findTokenIndexAtOffset(s){return this.a.findTokenIndexAtOffset(s+this.b-this.d)-this.e}getTokenText(s){const a=this.e+s,c=this.a.getStartOffset(a),o=this.a.getEndOffset(a);let d=this.a.getTokenText(a);return c<this.b&&(d=d.substring(this.b-c)),o>this.c&&(d=d.substring(0,d.length-(o-this.c))),d}forEach(s){for(let a=0;a<this.getCount();a++)s(a)}}function m(f,s){const a=s.lineNumber;if(!f.tokenization.isCheapToTokenize(a))return;f.tokenization.forceTokenization(a);const c=f.tokenization.getLineTokens(a),o=c.findTokenIndexAtOffset(s.column-1);return c.getStandardTokenType(o)}}),define(K[42],Z([0,1,12]),function(q,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Du=e.$Cu=void 0,e.$Eu=y,e.$Cu=new Uint32Array(0).buffer;class ${static deleteBeginning(f,s){return f===null||f===e.$Cu?f:$.delete(f,0,s)}static deleteEnding(f,s){if(f===null||f===e.$Cu)return f;const a=y(f),c=a[a.length-2];return $.delete(f,s,c)}static delete(f,s,a){if(f===null||f===e.$Cu||s===a)return f;const c=y(f),o=c.length>>>1;if(s===0&&c[c.length-2]===a)return e.$Cu;const d=T.$Au.findIndexInTokensArray(c,s),v=d>0?c[d-1<<1]:0,b=c[d<<1];if(a<b){const l=a-s;for(let O=d;O<o;O++)c[O<<1]-=l;return f}let n,t;v!==s?(c[d<<1]=s,n=d+1<<1,t=s):(n=d<<1,t=v);const i=a-s;for(let l=d+1;l<o;l++){const O=c[l<<1]-i;O>t&&(c[n++]=O,c[n++]=c[(l<<1)+1],t=O)}if(n===c.length)return f;const r=new Uint32Array(n);return r.set(c.subarray(0,n),0),r.buffer}static append(f,s){if(s===e.$Cu)return f;if(f===e.$Cu)return s;if(f===null)return f;if(s===null)return null;const a=y(f),c=y(s),o=c.length>>>1,d=new Uint32Array(a.length+c.length);d.set(a,0);let v=a.length;const b=a[a.length-2];for(let n=0;n<o;n++)d[v++]=c[n<<1]+b,d[v++]=c[(n<<1)+1];return d.buffer}static insert(f,s,a){if(f===null||f===e.$Cu)return f;const c=y(f),o=c.length>>>1;let d=T.$Au.findIndexInTokensArray(c,s);d>0&&c[d-1<<1]===s&&d--;for(let v=d;v<o;v++)c[v<<1]+=a;return f}}e.$Du=$;function y(m){return m instanceof Uint32Array?m:new Uint32Array(m)}}),define(K[43],Z([0,1,14,17,52,24,42,25]),function(q,e,T,$,y,m,f,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Fu=void 0,T=ee(T);class a{static deserialize(o,d,v){const b=new Uint32Array(o.buffer),n=(0,$.$Re)(o,d);d+=4;const t=(0,$.$Re)(o,d);d+=4;const i=[];for(let r=0;r<t;r++){const l=(0,$.$Re)(o,d);d+=4,i.push(b.subarray(d/4,d/4+l/4)),d+=l}return v.push(new a(n,i)),d}get startLineNumber(){return this.a}get endLineNumber(){return this.a+this.b.length-1}constructor(o,d){this.a=o,this.b=d}getLineRange(){return new s.$Xt(this.a,this.a+this.b.length)}getLineTokens(o){return this.b[o-this.a]}appendLineTokens(o){this.b.push(o)}serializeSize(){let o=0;o+=4,o+=4;for(let d=0;d<this.b.length;d++){const v=this.b[d];if(!(v instanceof Uint32Array))throw new Error("Not supported!");o+=4,o+=v.byteLength}return o}serialize(o,d){(0,$.$Se)(o,this.a,d),d+=4,(0,$.$Se)(o,this.b.length,d),d+=4;for(let v=0;v<this.b.length;v++){const b=this.b[v];if(!(b instanceof Uint32Array))throw new Error("Not supported!");(0,$.$Se)(o,b.byteLength,d),d+=4,o.set(new Uint8Array(b.buffer),d),d+=b.byteLength}return d}applyEdit(o,d){const[v,b]=(0,m.$zu)(d);this.c(o),this.d(new y.$Nt(o.startLineNumber,o.startColumn),v,b)}c(o){if(o.startLineNumber===o.endLineNumber&&o.startColumn===o.endColumn)return;const d=o.startLineNumber-this.a,v=o.endLineNumber-this.a;if(v<0){const b=v-d;this.a-=b;return}if(!(d>=this.b.length)){if(d<0&&v>=this.b.length){this.a=0,this.b=[];return}if(d===v){this.b[d]=f.$Du.delete(this.b[d],o.startColumn-1,o.endColumn-1);return}if(d>=0)if(this.b[d]=f.$Du.deleteEnding(this.b[d],o.startColumn-1),v<this.b.length){const b=f.$Du.deleteBeginning(this.b[v],o.endColumn-1);this.b[d]=f.$Du.append(this.b[d],b),this.b.splice(d+1,v-d)}else this.b[d]=f.$Du.append(this.b[d],null),this.b=this.b.slice(0,d+1);else{const b=-d;this.a-=b,this.b[v]=f.$Du.deleteBeginning(this.b[v],o.endColumn-1),this.b=this.b.slice(v)}}}d(o,d,v){if(d===0&&v===0)return;const b=o.lineNumber-this.a;if(b<0){this.a+=d;return}if(!(b>=this.b.length)){if(d===0){this.b[b]=f.$Du.insert(this.b[b],o.column-1,v);return}this.b[b]=f.$Du.deleteEnding(this.b[b],o.column-1),this.b[b]=f.$Du.insert(this.b[b],o.column-1,v),this.e(o.lineNumber,d)}}e(o,d){if(d===0)return;const v=[];for(let b=0;b<d;b++)v[b]=null;this.b=T.$Ub(this.b,o,v)}}e.$Fu=a}),define(K[26],Z([0,1,17,43]),function(q,e,T,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$BD=void 0;class y{static deserialize(f){let s=0;const a=(0,T.$Re)(f,s);s+=4;const c=[];for(let o=0;o<a;o++)s=$.$Fu.deserialize(f,s,c);return c}constructor(){this.a=[]}add(f,s){if(this.a.length>0){const a=this.a[this.a.length-1];if(a.endLineNumber+1===f){a.appendLineTokens(s);return}}this.a.push(new $.$Fu(f,[s]))}finalize(){return this.a}serialize(){const f=this.b(),s=new Uint8Array(f);return this.c(s),s}b(){let f=0;f+=4;for(let s=0;s<this.a.length;s++)f+=this.a[s].serializeSize();return f}c(f){let s=0;(0,T.$Se)(f,this.a.length,s),s+=4;for(let a=0;a<this.a.length;a++)s=this.a[a].serialize(f,s)}}e.$BD=y}),define(K[27],Z([0,1,44,13]),function(q,e,T,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$xD=void 0,e.$yD=y,e.$zD=m,e.$xD=new class{clone(){return this}equals(f){return this===f}};function y(f,s){return new T.$Iu([new T.$Hu(0,"",f)],s)}function m(f,s){const a=new Uint32Array(2);return a[0]=0,a[1]=(f<<$.MetadataConsts.LANGUAGEID_OFFSET|$.StandardTokenType.Other<<$.MetadataConsts.TOKEN_TYPE_OFFSET|$.FontStyle.None<<$.MetadataConsts.FONT_STYLE_OFFSET|$.ColorId.DefaultForeground<<$.MetadataConsts.FOREGROUND_OFFSET|$.ColorId.DefaultBackground<<$.MetadataConsts.BACKGROUND_OFFSET)>>>0,new T.$Ju(a,s===null?e.$xD:s)}}),define(K[45],Z([0,1,23,8,5,46,24,25,53,13,27,41,26,12]),function(q,e,T,$,y,m,f,s,a,c,o,d,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$HD=e.$GD=e.$FD=e.$ED=e.$DD=e.$CD=void 0;var n;(function(j){j[j.CHEAP_TOKENIZATION_LENGTH_LIMIT=2048]="CHEAP_TOKENIZATION_LENGTH_LIMIT"})(n||(n={}));class t{constructor(h,g){this.tokenizationSupport=g,this.a=this.tokenizationSupport.getInitialState(),this.store=new r(h)}getStartState(h){return this.store.getStartState(h,this.a)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.a)}}e.$CD=t;class i extends t{constructor(h,g,C,B){super(h,g),this._textModel=C,this._languageIdCodec=B}updateTokensUntilLine(h,g){const C=this._textModel.getLanguageId();for(;;){const B=this.getFirstInvalidLine();if(!B||B.lineNumber>g)break;const H=this._textModel.getLineContent(B.lineNumber),V=k(this._languageIdCodec,C,this.tokenizationSupport,H,!0,B.startState);h.add(B.lineNumber,V.tokens),this.store.setEndState(B.lineNumber,V.endState)}}getTokenTypeIfInsertingCharacter(h,g){const C=this.getStartState(h.lineNumber);if(!C)return c.StandardTokenType.Other;const B=this._textModel.getLanguageId(),H=this._textModel.getLineContent(h.lineNumber),V=H.substring(0,h.column-1)+g+H.substring(h.column-1),E=k(this._languageIdCodec,B,this.tokenizationSupport,V,!0,C),A=new b.$Au(E.tokens,V,this._languageIdCodec);if(A.getCount()===0)return c.StandardTokenType.Other;const P=A.findTokenIndexAtOffset(h.column-1);return A.getStandardTokenType(P)}tokenizeLineWithEdit(h,g,C){const B=h.lineNumber,H=h.column,V=this.getStartState(B);if(!V)return null;const E=this._textModel.getLineContent(B),A=E.substring(0,H-1)+C+E.substring(H-1+g),P=this._textModel.getLanguageIdAtPosition(B,0),w=k(this._languageIdCodec,P,this.tokenizationSupport,A,!0,V);return new b.$Au(w.tokens,A,this._languageIdCodec)}hasAccurateTokensForLine(h){const g=this.store.getFirstInvalidEndStateLineNumberOrMax();return h<g}isCheapToTokenize(h){const g=this.store.getFirstInvalidEndStateLineNumberOrMax();return h<g||h===g&&this._textModel.getLineLength(h)<n.CHEAP_TOKENIZATION_LENGTH_LIMIT}tokenizeHeuristically(h,g,C){if(C<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(g<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(h,C),{heuristicTokens:!1};let B=this.b(g);const H=this._textModel.getLanguageId();for(let V=g;V<=C;V++){const E=this._textModel.getLineContent(V),A=k(this._languageIdCodec,H,this.tokenizationSupport,E,!0,B);h.add(V,A.tokens),B=A.endState}return{heuristicTokens:!0}}b(h){let g=this._textModel.getLineFirstNonWhitespaceColumn(h);const C=[];let B=null;for(let E=h-1;g>1&&E>=1;E--){const A=this._textModel.getLineFirstNonWhitespaceColumn(E);if(A!==0&&A<g&&(C.push(this._textModel.getLineContent(E)),g=A,B=this.getStartState(E),B))break}B||(B=this.tokenizationSupport.getInitialState()),C.reverse();const H=this._textModel.getLanguageId();let V=B;for(const E of C)V=k(this._languageIdCodec,H,this.tokenizationSupport,E,!1,V).endState;return V}}e.$DD=i;class r{constructor(h){this.d=h,this.a=new l,this.b=new O,this.b.addRange(new a.$Vt(1,h+1))}getEndState(h){return this.a.getEndState(h)}setEndState(h,g){if(!g)throw new $.$bb("Cannot set null/undefined state");this.b.delete(h);const C=this.a.setEndState(h,g);return C&&h<this.d&&this.b.addRange(new a.$Vt(h+1,h+2)),C}acceptChange(h,g){this.d+=g-h.length,this.a.acceptChange(h,g),this.b.addRangeAndResize(new a.$Vt(h.startLineNumber,h.endLineNumberExclusive),g)}acceptChanges(h){for(const g of h){const[C]=(0,f.$zu)(g.text);this.acceptChange(new s.$Xt(g.range.startLineNumber,g.range.endLineNumber+1),C+1)}}invalidateEndStateRange(h){this.b.addRange(new a.$Vt(h.startLineNumber,h.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this.b.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this.b.min===null}getStartState(h,g){return h===1?g:this.getEndState(h-1)}getFirstInvalidLine(h){const g=this.getFirstInvalidEndStateLineNumber();if(g===null)return null;const C=this.getStartState(g,h);if(!C)throw new $.$bb("Start state must be defined");return{lineNumber:g,startState:C}}}e.$ED=r;class l{constructor(){this.a=new d.$AD(null)}getEndState(h){return this.a.get(h)}setEndState(h,g){const C=this.a.get(h);return C&&C.equals(g)?!1:(this.a.set(h,g),!0)}acceptChange(h,g){let C=h.length;g>0&&C>0&&(C--,g--),this.a.replace(h.startLineNumber,C,g)}acceptChanges(h){for(const g of h){const[C]=(0,f.$zu)(g.text);this.acceptChange(new s.$Xt(g.range.startLineNumber,g.range.endLineNumber+1),C+1)}}}e.$FD=l;class O{constructor(){this.a=[]}getRanges(){return this.a}get min(){return this.a.length===0?null:this.a[0].start}removeMin(){if(this.a.length===0)return null;const h=this.a[0];return h.start+1===h.endExclusive?this.a.shift():this.a[0]=new a.$Vt(h.start+1,h.endExclusive),h.start}delete(h){const g=this.a.findIndex(C=>C.contains(h));if(g!==-1){const C=this.a[g];C.start===h?C.endExclusive===h+1?this.a.splice(g,1):this.a[g]=new a.$Vt(h+1,C.endExclusive):C.endExclusive===h+1?this.a[g]=new a.$Vt(C.start,h):this.a.splice(g,1,new a.$Vt(C.start,h),new a.$Vt(h+1,C.endExclusive))}}addRange(h){a.$Vt.addRange(h,this.a)}addRangeAndResize(h,g){let C=0;for(;!(C>=this.a.length||h.start<=this.a[C].endExclusive);)C++;let B=C;for(;!(B>=this.a.length||h.endExclusive<this.a[B].start);)B++;const H=g-h.length;for(let V=B;V<this.a.length;V++)this.a[V]=this.a[V].delta(H);if(C===B){const V=new a.$Vt(h.start,h.start+g);V.isEmpty||this.a.splice(C,0,V)}else{const V=Math.min(h.start,this.a[C].start),E=Math.max(h.endExclusive,this.a[B-1].endExclusive),A=new a.$Vt(V,E+H);A.isEmpty?this.a.splice(C,B-C):this.a.splice(C,B-C,A)}}toString(){return this.a.map(h=>h.toString()).join(" + ")}}e.$GD=O;function k(j,h,g,C,B,H){let V=null;if(g)try{V=g.tokenizeEncoded(C,B,H.clone())}catch(E){(0,$.$Y)(E)}return V||(V=(0,o.$zD)(j.encodeLanguageId(h),H)),b.$Au.convertToEndOffset(V.tokens,C.length),V}class S{constructor(h,g){this.b=h,this.d=g,this.a=!1,this.f=!1}dispose(){this.a=!0}handleChanges(){this.g()}g(){this.f||!this.b._textModel.isAttachedToEditor()||!this.k()||(this.f=!0,(0,T.$Vh)(h=>{this.f=!1,this.h(h)}))}h(h){const g=Date.now()+h.timeRemaining(),C=()=>{this.a||!this.b._textModel.isAttachedToEditor()||!this.k()||(this.j(),Date.now()<g?(0,y.$C)(C):this.g())};C()}j(){const h=this.b._textModel.getLineCount(),g=new v.$BD,C=m.$fe.create(!1);do if(C.elapsed()>1||this.l(g)>=h)break;while(this.k());this.d.setTokens(g.finalize()),this.checkFinished()}k(){return this.b?!this.b.store.allStatesValid():!1}l(h){const g=this.b?.getFirstInvalidLine();return g?(this.b.updateTokensUntilLine(h,g.lineNumber),g.lineNumber):this.b._textModel.getLineCount()+1}checkFinished(){this.a||this.b.store.allStatesValid()&&this.d.backgroundTokenizationFinished()}requestTokens(h,g){this.b.store.invalidateEndStateRange(new s.$Xt(h,g))}}e.$HD=S}),define(K[47],Z([0,1,15,2,46,13,44]),function(q,e,T,$,y,m,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$IOb=void 0;class s extends $.$Uc{constructor(c,o,d,v,b,n,t){super(),this.c=c,this.f=o,this.g=d,this.h=v,this.j=b,this.m=n,this.n=t,this.a=[],this.b=this.B(new T.$le),this.onDidEncounterLanguage=this.b.event}get backgroundTokenizerShouldOnlyVerifyTokens(){return this.j()}getInitialState(){return this.f}tokenize(c,o,d){throw new Error("Not supported!")}createBackgroundTokenizer(c,o){if(this.h)return this.h(c,o)}tokenizeEncoded(c,o,d){const v=Math.random()*1e4<1,b=this.n||v,n=b?new y.$fe(!0):void 0,t=this.c.tokenizeLine2(c,d,500);if(b){const r=n.elapsed();(v||r>32)&&this.m(r,c.length,v)}if(t.stoppedEarly)return console.warn(`Time limit reached when tokenizing line: ${c.substring(0,100)}`),new f.$Ju(t.tokens,d);if(this.g){const r=this.a,l=t.tokens;for(let O=0,k=l.length>>>1;O<k;O++){const S=l[(O<<1)+1],j=m.$vu.getLanguageId(S);r[j]||(r[j]=!0,this.b.fire(j))}}let i;return d.equals(t.ruleStack)?i=d:i=t.ruleStack,new f.$Ju(t.tokens,i)}}e.$IOb=s}),define(K[48],Z([0,1,27,2,16]),function(q,e,T,$,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$JOb=void 0;class m extends $.$Uc{get backgroundTokenizerShouldOnlyVerifyTokens(){return this.b.backgroundTokenizerShouldOnlyVerifyTokens}constructor(s,a,c,o){super(),this.a=s,this.b=a,this.c=o,this.B((0,y.keepObserved)(this.c)),this.B(c)}getInitialState(){return this.b.getInitialState()}tokenize(s,a,c){throw new Error("Not supported!")}tokenizeEncoded(s,a,c){return s.length>=this.c.get()?(0,T.$zD)(this.a,c):this.b.tokenizeEncoded(s,a,c)}createBackgroundTokenizer(s,a){if(this.b.createBackgroundTokenizer)return this.b.createBackgroundTokenizer(s,a)}}e.$JOb=m}),define(K[49],Z([0,1,40,23,16,5,25,54,45,26,12,47,48,2]),function(q,e,T,$,y,m,f,s,a,c,o,d,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$OOb=void 0;class n extends s.$pw{constructor(r,l,O,k,S,j,h,g){super(r,l,O,k),this.s=S,this.t=j,this.u=h,this.a=null,this.b=!1,this.c=(0,y.observableValue)(this,-1),this.q=new $.$Rh(()=>this.w(),10),this.c.set(g,void 0),this.v()}dispose(){this.b=!0,super.dispose()}onLanguageId(r,l){this.t=r,this.u=l,this.v()}onEvents(r){super.onEvents(r),this.a?.store.acceptChanges(r.changes),this.q.schedule()}acceptMaxTokenizationLineLength(r){this.c.set(r,void 0)}retokenize(r,l){this.a&&(this.a.store.invalidateEndStateRange(new f.$Xt(r,l)),this.q.schedule())}async v(){this.a=null;const r=this.t,l=this.u,O=await this.s.getOrCreateGrammar(r,l);if(!(this.b||r!==this.t||l!==this.u||!O)){if(O.grammar){const k=new v.$JOb(this.u,new d.$IOb(O.grammar,O.initialState,!1,void 0,()=>!1,(S,j,h)=>{this.s.reportTokenizationTime(S,r,O.sourceExtensionId,j,h)},!1),b.$Uc.None,this.c);this.a=new a.$CD(this.f.length,k)}else this.a=null;this.w()}}async w(){if(this.b||!this.a)return;if(!this.m){const{diffStateStacksRefEq:l}=await(0,T.$CE)("vscode-textmate","release/main.js");this.m=l}const r=new Date().getTime();for(;;){let l=0;const O=new c.$BD,k=new t;for(;;){const h=this.a.getFirstInvalidLine();if(h===null||l>200)break;l++;const g=this.f[h.lineNumber-1],C=this.a.tokenizationSupport.tokenizeEncoded(g,!0,h.startState);if(this.a.store.setEndState(h.lineNumber,C.endState)){const H=this.m(h.startState,C.endState);k.setState(h.lineNumber,H)}else k.setState(h.lineNumber,null);if(o.$Au.convertToEndOffset(C.tokens,g.length),O.add(h.lineNumber,C.tokens),new Date().getTime()-r>20)break}if(l===0)break;const S=k.getStateDeltas();if(this.s.setTokensAndStates(this.h,O.serialize(),S),new Date().getTime()-r>20){(0,m.$C)(()=>this.w());return}}}}e.$OOb=n;class t{constructor(){this.a=-1,this.b=[]}setState(r,l){r===this.a+1?this.b[this.b.length-1].stateDeltas.push(l):this.b.push({startLineNumber:r,stateDeltas:[l]}),this.a=r}getStateDeltas(){return this.b}}}),define(K[50],Z([0,1,22]),function(q,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$LOb=void 0,T=ee(T);class ${constructor(){this.a=Object.create(null)}reset(){this.a=Object.create(null)}register(m){if(this.a[m.scopeName]){const f=this.a[m.scopeName];T.$_g(f.location,m.location)||console.warn(`Overwriting grammar scope name to file mapping for scope ${m.scopeName}.
Old grammar file: ${f.location.toString()}.
New grammar file: ${m.location.toString()}`)}this.a[m.scopeName]=m}getGrammarDefinition(m){return this.a[m]||null}}e.$LOb=$}),define(K[51],Z([0,1,2,50]),function(q,e,T,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$NOb=e.$MOb=void 0,e.$MOb="No TM Grammar registered for this language.";class y extends T.$Uc{constructor(f,s,a,c){super(),this.a=f,this.b=a.INITIAL,this.c=new $.$LOb,this.f={},this.g={},this.h=new Map,this.j=this.B(new a.Registry({onigLib:c,loadGrammar:async o=>{const d=this.c.getGrammarDefinition(o);if(!d)return this.a.logTrace(`No grammar found for scope ${o}`),null;const v=d.location;try{const b=await this.a.readFile(v);return a.parseRawGrammar(b,v.path)}catch(b){return this.a.logError(`Unable to load and parse grammar for scope ${o} from ${v}`,b),null}},getInjections:o=>{const d=o.split(".");let v=[];for(let b=1;b<=d.length;b++){const n=d.slice(0,b).join(".");v=[...v,...this.f[n]||[]]}return v}}));for(const o of s){if(this.c.register(o),o.injectTo){for(const d of o.injectTo){let v=this.f[d];v||(this.f[d]=v=[]),v.push(o.scopeName)}if(o.embeddedLanguages)for(const d of o.injectTo){let v=this.g[d];v||(this.g[d]=v=[]),v.push(o.embeddedLanguages)}}o.language&&this.h.set(o.language,o.scopeName)}}has(f){return this.h.has(f)}setTheme(f,s){this.j.setTheme(f,s)}getColorMap(){return this.j.getColorMap()}async createGrammar(f,s){const a=this.h.get(f);if(typeof a!="string")throw new Error(e.$MOb);const c=this.c.getGrammarDefinition(a);if(!c)throw new Error(e.$MOb);const o=c.embeddedLanguages;if(this.g[a]){const b=this.g[a];for(const n of b)for(const t of Object.keys(n))o[t]=n[t]}const d=Object.keys(o).length>0;let v;try{v=await this.j.loadGrammarWithConfiguration(a,s,{embeddedLanguages:o,tokenTypes:c.tokenTypes,balancedBracketSelectors:c.balancedBracketSelectors,unbalancedBracketSelectors:c.unbalancedBracketSelectors})}catch(b){throw b.message&&b.message.startsWith("No grammar provided for")?new Error(e.$MOb):b}return{languageId:f,grammar:v,initialState:this.b,containsEmbeddedLanguages:d,sourceExtensionId:c.sourceExtensionId}}}e.$NOb=y}),define(K[55],Z([0,1,11,51,49]),function(q,e,T,$,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextMateTokenizationWorker=void 0,e.create=m;function m(s,a){return new f(s,a)}class f{constructor(a,c){this.f=c,this.b=new Map,this.c=[],this.a=a.host;const o=c.grammarDefinitions.map(d=>({location:T.URI.revive(d.location),language:d.language,scopeName:d.scopeName,embeddedLanguages:d.embeddedLanguages,tokenTypes:d.tokenTypes,injectTo:d.injectTo,balancedBracketSelectors:d.balancedBracketSelectors,unbalancedBracketSelectors:d.unbalancedBracketSelectors,sourceExtensionId:d.sourceExtensionId}));this.d=this.g(o)}async g(a){const c=this.f.textmateMainUri,o=await new Promise((t,i)=>{q([c],t,i)}).then(ee),d=await new Promise((t,i)=>{q([this.f.onigurumaMainUri],t,i)}).then(ee),b=await(await fetch(this.f.onigurumaWASMUri)).arrayBuffer();await d.loadWASM(b);const n=Promise.resolve({createOnigScanner:t=>d.createOnigScanner(t),createOnigString:t=>d.createOnigString(t)});return new $.$NOb({logTrace:t=>{},logError:(t,i)=>console.error(t,i),readFile:t=>this.a.readFile(t)},a,o,n)}acceptNewModel(a){const c=T.URI.revive(a.uri),o=this;this.b.set(a.controllerId,new y.$OOb(c,a.lines,a.EOL,a.versionId,{async getOrCreateGrammar(d,v){const b=await o.d;return b?(o.c[v]||(o.c[v]=b.createGrammar(d,v)),o.c[v]):Promise.resolve(null)},setTokensAndStates(d,v,b){o.a.setTokensAndStates(a.controllerId,d,v,b)},reportTokenizationTime(d,v,b,n,t){o.a.reportTokenizationTime(d,v,b,n,t)}},a.languageId,a.encodedLanguageId,a.maxTokenizationLineLength))}acceptModelChanged(a,c){this.b.get(a).onEvents(c)}retokenize(a,c,o){this.b.get(a).retokenize(c,o)}acceptModelLanguageChanged(a,c,o){this.b.get(a).onLanguageId(c,o)}acceptRemovedModel(a){const c=this.b.get(a);c&&(c.dispose(),this.b.delete(a))}async acceptTheme(a,c){(await this.d)?.setTheme(a,c)}acceptMaxTokenizationLineLength(a,c){this.b.get(a).acceptMaxTokenizationLineLength(c)}}e.TextMateTokenizationWorker=f})}).call(this);

//# sourceMappingURL=https://main.vscode-cdn.net/sourcemaps/b1c0a14de1414fcdaa400695b4db1c0799bc3124/core/vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateTokenizationWorker.worker.js.map
